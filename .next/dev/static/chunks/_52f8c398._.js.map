{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/hooks/use-mobile.ts"],"sourcesContent":["import * as React from 'react'\r\n\r\nconst MOBILE_BREAKPOINT = 768\r\n\r\nexport function useIsMobile() {\r\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\r\n\r\n  React.useEffect(() => {\r\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\r\n    const onChange = () => {\r\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\r\n    }\r\n    mql.addEventListener('change', onChange)\r\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\r\n    return () => mql.removeEventListener('change', onChange)\r\n  }, [])\r\n\r\n  return !!isMobile\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,ySAAc,CAAsB;IAEpE,0SAAe;iCAAC;YACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;YACvE,MAAM;kDAAW;oBACf,YAAY,OAAO,UAAU,GAAG;gBAClC;;YACA,IAAI,gBAAgB,CAAC,UAAU;YAC/B,YAAY,OAAO,UAAU,GAAG;YAChC;yCAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;;QACjD;gCAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX;GAdgB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Formatea un número con separador de miles (.) y sin decimales\r\n * Ejemplo: 1234567 -> \"1.234.567\"\r\n */\r\nexport function formatCurrency(value: number | string): string {\r\n  const num = typeof value === 'string' ? parseFloat(value) : value\r\n  if (isNaN(num)) return '0'\r\n  return Math.round(num).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n}\r\n\r\n/**\r\n * Normaliza un texto eliminando tildes y acentos para búsquedas\r\n * Ejemplo: \"Pantalón\" -> \"pantalon\", \"Cámara\" -> \"camara\"\r\n */\r\nexport function normalizeText(text: string): string {\r\n  return text\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB;AAMO,SAAS,eAAe,KAAsB;IACnD,MAAM,MAAM,OAAO,UAAU,WAAW,WAAW,SAAS;IAC5D,IAAI,MAAM,MAAM,OAAO;IACvB,OAAO,KAAK,KAAK,CAAC,KAAK,QAAQ,GAAG,OAAO,CAAC,yBAAyB;AACrE;AAMO,SAAS,cAAc,IAAY;IACxC,OAAO,KACJ,WAAW,GACX,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB;AACjC"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\r\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6TAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/separator.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = 'horizontal',\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6TAAC,uRAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/sheet.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SheetPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\r\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\r\n}\r\n\r\nfunction SheetTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\r\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\r\n}\r\n\r\nfunction SheetClose({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\r\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\r\n}\r\n\r\nfunction SheetPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\r\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\r\n}\r\n\r\nfunction SheetOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\r\n  return (\r\n    <SheetPrimitive.Overlay\r\n      data-slot=\"sheet-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetContent({\r\n  className,\r\n  children,\r\n  side = 'right',\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\r\n  side?: 'top' | 'right' | 'bottom' | 'left'\r\n}) {\r\n  return (\r\n    <SheetPortal>\r\n      <SheetOverlay />\r\n      <SheetPrimitive.Content\r\n        data-slot=\"sheet-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',\r\n          side === 'right' &&\r\n            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',\r\n          side === 'left' &&\r\n            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',\r\n          side === 'top' &&\r\n            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',\r\n          side === 'bottom' &&\r\n            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\r\n          <XIcon className=\"size-4\" />\r\n          <span className=\"sr-only\">Close</span>\r\n        </SheetPrimitive.Close>\r\n      </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n  )\r\n}\r\n\r\nfunction SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-header\"\r\n      className={cn('flex flex-col gap-1.5 p-4', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-footer\"\r\n      className={cn('mt-auto flex flex-col gap-2 p-4', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\r\n  return (\r\n    <SheetPrimitive.Title\r\n      data-slot=\"sheet-title\"\r\n      className={cn('text-foreground font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SheetDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\r\n  return (\r\n    <SheetPrimitive.Description\r\n      data-slot=\"sheet-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Sheet,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,6TAAC,0RAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;KAFS;AAIT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6TAAC,6RAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,6TAAC,2RAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6TAAC,4RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6TAAC,6RAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,6TAAC;;0BACC,6TAAC;;;;;0BACD,6TAAC,6RAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,6TAAC,2RAAoB;wBAAC,WAAU;;0CAC9B,6TAAC,gSAAK;gCAAC,WAAU;;;;;;0CACjB,6TAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAnCS;AAqCT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6TAAC,2RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6TAAC,iSAA0B;QACzB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"skeleton\"\r\n      className={cn('bg-accent animate-pulse rounded-md', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Skeleton }\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/tooltip.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Tooltip({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return (\r\n    <TooltipProvider>\r\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\nfunction TooltipTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          'bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  )\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6TAAC,4RAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6TAAC;kBACC,cAAA,6TAAC,wRAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6TAAC,2RAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6TAAC,0RAAuB;kBACtB,cAAA,6TAAC,2RAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6TAAC,yRAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS"}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, VariantProps } from 'class-variance-authority'\r\nimport { PanelLeftIcon } from 'lucide-react'\r\n\r\nimport { useIsMobile } from '@/hooks/use-mobile'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from '@/components/ui/sheet'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '@/components/ui/tooltip'\r\n\r\nconst SIDEBAR_COOKIE_NAME = 'sidebar_state'\r\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\r\nconst SIDEBAR_WIDTH = '16rem'\r\nconst SIDEBAR_WIDTH_MOBILE = '18rem'\r\nconst SIDEBAR_WIDTH_ICON = '3rem'\r\nconst SIDEBAR_KEYBOARD_SHORTCUT = 'b'\r\n\r\ntype SidebarContextProps = {\r\n  state: 'expanded' | 'collapsed'\r\n  open: boolean\r\n  setOpen: (open: boolean) => void\r\n  openMobile: boolean\r\n  setOpenMobile: (open: boolean) => void\r\n  isMobile: boolean\r\n  toggleSidebar: () => void\r\n}\r\n\r\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\r\n\r\nfunction useSidebar() {\r\n  const context = React.useContext(SidebarContext)\r\n  if (!context) {\r\n    throw new Error('useSidebar must be used within a SidebarProvider.')\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nfunction SidebarProvider({\r\n  defaultOpen = true,\r\n  open: openProp,\r\n  onOpenChange: setOpenProp,\r\n  className,\r\n  style,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<'div'> & {\r\n  defaultOpen?: boolean\r\n  open?: boolean\r\n  onOpenChange?: (open: boolean) => void\r\n}) {\r\n  const isMobile = useIsMobile()\r\n  const [openMobile, setOpenMobile] = React.useState(false)\r\n\r\n  // This is the internal state of the sidebar.\r\n  // We use openProp and setOpenProp for control from outside the component.\r\n  const [_open, _setOpen] = React.useState(defaultOpen)\r\n  const open = openProp ?? _open\r\n  const setOpen = React.useCallback(\r\n    (value: boolean | ((value: boolean) => boolean)) => {\r\n      const openState = typeof value === 'function' ? value(open) : value\r\n      if (setOpenProp) {\r\n        setOpenProp(openState)\r\n      } else {\r\n        _setOpen(openState)\r\n      }\r\n\r\n      // This sets the cookie to keep the sidebar state.\r\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\r\n    },\r\n    [setOpenProp, open],\r\n  )\r\n\r\n  // Helper to toggle the sidebar.\r\n  const toggleSidebar = React.useCallback(() => {\r\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\r\n  }, [isMobile, setOpen, setOpenMobile])\r\n\r\n  // Adds a keyboard shortcut to toggle the sidebar.\r\n  React.useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (\r\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\r\n        (event.metaKey || event.ctrlKey)\r\n      ) {\r\n        event.preventDefault()\r\n        toggleSidebar()\r\n      }\r\n    }\r\n\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    return () => window.removeEventListener('keydown', handleKeyDown)\r\n  }, [toggleSidebar])\r\n\r\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n  // This makes it easier to style the sidebar with Tailwind classes.\r\n  const state = open ? 'expanded' : 'collapsed'\r\n\r\n  const contextValue = React.useMemo<SidebarContextProps>(\r\n    () => ({\r\n      state,\r\n      open,\r\n      setOpen,\r\n      isMobile,\r\n      openMobile,\r\n      setOpenMobile,\r\n      toggleSidebar,\r\n    }),\r\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\r\n  )\r\n\r\n  return (\r\n    <SidebarContext.Provider value={contextValue}>\r\n      <TooltipProvider delayDuration={0}>\r\n        <div\r\n          data-slot=\"sidebar-wrapper\"\r\n          style={\r\n            {\r\n              '--sidebar-width': SIDEBAR_WIDTH,\r\n              '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,\r\n              ...style,\r\n            } as React.CSSProperties\r\n          }\r\n          className={cn(\r\n            'group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full',\r\n            className,\r\n          )}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </TooltipProvider>\r\n    </SidebarContext.Provider>\r\n  )\r\n}\r\n\r\nfunction Sidebar({\r\n  side = 'left',\r\n  variant = 'sidebar',\r\n  collapsible = 'offcanvas',\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<'div'> & {\r\n  side?: 'left' | 'right'\r\n  variant?: 'sidebar' | 'floating' | 'inset'\r\n  collapsible?: 'offcanvas' | 'icon' | 'none'\r\n}) {\r\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\r\n\r\n  if (collapsible === 'none') {\r\n    return (\r\n      <div\r\n        data-slot=\"sidebar\"\r\n        className={cn(\r\n          'bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\r\n        <SheetContent\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar\"\r\n          data-mobile=\"true\"\r\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\r\n          style={\r\n            {\r\n              '--sidebar-width': SIDEBAR_WIDTH_MOBILE,\r\n            } as React.CSSProperties\r\n          }\r\n          side={side}\r\n        >\r\n          <SheetHeader className=\"sr-only\">\r\n            <SheetTitle>Sidebar</SheetTitle>\r\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\r\n          </SheetHeader>\r\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"group peer text-sidebar-foreground hidden md:block\"\r\n      data-state={state}\r\n      data-collapsible={state === 'collapsed' ? collapsible : ''}\r\n      data-variant={variant}\r\n      data-side={side}\r\n      data-slot=\"sidebar\"\r\n    >\r\n      {/* This is what handles the sidebar gap on desktop */}\r\n      <div\r\n        data-slot=\"sidebar-gap\"\r\n        className={cn(\r\n          'relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear',\r\n          'group-data-[collapsible=offcanvas]:w-0',\r\n          'group-data-[side=right]:rotate-180',\r\n          variant === 'floating' || variant === 'inset'\r\n            ? 'group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]'\r\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon)',\r\n        )}\r\n      />\r\n      <div\r\n        data-slot=\"sidebar-container\"\r\n        className={cn(\r\n          'fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex',\r\n          side === 'left'\r\n            ? 'left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]'\r\n            : 'right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]',\r\n          // Adjust the padding for floating and inset variants.\r\n          variant === 'floating' || variant === 'inset'\r\n            ? 'p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]'\r\n            : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        <div\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar-inner\"\r\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SidebarTrigger({\r\n  className,\r\n  onClick,\r\n  ...props\r\n}: React.ComponentProps<typeof Button>) {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <Button\r\n      data-sidebar=\"trigger\"\r\n      data-slot=\"sidebar-trigger\"\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={cn('size-7', className)}\r\n      onClick={(event) => {\r\n        onClick?.(event)\r\n        toggleSidebar()\r\n      }}\r\n      {...props}\r\n    >\r\n      <PanelLeftIcon />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  )\r\n}\r\n\r\nfunction SidebarRail({ className, ...props }: React.ComponentProps<'button'>) {\r\n  const { toggleSidebar } = useSidebar()\r\n\r\n  return (\r\n    <button\r\n      data-sidebar=\"rail\"\r\n      data-slot=\"sidebar-rail\"\r\n      aria-label=\"Toggle Sidebar\"\r\n      tabIndex={-1}\r\n      onClick={toggleSidebar}\r\n      title=\"Toggle Sidebar\"\r\n      className={cn(\r\n        'hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex',\r\n        'in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize',\r\n        '[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize',\r\n        'hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full',\r\n        '[[data-side=left][data-collapsible=offcanvas]_&]:-right-2',\r\n        '[[data-side=right][data-collapsible=offcanvas]_&]:-left-2',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarInset({ className, ...props }: React.ComponentProps<'main'>) {\r\n  return (\r\n    <main\r\n      data-slot=\"sidebar-inset\"\r\n      className={cn(\r\n        'bg-background relative flex w-full flex-1 flex-col',\r\n        'md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarInput({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof Input>) {\r\n  return (\r\n    <Input\r\n      data-slot=\"sidebar-input\"\r\n      data-sidebar=\"input\"\r\n      className={cn('bg-background h-8 w-full shadow-none', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-header\"\r\n      data-sidebar=\"header\"\r\n      className={cn('flex flex-col gap-2 p-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-footer\"\r\n      data-sidebar=\"footer\"\r\n      className={cn('flex flex-col gap-2 p-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof Separator>) {\r\n  return (\r\n    <Separator\r\n      data-slot=\"sidebar-separator\"\r\n      data-sidebar=\"separator\"\r\n      className={cn('bg-sidebar-border mx-2 w-auto', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-content\"\r\n      data-sidebar=\"content\"\r\n      className={cn(\r\n        'flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group\"\r\n      data-sidebar=\"group\"\r\n      className={cn('relative flex w-full min-w-0 flex-col p-2', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupLabel({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'div'> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'div'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-label\"\r\n      data-sidebar=\"group-label\"\r\n      className={cn(\r\n        'text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\r\n        'group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupAction({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-action\"\r\n      data-sidebar=\"group-action\"\r\n      className={cn(\r\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\r\n        // Increases the hit area of the button on mobile.\r\n        'after:absolute after:-inset-2 md:after:hidden',\r\n        'group-data-[collapsible=icon]:hidden',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarGroupContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group-content\"\r\n      data-sidebar=\"group-content\"\r\n      className={cn('w-full text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<'ul'>) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu\"\r\n      data-sidebar=\"menu\"\r\n      className={cn('flex w-full min-w-0 flex-col gap-1', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<'li'>) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-item\"\r\n      data-sidebar=\"menu-item\"\r\n      className={cn('group/menu-item relative', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nconst sidebarMenuButtonVariants = cva(\r\n  'peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'hover:bg-sidebar-accent hover:text-sidebar-accent-foreground',\r\n        outline:\r\n          'bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]',\r\n      },\r\n      size: {\r\n        default: 'h-8 text-sm',\r\n        sm: 'h-7 text-xs',\r\n        lg: 'h-12 text-sm group-data-[collapsible=icon]:p-0!',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction SidebarMenuButton({\r\n  asChild = false,\r\n  isActive = false,\r\n  variant = 'default',\r\n  size = 'default',\r\n  tooltip,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'button'> & {\r\n  asChild?: boolean\r\n  isActive?: boolean\r\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\r\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\r\n  const Comp = asChild ? Slot : 'button'\r\n  const { isMobile, state } = useSidebar()\r\n\r\n  const button = (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-button\"\r\n      data-sidebar=\"menu-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n\r\n  if (!tooltip) {\r\n    return button\r\n  }\r\n\r\n  if (typeof tooltip === 'string') {\r\n    tooltip = {\r\n      children: tooltip,\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Tooltip>\r\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\r\n      <TooltipContent\r\n        side=\"right\"\r\n        align=\"center\"\r\n        hidden={state !== 'collapsed' || isMobile}\r\n        {...tooltip}\r\n      />\r\n    </Tooltip>\r\n  )\r\n}\r\n\r\nfunction SidebarMenuAction({\r\n  className,\r\n  asChild = false,\r\n  showOnHover = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> & {\r\n  asChild?: boolean\r\n  showOnHover?: boolean\r\n}) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-action\"\r\n      data-sidebar=\"menu-action\"\r\n      className={cn(\r\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',\r\n        // Increases the hit area of the button on mobile.\r\n        'after:absolute after:-inset-2 md:after:hidden',\r\n        'peer-data-[size=sm]/menu-button:top-1',\r\n        'peer-data-[size=default]/menu-button:top-1.5',\r\n        'peer-data-[size=lg]/menu-button:top-2.5',\r\n        'group-data-[collapsible=icon]:hidden',\r\n        showOnHover &&\r\n          'peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuBadge({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-badge\"\r\n      data-sidebar=\"menu-badge\"\r\n      className={cn(\r\n        'text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none',\r\n        'peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground',\r\n        'peer-data-[size=sm]/menu-button:top-1',\r\n        'peer-data-[size=default]/menu-button:top-1.5',\r\n        'peer-data-[size=lg]/menu-button:top-2.5',\r\n        'group-data-[collapsible=icon]:hidden',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSkeleton({\r\n  className,\r\n  showIcon = false,\r\n  ...props\r\n}: React.ComponentProps<'div'> & {\r\n  showIcon?: boolean\r\n}) {\r\n  // Random width between 50 to 90%.\r\n  const width = React.useMemo(() => {\r\n    return `${Math.floor(Math.random() * 40) + 50}%`\r\n  }, [])\r\n\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-skeleton\"\r\n      data-sidebar=\"menu-skeleton\"\r\n      className={cn('flex h-8 items-center gap-2 rounded-md px-2', className)}\r\n      {...props}\r\n    >\r\n      {showIcon && (\r\n        <Skeleton\r\n          className=\"size-4 rounded-md\"\r\n          data-sidebar=\"menu-skeleton-icon\"\r\n        />\r\n      )}\r\n      <Skeleton\r\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\r\n        data-sidebar=\"menu-skeleton-text\"\r\n        style={\r\n          {\r\n            '--skeleton-width': width,\r\n          } as React.CSSProperties\r\n        }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<'ul'>) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu-sub\"\r\n      data-sidebar=\"menu-sub\"\r\n      className={cn(\r\n        'border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5',\r\n        'group-data-[collapsible=icon]:hidden',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSubItem({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'li'>) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-sub-item\"\r\n      data-sidebar=\"menu-sub-item\"\r\n      className={cn('group/menu-sub-item relative', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SidebarMenuSubButton({\r\n  asChild = false,\r\n  size = 'md',\r\n  isActive = false,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<'a'> & {\r\n  asChild?: boolean\r\n  size?: 'sm' | 'md'\r\n  isActive?: boolean\r\n}) {\r\n  const Comp = asChild ? Slot : 'a'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-sub-button\"\r\n      data-sidebar=\"menu-sub-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(\r\n        'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',\r\n        'data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground',\r\n        size === 'sm' && 'text-xs',\r\n        size === 'md' && 'text-sm',\r\n        'group-data-[collapsible=icon]:hidden',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupAction,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarInset,\r\n  SidebarMenu,\r\n  SidebarMenuAction,\r\n  SidebarMenuBadge,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarMenuSkeleton,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubButton,\r\n  SidebarMenuSubItem,\r\n  SidebarProvider,\r\n  SidebarRail,\r\n  SidebarSeparator,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1306, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/collapsible.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as CollapsiblePrimitive from '@radix-ui/react-collapsible'\r\n\r\nfunction Collapsible({\r\n  ...props\r\n}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {\r\n  return <CollapsiblePrimitive.Root data-slot=\"collapsible\" {...props} />\r\n}\r\n\r\nfunction CollapsibleTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {\r\n  return (\r\n    <CollapsiblePrimitive.CollapsibleTrigger\r\n      data-slot=\"collapsible-trigger\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CollapsibleContent({\r\n  ...props\r\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {\r\n  return (\r\n    <CollapsiblePrimitive.CollapsibleContent\r\n      data-slot=\"collapsible-content\"\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAFA;;;AAIA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,6TAAC,sRAAyB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AACrE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,6TAAC,oSAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS;AAWT,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,6TAAC,oSAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;MATS"}},
    {"offset": {"line": 1364, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/lib/auth/permissions.ts"],"sourcesContent":["export type Role = 'administrador' | 'vendedor';\r\n\r\nexport type Permission =\r\n  // Productos\r\n  | 'productos.ver'\r\n  | 'productos.crear'\r\n  | 'productos.editar'\r\n  | 'productos.eliminar'\r\n  | 'productos.precios'\r\n  // Inventario\r\n  | 'inventario.ver'\r\n  | 'inventario.ajustar'\r\n  | 'inventario.movimientos'\r\n  // Ventas\r\n  | 'ventas.crear'\r\n  | 'ventas.ver'\r\n  | 'ventas.anular'\r\n  | 'ventas.devolucion'\r\n  // Clientes\r\n  | 'clientes.ver'\r\n  | 'clientes.crear'\r\n  | 'clientes.editar'\r\n  | 'clientes.eliminar'\r\n  | 'clientes.abonar'\r\n  // Proveedores\r\n  | 'proveedores.ver'\r\n  | 'proveedores.crear'\r\n  | 'proveedores.editar'\r\n  | 'proveedores.eliminar'\r\n  // Compras\r\n  | 'compras.ver'\r\n  | 'compras.crear'\r\n  | 'compras.editar'\r\n  | 'compras.anular'\r\n  // Caja\r\n  | 'caja.abrir'\r\n  | 'caja.cerrar'\r\n  | 'caja.movimientos'\r\n  | 'caja.ver'\r\n  // Reportes\r\n  | 'reportes.ventas'\r\n  | 'reportes.inventario'\r\n  | 'reportes.financieros'\r\n  | 'reportes.clientes'\r\n  // Configuración\r\n  | 'config.ver'\r\n  | 'config.editar'\r\n  | 'config.webhooks'\r\n  // Usuarios\r\n  | 'usuarios.ver'\r\n  | 'usuarios.crear'\r\n  | 'usuarios.editar'\r\n  | 'usuarios.eliminar'\r\n  // Descuentos\r\n  | 'descuentos.ver'\r\n  | 'descuentos.crear'\r\n  | 'descuentos.editar'\r\n  | 'descuentos.eliminar'\r\n  // Gastos\r\n  | 'gastos.ver'\r\n  | 'gastos.crear'\r\n  | 'gastos.editar'\r\n  | 'gastos.eliminar';\r\n\r\n// Definir permisos por rol (FUENTE ÚNICA DE VERDAD)\r\nexport const ROLE_PERMISSIONS: Record<Role, Permission[]> = {\r\n  administrador: [\r\n    // TODOS los permisos\r\n    'productos.ver',\r\n    'productos.crear',\r\n    'productos.editar',\r\n    'productos.eliminar',\r\n    'productos.precios',\r\n    'inventario.ver',\r\n    'inventario.ajustar',\r\n    'inventario.movimientos',\r\n    'ventas.crear',\r\n    'ventas.ver',\r\n    'ventas.anular',\r\n    'ventas.devolucion',\r\n    'clientes.ver',\r\n    'clientes.crear',\r\n    'clientes.editar',\r\n    'clientes.eliminar',\r\n    'clientes.abonar',\r\n    'proveedores.ver',\r\n    'proveedores.crear',\r\n    'proveedores.editar',\r\n    'proveedores.eliminar',\r\n    'compras.ver',\r\n    'compras.crear',\r\n    'compras.editar',\r\n    'compras.anular',\r\n    'caja.abrir',\r\n    'caja.cerrar',\r\n    'caja.movimientos',\r\n    'caja.ver',\r\n    'reportes.ventas',\r\n    'reportes.inventario',\r\n    'reportes.financieros',\r\n    'reportes.clientes',\r\n    'config.ver',\r\n    'config.editar',\r\n    'config.webhooks',\r\n    'usuarios.ver',\r\n    'usuarios.crear',\r\n    'usuarios.editar',\r\n    'usuarios.eliminar',\r\n    'descuentos.ver',\r\n    'descuentos.crear',\r\n    'descuentos.editar',\r\n    'descuentos.eliminar',\r\n    'gastos.ver',\r\n    'gastos.crear',\r\n    'gastos.editar',\r\n    'gastos.eliminar',\r\n  ],\r\n  \r\n  vendedor: [\r\n    // Solo puede abrir caja y registrar ventas\r\n    'caja.abrir',\r\n    'caja.cerrar',\r\n    'ventas.crear',\r\n    'ventas.ver',\r\n    'clientes.ver', // Necesita ver clientes para asignar en ventas\r\n    'clientes.abonar', // Puede registrar abonos\r\n  ],\r\n};\r\n\r\n// Función para verificar si un rol tiene un permiso\r\nexport function hasPermission(role: Role, permission: Permission): boolean {\r\n  return ROLE_PERMISSIONS[role].includes(permission);\r\n}\r\n\r\n// Función para obtener todos los permisos de un rol\r\nexport function getRolePermissions(role: Role): Permission[] {\r\n  return ROLE_PERMISSIONS[role];\r\n}\r\n\r\n// Información descriptiva de roles\r\nexport const ROLE_INFO: Record<Role, { nombre: string; descripcion: string; color: string }> = {\r\n  administrador: {\r\n    nombre: 'Administrador',\r\n    descripcion: 'Acceso total al sistema con todos los permisos',\r\n    color: 'bg-red-500',\r\n  },\r\n  vendedor: {\r\n    nombre: 'Vendedor',\r\n    descripcion: 'Puede abrir caja y registrar ventas únicamente',\r\n    color: 'bg-blue-500',\r\n  },\r\n};\r\n\r\n// Obtener información de un permiso\r\nexport const PERMISSION_INFO: Record<Permission, { nombre: string; modulo: string }> = {\r\n  'productos.ver': { nombre: 'Ver Productos', modulo: 'Productos' },\r\n  'productos.crear': { nombre: 'Crear Productos', modulo: 'Productos' },\r\n  'productos.editar': { nombre: 'Editar Productos', modulo: 'Productos' },\r\n  'productos.eliminar': { nombre: 'Eliminar Productos', modulo: 'Productos' },\r\n  'productos.precios': { nombre: 'Gestionar Precios', modulo: 'Productos' },\r\n  'inventario.ver': { nombre: 'Ver Inventario', modulo: 'Inventario' },\r\n  'inventario.ajustar': { nombre: 'Ajustar Inventario', modulo: 'Inventario' },\r\n  'inventario.movimientos': { nombre: 'Ver Movimientos', modulo: 'Inventario' },\r\n  'ventas.crear': { nombre: 'Realizar Ventas', modulo: 'Ventas' },\r\n  'ventas.ver': { nombre: 'Ver Ventas', modulo: 'Ventas' },\r\n  'ventas.anular': { nombre: 'Anular Ventas', modulo: 'Ventas' },\r\n  'ventas.devolucion': { nombre: 'Procesar Devoluciones', modulo: 'Ventas' },\r\n  'clientes.ver': { nombre: 'Ver Clientes', modulo: 'Clientes' },\r\n  'clientes.crear': { nombre: 'Crear Clientes', modulo: 'Clientes' },\r\n  'clientes.editar': { nombre: 'Editar Clientes', modulo: 'Clientes' },\r\n  'clientes.eliminar': { nombre: 'Eliminar Clientes', modulo: 'Clientes' },\r\n  'proveedores.ver': { nombre: 'Ver Proveedores', modulo: 'Proveedores' },\r\n  'proveedores.crear': { nombre: 'Crear Proveedores', modulo: 'Proveedores' },\r\n  'proveedores.editar': { nombre: 'Editar Proveedores', modulo: 'Proveedores' },\r\n  'proveedores.eliminar': { nombre: 'Eliminar Proveedores', modulo: 'Proveedores' },\r\n  'compras.ver': { nombre: 'Ver Compras', modulo: 'Compras' },\r\n  'compras.crear': { nombre: 'Crear Compras', modulo: 'Compras' },\r\n  'compras.editar': { nombre: 'Editar Compras', modulo: 'Compras' },\r\n  'compras.anular': { nombre: 'Anular Compras', modulo: 'Compras' },\r\n  'caja.abrir': { nombre: 'Abrir Caja', modulo: 'Caja' },\r\n  'caja.cerrar': { nombre: 'Cerrar Caja', modulo: 'Caja' },\r\n  'caja.movimientos': { nombre: 'Gestionar Movimientos', modulo: 'Caja' },\r\n  'caja.ver': { nombre: 'Ver Caja', modulo: 'Caja' },\r\n  'reportes.ventas': { nombre: 'Reportes de Ventas', modulo: 'Reportes' },\r\n  'reportes.inventario': { nombre: 'Reportes de Inventario', modulo: 'Reportes' },\r\n  'reportes.financieros': { nombre: 'Reportes Financieros', modulo: 'Reportes' },\r\n  'reportes.clientes': { nombre: 'Reportes de Clientes', modulo: 'Reportes' },\r\n  'config.ver': { nombre: 'Ver Configuración', modulo: 'Configuración' },\r\n  'config.editar': { nombre: 'Editar Configuración', modulo: 'Configuración' },\r\n  'config.webhooks': { nombre: 'Gestionar Webhooks', modulo: 'Configuración' },\r\n  'usuarios.ver': { nombre: 'Ver Usuarios', modulo: 'Usuarios' },\r\n  'usuarios.crear': { nombre: 'Crear Usuarios', modulo: 'Usuarios' },\r\n  'usuarios.editar': { nombre: 'Editar Usuarios', modulo: 'Usuarios' },\r\n  'usuarios.eliminar': { nombre: 'Eliminar Usuarios', modulo: 'Usuarios' },\r\n  'descuentos.ver': { nombre: 'Ver Descuentos', modulo: 'Descuentos' },\r\n  'descuentos.crear': { nombre: 'Crear Descuentos', modulo: 'Descuentos' },\r\n  'descuentos.editar': { nombre: 'Editar Descuentos', modulo: 'Descuentos' },\r\n  'descuentos.eliminar': { nombre: 'Eliminar Descuentos', modulo: 'Descuentos' },\r\n  'gastos.ver': { nombre: 'Ver Gastos', modulo: 'Gastos' },\r\n  'gastos.crear': { nombre: 'Crear Gastos', modulo: 'Gastos' },\r\n  'gastos.editar': { nombre: 'Editar Gastos', modulo: 'Gastos' },\r\n  'gastos.eliminar': { nombre: 'Eliminar Gastos', modulo: 'Gastos' },\r\n  'clientes.abonar': { nombre: 'Registrar Abonos', modulo: 'Clientes' },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1657, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/app-sidebar.tsx"],"sourcesContent":["// @ts-nocheck\r\n\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { useSession, signOut } from \"next-auth/react\"\r\nimport {\r\n  LayoutDashboard,\r\n  ShoppingCart,\r\n  CreditCard,\r\n  Users,\r\n  Package,\r\n  FileText,\r\n  DollarSign,\r\n  Sparkles,\r\n  ChevronDown,\r\n  Tag,\r\n  Shield,\r\n  Settings,\r\n  LogOut,\r\n  User,\r\n  Building2,\r\n  ShoppingBag,\r\n  Receipt,\r\n} from \"lucide-react\"\r\nimport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarGroup,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarMenu,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarHeader,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubItem,\r\n  SidebarMenuSubButton,\r\n  SidebarFooter,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\"\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { hasPermission, type Role, type Permission } from \"@/lib/auth/permissions\"\r\n\r\n// Definir permisos requeridos para cada elemento del menú\r\nconst menuItems = [\r\n  { \r\n    title: \"Dashboard\", \r\n    icon: LayoutDashboard, \r\n    href: \"/\",\r\n    permissions: [] as Permission[] // Dashboard visible para todos\r\n  },\r\n  { \r\n    title: \"Caja\", \r\n    icon: DollarSign, \r\n    href: \"/caja\",\r\n    permissions: ['caja.abrir', 'caja.ver'] as Permission[] // Cualquiera de estos permisos\r\n  },\r\n  { \r\n    title: \"Ventas (POS)\", \r\n    icon: ShoppingCart, \r\n    href: \"/ventas\",\r\n    permissions: ['ventas.crear', 'ventas.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Clientes\", \r\n    icon: Users, \r\n    href: \"/clientes\",\r\n    permissions: ['clientes.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Gastos\", \r\n    icon: Receipt, \r\n    href: \"/gastos\",\r\n    permissions: ['gastos.ver', 'gastos.crear'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Proveedores\", \r\n    icon: Building2, \r\n    href: \"/proveedores\",\r\n    permissions: ['proveedores.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Pedidos\", \r\n    icon: ShoppingBag, \r\n    href: \"/pedidos\",\r\n    permissions: ['compras.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Reportes\", \r\n    icon: FileText, \r\n    href: \"/reportes\",\r\n    permissions: ['reportes.ventas', 'reportes.inventario', 'reportes.financieros', 'reportes.clientes'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Usuarios y Roles\", \r\n    icon: Shield, \r\n    href: \"/usuarios\",\r\n    permissions: ['usuarios.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Webhooks\", \r\n    icon: Settings, \r\n    href: \"/configuracion/webhooks\",\r\n    permissions: ['config.webhooks'] as Permission[]\r\n  },\r\n]\r\n\r\nconst inventorySubmenu = [\r\n  { \r\n    title: \"Productos\", \r\n    href: \"/inventario/productos\",\r\n    permissions: ['productos.ver', 'inventario.ver'] as Permission[]\r\n  },\r\n  { \r\n    title: \"Descuentos\", \r\n    href: \"/inventario/descuentos\",\r\n    permissions: ['descuentos.ver'] as Permission[]\r\n  },\r\n]\r\n\r\nexport function SidebarToggle() {\r\n  const { toggleSidebar, state } = useSidebar()\r\n\r\n  if (state !== 'collapsed') return null\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      aria-label=\"Abrir menú\"\r\n      onClick={toggleSidebar}\r\n      className=\"flex h-10 w-10 flex-col items-center justify-center gap-1 rounded-lg border border-border bg-card shadow-sm transition-all duration-200 hover:bg-accent hover:scale-105 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\r\n    >\r\n      <span className=\"block h-0.5 w-4 rounded-full bg-foreground transition-all\" />\r\n      <span className=\"block h-0.5 w-4 rounded-full bg-foreground transition-all\" />\r\n      <span className=\"block h-0.5 w-4 rounded-full bg-foreground transition-all\" />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport function AppSidebar() {\r\n  const { toggleSidebar } = useSidebar()\r\n  const pathname = usePathname()\r\n  const { data: session } = useSession()\r\n\r\n  const handleLogout = async () => {\r\n    await signOut({ callbackUrl: '/login' })\r\n  }\r\n\r\n  // Función para verificar si el usuario tiene acceso a un item del menú\r\n  const hasAccess = React.useCallback((permissions: Permission[]) => {\r\n    if (!session?.user?.rol) return false\r\n    \r\n    // Si no se requieren permisos, está disponible para todos\r\n    if (permissions.length === 0) return true\r\n    \r\n    const userRole = session.user.rol as Role\r\n    \r\n    // Verificar si el usuario tiene al menos uno de los permisos requeridos\r\n    return permissions.some(permission => hasPermission(userRole, permission))\r\n  }, [session?.user?.rol])\r\n\r\n  // Filtrar items del menú según permisos\r\n  const visibleMenuItems = React.useMemo(() => {\r\n    return menuItems.filter(item => hasAccess(item.permissions))\r\n  }, [hasAccess])\r\n\r\n  // Filtrar submenu de inventario\r\n  const visibleInventorySubmenu = React.useMemo(() => {\r\n    return inventorySubmenu.filter(item => hasAccess(item.permissions))\r\n  }, [hasAccess])\r\n\r\n  // Determinar si mostrar la sección de inventario\r\n  const showInventorySection = visibleInventorySubmenu.length > 0\r\n\r\n  return (\r\n    <Sidebar>\r\n        <SidebarHeader className=\"border-b border-sidebar-border\">\r\n          <div className=\"flex items-center gap-0 px-4 py-6\">\r\n            <div className=\"flex h-18 w-18 items-center justify-center\">\r\n              <img src=\"/logo 1.jpeg\" alt=\"Valva Logo\" className=\"h-18 w-18 object-cover rounded-4xl shadow-md hover:shadow-lg transition-all duration-200\" />\r\n            </div>\r\n            <div className=\"flex-1 ml-2\">\r\n              <h1 className=\"text-xl font-bold tracking-tight text-sidebar-foreground\">Valva Boutique</h1>\r\n              <p className=\"text-xs text-sidebar-foreground/70\">Sistema POS</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              aria-label=\"Cerrar menú\"\r\n              onClick={toggleSidebar}\r\n              className=\"flex h-8 w-8 flex-col items-center justify-center gap-1 rounded-md border border-sidebar-border bg-transparent transition-all duration-200 hover:bg-sidebar-accent hover:scale-105 active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\"\r\n            >\r\n              <span className=\"block h-0.5 w-4 rounded-full bg-sidebar-foreground transition-all\" />\r\n              <span className=\"block h-0.5 w-4 rounded-full bg-sidebar-foreground transition-all\" />\r\n              <span className=\"block h-0.5 w-4 rounded-full bg-sidebar-foreground transition-all\" />\r\n            </button>\r\n          </div>\r\n        </SidebarHeader>\r\n        <SidebarContent>\r\n          <SidebarGroup>\r\n            <SidebarGroupLabel>Menú Principal</SidebarGroupLabel>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {visibleMenuItems.map((item) => (\r\n                  <SidebarMenuItem key={item.title}>\r\n                    <SidebarMenuButton\r\n                      asChild\r\n                      isActive={pathname === item.href}\r\n                    >\r\n                      <a href={item.href}>\r\n                        <item.icon className=\"h-4 w-4\" />\r\n                        <span>{item.title}</span>\r\n                      </a>\r\n                    </SidebarMenuButton>\r\n                  </SidebarMenuItem>\r\n                ))}\r\n\r\n                {showInventorySection && (\r\n                  <Collapsible className=\"group/collapsible\" defaultOpen={pathname.startsWith(\"/inventario\")}>\r\n                    <SidebarMenuItem>\r\n                      <CollapsibleTrigger asChild>\r\n                        <SidebarMenuButton>\r\n                          <Tag className=\"h-4 w-4\" />\r\n                          <span>Inventario</span>\r\n                          <ChevronDown className=\"ml-auto h-4 w-4 transition-transform group-data-[state=open]/collapsible:rotate-180\" />\r\n                        </SidebarMenuButton>\r\n                      </CollapsibleTrigger>\r\n                      <CollapsibleContent>\r\n                        <SidebarMenuSub>\r\n                          {visibleInventorySubmenu.map((subItem) => (\r\n                            <SidebarMenuSubItem key={subItem.title}>\r\n                              <SidebarMenuSubButton\r\n                                asChild\r\n                                isActive={pathname === subItem.href}\r\n                              >\r\n                                <a href={subItem.href}>\r\n                                  <span>{subItem.title}</span>\r\n                                </a>\r\n                              </SidebarMenuSubButton>\r\n                            </SidebarMenuSubItem>\r\n                          ))}\r\n                        </SidebarMenuSub>\r\n                      </CollapsibleContent>\r\n                    </SidebarMenuItem>\r\n                  </Collapsible>\r\n                )}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        </SidebarContent>\r\n        \r\n        <SidebarFooter className=\"border-t border-sidebar-border p-4\">\r\n          <div className=\"space-y-3\">\r\n            {/* Información del usuario */}\r\n            <div className=\"flex items-center gap-3 rounded-lg bg-sidebar-accent p-3\">\r\n              <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-primary\">\r\n                <User className=\"h-5 w-5 text-primary-foreground\" />\r\n              </div>\r\n              <div className=\"flex-1 min-w-0\">\r\n                <p className=\"text-sm font-medium text-sidebar-foreground truncate\">\r\n                  {session?.user?.nombre || session?.user?.username || 'Usuario'}\r\n                </p>\r\n                <p className=\"text-xs text-sidebar-foreground/70 capitalize truncate\">\r\n                  {session?.user?.rol || 'Sin rol'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Botón de cerrar sesión */}\r\n            <Button\r\n              variant=\"ghost\"\r\n              className=\"w-full justify-start bg-sidebar-accent hover:bg-sidebar-accent/80 text-sidebar-foreground\"\r\n              onClick={handleLogout}\r\n            >\r\n              <LogOut className=\"h-4 w-4 mr-2\" />\r\n              Cerrar Sesión\r\n            </Button>\r\n          </div>\r\n        </SidebarFooter>\r\n      </Sidebar>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2256, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 2376, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/label.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as LabelPrimitive from '@radix-ui/react-label'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6TAAC,yRAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 2409, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/select.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as SelectPrimitive from '@radix-ui/react-select'\r\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Select({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\r\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\r\n}\r\n\r\nfunction SelectGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\r\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\r\n}\r\n\r\nfunction SelectValue({\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\r\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\r\n}\r\n\r\nfunction SelectTrigger({\r\n  className,\r\n  size = 'default',\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\r\n  size?: 'sm' | 'default'\r\n}) {\r\n  return (\r\n    <SelectPrimitive.Trigger\r\n      data-slot=\"select-trigger\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SelectPrimitive.Icon asChild>\r\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\r\n      </SelectPrimitive.Icon>\r\n    </SelectPrimitive.Trigger>\r\n  )\r\n}\r\n\r\nfunction SelectContent({\r\n  className,\r\n  children,\r\n  position = 'popper',\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\r\n  return (\r\n    <SelectPrimitive.Portal>\r\n      <SelectPrimitive.Content\r\n        data-slot=\"select-content\"\r\n        className={cn(\r\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\r\n          position === 'popper' &&\r\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\r\n          className,\r\n        )}\r\n        position={position}\r\n        {...props}\r\n      >\r\n        <SelectScrollUpButton />\r\n        <SelectPrimitive.Viewport\r\n          className={cn(\r\n            'p-1',\r\n            position === 'popper' &&\r\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\r\n          )}\r\n        >\r\n          {children}\r\n        </SelectPrimitive.Viewport>\r\n        <SelectScrollDownButton />\r\n      </SelectPrimitive.Content>\r\n    </SelectPrimitive.Portal>\r\n  )\r\n}\r\n\r\nfunction SelectLabel({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\r\n  return (\r\n    <SelectPrimitive.Label\r\n      data-slot=\"select-label\"\r\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\r\n  return (\r\n    <SelectPrimitive.Item\r\n      data-slot=\"select-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <SelectPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </SelectPrimitive.ItemIndicator>\r\n      </span>\r\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\r\n    </SelectPrimitive.Item>\r\n  )\r\n}\r\n\r\nfunction SelectSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\r\n  return (\r\n    <SelectPrimitive.Separator\r\n      data-slot=\"select-separator\"\r\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction SelectScrollUpButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollUpButton\r\n      data-slot=\"select-scroll-up-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronUpIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollUpButton>\r\n  )\r\n}\r\n\r\nfunction SelectScrollDownButton({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\r\n  return (\r\n    <SelectPrimitive.ScrollDownButton\r\n      data-slot=\"select-scroll-down-button\"\r\n      className={cn(\r\n        'flex cursor-default items-center justify-center py-1',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ChevronDownIcon className=\"size-4\" />\r\n    </SelectPrimitive.ScrollDownButton>\r\n  )\r\n}\r\n\r\nexport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectScrollDownButton,\r\n  SelectScrollUpButton,\r\n  SelectSeparator,\r\n  SelectTrigger,\r\n  SelectValue,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6TAAC,0RAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6TAAC,6RAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6TAAC,0RAAoB;gBAAC,OAAO;0BAC3B,cAAA,6TAAC,kUAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6TAAC,4RAAsB;kBACrB,cAAA,6TAAC,6RAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6TAAC;;;;;8BACD,6TAAC,8RAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6TAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6TAAC,2RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6TAAC,0RAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6TAAC;gBAAK,WAAU;0BACd,cAAA,6TAAC,mSAA6B;8BAC5B,cAAA,6TAAC,4SAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6TAAC,8RAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6TAAC,+RAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6TAAC,oSAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6TAAC,4TAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6TAAC,sSAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6TAAC,kUAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 2666, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst badgeVariants = cva(\r\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\r\n        secondary:\r\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\r\n        destructive:\r\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'span'> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : 'span'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 2718, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/lib/webhooks.ts"],"sourcesContent":["\"use client\"\r\n\r\nexport interface WebhookConfig {\r\n  url: string\r\n  eventos: string[]\r\n  activo: boolean\r\n}\r\n\r\nconst WEBHOOK_STORAGE_KEY = \"valva_webhooks\"\r\n\r\nexport const getWebhookConfig = (): WebhookConfig => {\r\n  if (typeof window === \"undefined\") {\r\n    return { url: \"\", eventos: [], activo: false }\r\n  }\r\n\r\n  const data = localStorage.getItem(WEBHOOK_STORAGE_KEY)\r\n  if (data) {\r\n    return JSON.parse(data)\r\n  }\r\n\r\n  return {\r\n    url: \"\",\r\n    eventos: [\"nueva_venta\", \"bajo_inventario\", \"nuevo_cliente\", \"pago_recibido\"],\r\n    activo: false,\r\n  }\r\n}\r\n\r\nexport const saveWebhookConfig = (config: WebhookConfig) => {\r\n  if (typeof window === \"undefined\") return\r\n  localStorage.setItem(WEBHOOK_STORAGE_KEY, JSON.stringify(config))\r\n}\r\n\r\nexport const enviarWebhook = async (evento: string, data: any) => {\r\n  const config = getWebhookConfig()\r\n\r\n  if (!config.activo || !config.url || !config.eventos.includes(evento)) {\r\n    console.log(\"[v0] Webhook not configured or event not enabled:\", evento)\r\n    return\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(config.url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        event: evento,\r\n        data,\r\n        timestamp: new Date().toISOString(),\r\n      }),\r\n    })\r\n\r\n    if (!response.ok) {\r\n      console.error(\"[v0] Webhook failed:\", response.statusText)\r\n    } else {\r\n      console.log(\"[v0] Webhook sent successfully:\", evento)\r\n    }\r\n  } catch (error) {\r\n    console.error(\"[v0] Webhook error:\", error)\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAQA,MAAM,sBAAsB;AAErB,MAAM,mBAAmB;IAC9B;;IAIA,MAAM,OAAO,aAAa,OAAO,CAAC;IAClC,IAAI,MAAM;QACR,OAAO,KAAK,KAAK,CAAC;IACpB;IAEA,OAAO;QACL,KAAK;QACL,SAAS;YAAC;YAAe;YAAmB;YAAiB;SAAgB;QAC7E,QAAQ;IACV;AACF;AAEO,MAAM,oBAAoB,CAAC;IAChC;;IACA,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;AAC3D;AAEO,MAAM,gBAAgB,OAAO,QAAgB;IAClD,MAAM,SAAS;IAEf,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,OAAO,CAAC,QAAQ,CAAC,SAAS;QACrE,QAAQ,GAAG,CAAC,qDAAqD;QACjE;IACF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,OAAO,GAAG,EAAE;YACvC,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB,OAAO;gBACP;gBACA,WAAW,IAAI,OAAO,WAAW;YACnC;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,KAAK,CAAC,wBAAwB,SAAS,UAAU;QAC3D,OAAO;YACL,QAAQ,GAAG,CAAC,mCAAmC;QACjD;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;IACvC;AACF"}},
    {"offset": {"line": 2785, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/lib/storage.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport type { Product, Cliente, Venta, Usuario, Abono } from \"./types\"\r\nimport { enviarWebhook } from \"./webhooks\"\r\n\r\n// Storage keys\r\nconst STORAGE_KEYS = {\r\n  PRODUCTS: \"valva_products\",\r\n  CLIENTES: \"valva_clientes\",\r\n  VENTAS: \"valva_ventas\",\r\n  USUARIOS: \"valva_usuarios\",\r\n  CURRENT_USER: \"valva_current_user\",\r\n  ABONOS: \"valva_abonos\",\r\n}\r\n\r\n// Products\r\nexport const getProducts = (): Product[] => {\r\n  if (typeof window === \"undefined\") return []\r\n  const data = localStorage.getItem(STORAGE_KEYS.PRODUCTS)\r\n  return data ? JSON.parse(data) : []\r\n}\r\n\r\nexport const saveProduct = (product: Product) => {\r\n  const products = getProducts()\r\n  const index = products.findIndex((p) => p.id === product.id)\r\n\r\n  const isNew = index < 0\r\n\r\n  if (index >= 0) {\r\n    products[index] = product\r\n  } else {\r\n    products.push(product)\r\n  }\r\n  localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products))\r\n\r\n  if (product.stockMinimo && product.cantidad <= product.stockMinimo) {\r\n    enviarWebhook(\"bajo_inventario\", {\r\n      producto: product.nombre,\r\n      cantidad: product.cantidad,\r\n      stockMinimo: product.stockMinimo,\r\n      codigo: product.codigo,\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteProduct = (id: string) => {\r\n  const products = getProducts().filter((p) => p.id !== id)\r\n  localStorage.setItem(STORAGE_KEYS.PRODUCTS, JSON.stringify(products))\r\n}\r\n\r\n// Clientes\r\nexport const getClientes = (): Cliente[] => {\r\n  if (typeof window === \"undefined\") return []\r\n  const data = localStorage.getItem(STORAGE_KEYS.CLIENTES)\r\n  return data ? JSON.parse(data) : []\r\n}\r\n\r\nexport const saveCliente = (cliente: Cliente) => {\r\n  const clientes = getClientes()\r\n  const index = clientes.findIndex((c) => c.id === cliente.id)\r\n\r\n  const isNew = index < 0\r\n\r\n  if (index >= 0) {\r\n    clientes[index] = cliente\r\n  } else {\r\n    clientes.push(cliente)\r\n  }\r\n  localStorage.setItem(STORAGE_KEYS.CLIENTES, JSON.stringify(clientes))\r\n\r\n  if (isNew) {\r\n    enviarWebhook(\"nuevo_cliente\", {\r\n      nombre: cliente.nombre,\r\n      identificacion: cliente.identificacion,\r\n      tipoCliente: cliente.tipoCliente,\r\n      limiteCredito: cliente.limiteCredito,\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteCliente = (id: string) => {\r\n  const clientes = getClientes().filter((c) => c.id !== id)\r\n  localStorage.setItem(STORAGE_KEYS.CLIENTES, JSON.stringify(clientes))\r\n}\r\n\r\n// Ventas\r\nexport const getVentas = (): Venta[] => {\r\n  if (typeof window === \"undefined\") return []\r\n  const data = localStorage.getItem(STORAGE_KEYS.VENTAS)\r\n  return data ? JSON.parse(data) : []\r\n}\r\n\r\nexport const saveVenta = (venta: Venta) => {\r\n  const ventas = getVentas()\r\n  ventas.push(venta)\r\n  localStorage.setItem(STORAGE_KEYS.VENTAS, JSON.stringify(ventas))\r\n\r\n  enviarWebhook(\"nueva_venta\", {\r\n    id: venta.id,\r\n    cliente: venta.cliente.nombre,\r\n    total: venta.total,\r\n    estado: venta.estado,\r\n    productos: venta.productos.length,\r\n    fecha: venta.fecha,\r\n  })\r\n\r\n  const productos = getProducts()\r\n  venta.productos.forEach((item) => {\r\n    const producto = productos.find((p) => p.id === item.producto.id)\r\n    if (producto) {\r\n      producto.cantidad -= item.cantidad\r\n      saveProduct(producto)\r\n    }\r\n  })\r\n}\r\n\r\n// Usuarios\r\nexport const getUsuarios = (): Usuario[] => {\r\n  if (typeof window === \"undefined\") return []\r\n  const data = localStorage.getItem(STORAGE_KEYS.USUARIOS)\r\n  if (data) return JSON.parse(data)\r\n\r\n  // Create default admin user\r\n  const defaultAdmin: Usuario = {\r\n    id: 1,\r\n    username: \"admin\",\r\n    nombre: \"Administrador\",\r\n    apellido: \"Sistema\",\r\n    email: \"admin@valva.com\",\r\n    rol: \"administrador\",\r\n    estado: \"activo\",\r\n    created_at: new Date().toISOString(),\r\n  }\r\n  localStorage.setItem(STORAGE_KEYS.USUARIOS, JSON.stringify([defaultAdmin]))\r\n  return [defaultAdmin]\r\n}\r\n\r\nexport const saveUsuario = (usuario: Usuario) => {\r\n  const usuarios = getUsuarios()\r\n  const index = usuarios.findIndex((u) => u.id === usuario.id)\r\n  if (index >= 0) {\r\n    usuarios[index] = usuario\r\n  } else {\r\n    usuarios.push(usuario)\r\n  }\r\n  localStorage.setItem(STORAGE_KEYS.USUARIOS, JSON.stringify(usuarios))\r\n}\r\n\r\nexport const getCurrentUser = (): Usuario | null => {\r\n  if (typeof window === \"undefined\") return null\r\n  const data = localStorage.getItem(STORAGE_KEYS.CURRENT_USER)\r\n  if (data) return JSON.parse(data)\r\n\r\n  // Set default admin as current user\r\n  const usuarios = getUsuarios()\r\n  if (usuarios.length > 0) {\r\n    localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify(usuarios[0]))\r\n    return usuarios[0]\r\n  }\r\n  return null\r\n}\r\n\r\nexport const setCurrentUser = (usuario: Usuario) => {\r\n  localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify(usuario))\r\n}\r\n\r\n// Abonos\r\nexport const getAbonos = (): Abono[] => {\r\n  if (typeof window === \"undefined\") return []\r\n  const data = localStorage.getItem(STORAGE_KEYS.ABONOS)\r\n  return data ? JSON.parse(data) : []\r\n}\r\n\r\nexport const saveAbono = (abono: Abono, clienteId: string) => {\r\n  const abonos = getAbonos()\r\n  abonos.push(abono)\r\n  localStorage.setItem(STORAGE_KEYS.ABONOS, JSON.stringify(abonos))\r\n\r\n  // Update client balance\r\n  const clientes = getClientes()\r\n  const cliente = clientes.find((c) => c.id === clienteId)\r\n  if (cliente) {\r\n    cliente.saldoActual = Math.max(0, cliente.saldoActual - abono.monto)\r\n    saveCliente(cliente)\r\n  }\r\n\r\n  enviarWebhook(\"pago_recibido\", {\r\n    cliente: cliente?.nombre,\r\n    monto: abono.monto,\r\n    metodoPago: abono.metodoPago,\r\n    saldoRestante: cliente?.saldoActual,\r\n    fecha: abono.fecha,\r\n  })\r\n}\r\n\r\nexport const getAbonosByCliente = (clienteId: string): Abono[] => {\r\n  return getAbonos().filter((a) => a.clienteId === clienteId)\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2998, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\r\nimport { XIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  )\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn('text-lg leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6TAAC,0RAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6TAAC,6RAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6TAAC,4RAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6TAAC,2RAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6TAAC,6RAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6TAAC;QAAa,aAAU;;0BACtB,6TAAC;;;;;0BACD,6TAAC,6RAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6TAAC,2RAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6TAAC,gSAAK;;;;;0CACN,6TAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6TAAC,2RAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6TAAC,iSAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 3204, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/factura-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Printer, Download, X } from \"lucide-react\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport jsPDF from \"jspdf\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface DetalleVenta {\r\n  id: number\r\n  producto_nombre: string\r\n  cantidad: number\r\n  precio_unitario: number\r\n  subtotal: number\r\n}\r\n\r\ninterface VentaFactura {\r\n  id: number\r\n  numero_venta: string\r\n  fecha_venta: string\r\n  cliente_nombre?: string\r\n  cliente_identificacion?: string\r\n  cliente_telefono?: string\r\n  cliente_direccion?: string\r\n  vendedor_nombre?: string\r\n  vendedor_apellido?: string\r\n  subtotal: number\r\n  iva: number\r\n  descuento: number\r\n  total: number\r\n  tipo_venta: string\r\n  metodo_pago: string\r\n  efectivo_recibido?: number\r\n  cambio?: number\r\n  credito_abono_total?: number\r\n  credito_saldo_pendiente?: number\r\n  detalles: DetalleVenta[]\r\n}\r\n\r\ninterface FacturaDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  venta: VentaFactura | null\r\n}\r\n\r\nexport function FacturaDialog({ open, onClose, venta }: FacturaDialogProps) {\r\n  const facturaRef = React.useRef<HTMLDivElement>(null)\r\n\r\n  if (!venta) return null\r\n\r\n  const crearPDF = async () => {\r\n    try {\r\n      // Formato de ticket estrecho (80mm)\r\n      const pdf = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: [80, 297], // Ancho de ticket térmico de 80mm\r\n      })\r\n\r\n      const pageWidth = pdf.internal.pageSize.getWidth()\r\n      const centerX = pageWidth / 2\r\n      const margin = 5\r\n      let yPos = 5\r\n\r\n      // Línea de separación\r\n      const lineaGuiones = '-'.repeat(50)\r\n\r\n      // Cargar logo centrado\r\n      try {\r\n        const img = new Image()\r\n        img.src = '/logo 1.jpeg'\r\n        await new Promise((resolve, reject) => {\r\n          img.onload = resolve\r\n          img.onerror = reject\r\n          setTimeout(reject, 2000)\r\n        })\r\n        \r\n        const logoWidth = 40\r\n        const logoHeight = 20\r\n        pdf.addImage(img, 'JPEG', centerX - (logoWidth / 2), yPos, logoWidth, logoHeight)\r\n        yPos += logoHeight + 4\r\n      } catch (error) {\r\n        console.log('Continuando sin logo')\r\n      }\r\n\r\n      // Nombre empresa (centrado)\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Valva Boutique', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      pdf.setFontSize(10)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('Descubre tu estilo y llévalo al siguiente nivel', centerX, yPos, { align: 'center' })\r\n      yPos += 6\r\n\r\n      // NIT o identificación (centrado)\r\n      pdf.text('Telefono: 3224081839', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Teléfono (centrado)\r\n      pdf.text('@valva_.boutique', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // FACTURA DE VENTA POS (centrado)\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('FACTURA DE VENTA POS', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Información de la factura (alineado a la izquierda)\r\n      pdf.setFontSize(11)\r\n      const fechaFormateada = new Date(venta.fecha_venta).toLocaleString('es-EC', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      }).replace(',', ' -')\r\n      \r\n      // Fecha\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Fecha:', margin, yPos)\r\n      const anchoFecha = pdf.getTextWidth('Fecha: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(fechaFormateada, margin + anchoFecha, yPos)\r\n      yPos += 4\r\n      \r\n      // Factura #\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Factura #:', margin, yPos)\r\n      const anchoFactura = pdf.getTextWidth('Factura #: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(venta.numero_venta, margin + anchoFactura, yPos)\r\n      yPos += 4\r\n      \r\n      // Cajero\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Cajero:', margin, yPos)\r\n      const anchoCajero = pdf.getTextWidth('Cajero: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(`${venta.vendedor_nombre || 'admin'} ${venta.vendedor_apellido || ''}`, margin + anchoCajero, yPos)\r\n      yPos += 4\r\n      \r\n      // Caja\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Caja:', margin, yPos)\r\n      const anchoCaja = pdf.getTextWidth('Caja: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('Principal', margin + anchoCaja, yPos)\r\n      yPos += 4\r\n      \r\n      // Máquina\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Máquina:', margin, yPos)\r\n      const anchoMaquina = pdf.getTextWidth('Máquina: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('POS001', margin + anchoMaquina, yPos)\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Encabezado de tabla\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Nombre', margin + 10, yPos)\r\n      pdf.text('Total', pageWidth - margin - 10, yPos, { align: 'right' })\r\n      yPos += 3\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Productos\r\n      venta.detalles.forEach((detalle) => {\r\n        // Nombre del producto (izquierda) y Total (derecha) en la misma línea\r\n        pdf.setFontSize(11) // Tamaño más grande para el nombre\r\n        pdf.setFont('Lucida Console', 'normal')\r\n        const nombreMaxWidth = pageWidth - margin * 2 - 20 // Espacio para el precio\r\n        const lineasNombre = pdf.splitTextToSize(detalle.producto_nombre, nombreMaxWidth)\r\n        \r\n        // Primera línea: nombre a la izquierda, total a la derecha\r\n        pdf.text(lineasNombre[0], margin, yPos)\r\n        pdf.text(formatCurrency(detalle.subtotal), pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 4\r\n        \r\n        // Si el nombre tiene más de una línea, imprimir el resto\r\n        if (lineasNombre.length > 1) {\r\n          for (let i = 1; i < lineasNombre.length; i++) {\r\n            pdf.text(lineasNombre[i], margin, yPos)\r\n            yPos += 4\r\n          }\r\n        }\r\n        \r\n        // Unidades en la siguiente línea (en negrilla)\r\n        pdf.setFontSize(9)\r\n        pdf.setFont('Lucida Console', 'bold')\r\n        pdf.text(`> UNIDADES: -> Cantidad:${detalle.cantidad.toFixed(2)} x ${formatCurrency(detalle.precio_unitario)}`, margin, yPos)\r\n        yPos += 5\r\n      })\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // TOTAL A PAGAR\r\n      pdf.setFontSize(11)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('TOTAL A PAGAR:', margin, yPos)\r\n      pdf.text(`$ ${formatCurrency(venta.total)}`, pageWidth - margin, yPos, { align: 'right' })\r\n      yPos += 5\r\n\r\n      // Si es venta a crédito, mostrar abono y saldo pendiente\r\n      if (venta.tipo_venta === 'credito') {\r\n        pdf.setFontSize(10)\r\n        pdf.setFont('Lucida Console', 'normal')\r\n        \r\n        // Abono inicial\r\n        const abonoInicial = venta.credito_abono_total || 0\r\n        pdf.text('Abono Inicial:', margin, yPos)\r\n        pdf.text(`$ ${formatCurrency(abonoInicial)}`, pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 4\r\n\r\n        // Saldo pendiente\r\n        const saldoPendiente = venta.credito_saldo_pendiente || venta.total\r\n        pdf.setFont('Lucida Console', 'bold')\r\n        pdf.text('Saldo Pendiente:', margin, yPos)\r\n        pdf.text(`$ ${formatCurrency(saldoPendiente)}`, pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 5\r\n      }\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // FORMA DE PAGO\r\n      pdf.setFontSize(10)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('**FORMA DE PAGO**', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      const metodoPago = venta.metodo_pago === 'efectivo' ? 'Efectivo' :\r\n                         venta.metodo_pago === 'transferencia' ? 'Transferencia' :\r\n                         venta.metodo_pago === 'tarjeta' ? 'Tarjeta' : 'Mixto'\r\n      const tipoPago = venta.tipo_venta === 'contado' ? 'Contado' : 'Crédito'\r\n      \r\n      pdf.text(tipoPago, margin + 10, yPos)\r\n      pdf.text(formatCurrency(venta.total), pageWidth - margin - 10, yPos, { align: 'right' })\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Mensaje de agradecimiento\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.setFontSize(13)\r\n      pdf.text('Gracias Por Su Compra', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Información de recibido y cambio\r\n      pdf.setFontSize(9)\r\n      if (venta.tipo_venta === 'contado' && venta.metodo_pago !== 'transferencia') {\r\n        const efectivoRecibido = venta.efectivo_recibido || venta.total\r\n        const cambio = venta.cambio || 0\r\n        pdf.text(`RECIBIDO: $${formatCurrency(efectivoRecibido)}`, margin, yPos)\r\n        yPos += 3.5\r\n        pdf.text(`CAMBIO: $${formatCurrency(cambio)}`, margin, yPos)\r\n        yPos += 8\r\n      }\r\n\r\n      // Info del software (centrado, muy pequeño)\r\n      pdf.setFontSize(7.5)\r\n      pdf.text('Software: Valva Boutique POS', centerX, yPos, { align: 'center' })\r\n\r\n      return pdf\r\n    } catch (error) {\r\n      console.error('Error al generar PDF:', error)\r\n      alert(`Error al generar PDF: ${error instanceof Error ? error.message : 'Error desconocido'}`)\r\n      return null\r\n    }\r\n  }\r\n\r\n  const descargarPDF = async () => {\r\n    const pdf = await crearPDF()\r\n    if (!pdf) return\r\n    pdf.save(`Factura-${venta.numero_venta}.pdf`)\r\n    toast.success('¡Factura descargada exitosamente!', {\r\n      description: `Archivo: Factura-${venta.numero_venta}.pdf`,\r\n      duration: 4000,\r\n    })\r\n  }\r\n\r\n  const imprimirFactura = async () => {\r\n    const pdf = await crearPDF()\r\n    if (!pdf) return\r\n    const blob = pdf.output('blob')\r\n    const blobUrl = URL.createObjectURL(blob)\r\n    const iframe = document.createElement('iframe')\r\n    iframe.style.position = 'fixed'\r\n    iframe.style.right = '0'\r\n    iframe.style.bottom = '0'\r\n    iframe.style.width = '0'\r\n    iframe.style.height = '0'\r\n    iframe.style.border = '0'\r\n    iframe.src = blobUrl\r\n\r\n    iframe.onload = () => {\r\n      const cleanup = () => {\r\n        URL.revokeObjectURL(blobUrl)\r\n        iframe.remove()\r\n      }\r\n\r\n      if (iframe.contentWindow) {\r\n        iframe.contentWindow.onafterprint = cleanup\r\n        iframe.contentWindow.focus()\r\n        iframe.contentWindow.print()\r\n      } else {\r\n        cleanup()\r\n      }\r\n    }\r\n\r\n    document.body.appendChild(iframe)\r\n  }\r\n\r\n  const formatearFecha = (fecha: string) => {\r\n    const date = new Date(fecha)\r\n    return date.toLocaleString('es-EC', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <DialogTitle>Factura de Venta</DialogTitle>\r\n              <DialogDescription>\r\n                Número: {venta.numero_venta}\r\n              </DialogDescription>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" size=\"sm\" onClick={imprimirFactura}>\r\n                <Printer className=\"h-4 w-4 mr-2\" />\r\n                Imprimir\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={descargarPDF}>\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Descargar PDF\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div ref={facturaRef} className=\"bg-white p-6 mx-auto\">\r\n          {/* Encabezado con logo */}\r\n          <div className=\"flex flex-col items-center text-center mb-6 pb-4 border-b-2 border-gray-300\">\r\n            <img\r\n              src=\"/logo 1.jpeg\"\r\n              alt=\"Logo\"\r\n              className=\"h-20 w-20 object-cover rounded-lg mb-3\"\r\n            />\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Valva Boutique</h1>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Moda y Estilo</p>\r\n            <p className=\"text-sm text-gray-600\">Tel: (Por definir)</p>\r\n            <div className=\"bg-gray-100 px-4 py-2 rounded-lg mt-4 w-full\">\r\n              <p className=\"text-xs text-gray-600\">FACTURA</p>\r\n              <p className=\"text-lg font-bold text-gray-900\">{venta.numero_venta}</p>\r\n              <p className=\"text-xs text-gray-600 mt-1\">{formatearFecha(venta.fecha_venta)}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Información del cliente y vendedor */}\r\n          <div className=\"mb-6 space-y-4\">\r\n            <div className=\"border rounded-lg p-3\">\r\n              <h3 className=\"text-xs font-semibold text-gray-700 mb-2\">CLIENTE</h3>\r\n              <div className=\"text-sm text-gray-600 space-y-1\">\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {venta.cliente_nombre || 'Cliente General'}\r\n                </p>\r\n                {venta.cliente_identificacion && (\r\n                  <p>ID: {venta.cliente_identificacion}</p>\r\n                )}\r\n                {venta.cliente_telefono && (\r\n                  <p>Tel: {venta.cliente_telefono}</p>\r\n                )}\r\n                {venta.cliente_direccion && (\r\n                  <p>Dir: {venta.cliente_direccion}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"border rounded-lg p-3\">\r\n              <h3 className=\"text-xs font-semibold text-gray-700 mb-2\">VENDEDOR</h3>\r\n              <div className=\"text-sm text-gray-600\">\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {venta.vendedor_nombre} {venta.vendedor_apellido}\r\n                </p>\r\n                <p className=\"mt-2\">\r\n                  <span className=\"font-semibold\">Tipo:</span> {venta.tipo_venta === 'contado' ? 'Contado' : 'Crédito'}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">Pago:</span> {\r\n                    venta.metodo_pago === 'efectivo' ? 'Efectivo' :\r\n                    venta.metodo_pago === 'transferencia' ? 'Transferencia' :\r\n                    venta.metodo_pago === 'tarjeta' ? 'Tarjeta' : 'Mixto'\r\n                  }\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabla de productos */}\r\n          <div className=\"mb-6\">\r\n            <div className=\"bg-gray-100 border-y-2 border-gray-300 px-3 py-2 text-xs font-semibold text-gray-700\">\r\n              PRODUCTOS\r\n            </div>\r\n            <div className=\"divide-y\">\r\n              {venta.detalles.map((detalle) => (\r\n                <div key={detalle.id} className=\"py-3\">\r\n                  <div className=\"text-sm font-medium text-gray-900\">{detalle.producto_nombre}</div>\r\n                  <div className=\"text-xs text-gray-600 mt-1 flex items-center justify-between\">\r\n                    <span>{detalle.cantidad} x ${formatCurrency(detalle.precio_unitario)}</span>\r\n                    <span className=\"font-semibold text-gray-900\">${formatCurrency(detalle.subtotal)}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Totales */}\r\n          <div className=\"border-t-2 border-gray-300 pt-4\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Subtotal:</span>\r\n                <span className=\"font-medium text-gray-900\">${formatCurrency(venta.subtotal)}</span>\r\n              </div>\r\n              {venta.descuento > 0 && (\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">Descuento:</span>\r\n                  <span className=\"font-medium text-red-600\">-${formatCurrency(venta.descuento)}</span>\r\n                </div>\r\n              )}\r\n              {venta.iva > 0 && (\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">IVA (15%):</span>\r\n                  <span className=\"font-medium text-gray-900\">${formatCurrency(venta.iva)}</span>\r\n                </div>\r\n              )}\r\n              <div className=\"flex justify-between border-t-2 border-gray-300 pt-2 mt-2\">\r\n                <span className=\"text-lg font-bold text-gray-900\">TOTAL:</span>\r\n                <span className=\"text-2xl font-bold text-gray-900\">${formatCurrency(venta.total)}</span>\r\n              </div>\r\n\r\n              {/* Información de crédito */}\r\n              {venta.tipo_venta === 'credito' && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-blue-600 font-medium\">Abono Inicial:</span>\r\n                    <span className=\"font-medium text-blue-600\">${formatCurrency(venta.credito_abono_total || 0)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-base\">\r\n                    <span className=\"text-orange-600 font-bold\">Saldo Pendiente:</span>\r\n                    <span className=\"text-xl font-bold text-orange-600\">${formatCurrency(venta.credito_saldo_pendiente || venta.total)}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Información de pago */}\r\n          {venta.tipo_venta === 'contado' && venta.metodo_pago !== 'transferencia' && venta.efectivo_recibido && (\r\n            <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Efectivo Recibido:</span>\r\n                <span className=\"font-medium text-gray-900\">${formatCurrency(venta.efectivo_recibido)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm mt-2\">\r\n                <span className=\"text-gray-600\">Cambio:</span>\r\n                <span className=\"font-bold text-green-600\">${formatCurrency(venta.cambio || 0)}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pie de página */}\r\n          <div className=\"mt-8 pt-6 border-t border-gray-200 text-center\">\r\n            <p className=\"text-xs text-gray-500\">¡Gracias por su compra!</p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">Este documento es un comprobante de venta</p>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4247, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/cambio-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport { DollarSign, CreditCard, Repeat } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface PagoMixto {\r\n  efectivo: number\r\n  transferencia: number\r\n}\r\n\r\ninterface CambioDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  total: number\r\n  metodoPago: 'efectivo' | 'transferencia' | 'mixto'\r\n  onConfirmar: (data: { \r\n    efectivoRecibido: number\r\n    cambio: number\r\n    pagoMixto?: PagoMixto\r\n    referenciaTransferencia?: string\r\n  }) => void\r\n}\r\n\r\nexport function CambioDialog({ \r\n  open, \r\n  onClose, \r\n  total, \r\n  metodoPago,\r\n  onConfirmar \r\n}: CambioDialogProps) {\r\n  const [efectivoRecibido, setEfectivoRecibido] = React.useState(\"\")\r\n  const [montoEfectivo, setMontoEfectivo] = React.useState(\"\")\r\n  const [montoTransferencia, setMontoTransferencia] = React.useState(\"\")\r\n  const [referenciaTransferencia, setReferenciaTransferencia] = React.useState(\"Nequi\")\r\n\r\n  // Resetear cuando se abre el diálogo\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setEfectivoRecibido(\"\")\r\n      setMontoEfectivo(\"\")\r\n      setMontoTransferencia(\"\")\r\n      setReferenciaTransferencia(\"Nequi\")\r\n    }\r\n  }, [open])\r\n\r\n  const cambio = React.useMemo(() => {\r\n    if (metodoPago === 'efectivo') {\r\n      const recibido = parseFloat(efectivoRecibido) || 0\r\n      return recibido - total\r\n    }\r\n    return 0\r\n  }, [efectivoRecibido, total, metodoPago])\r\n\r\n  const totalMixto = React.useMemo(() => {\r\n    const efectivo = parseFloat(montoEfectivo) || 0\r\n    const transferencia = parseFloat(montoTransferencia) || 0\r\n    return efectivo + transferencia\r\n  }, [montoEfectivo, montoTransferencia])\r\n\r\n  const cambioMixto = React.useMemo(() => {\r\n    return totalMixto - total\r\n  }, [totalMixto, total])\r\n\r\n  // Función para formatear input mientras se escribe\r\n  const formatearMontoInput = (valor: string) => {\r\n    // Remover todo excepto números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    if (!numeros) return ''\r\n    // Formatear con puntos de miles\r\n    return parseInt(numeros).toLocaleString('es-CO')\r\n  }\r\n\r\n  // Función para manejar cambio en input de monto\r\n  const handleMontoChange = (e: React.ChangeEvent<HTMLInputElement>, setter: (v: string) => void) => {\r\n    const valor = e.target.value\r\n    // Remover formato y guardar solo números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    setter(numeros)\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    if (metodoPago === 'efectivo') {\r\n      const recibido = parseFloat(efectivoRecibido) || 0\r\n      \r\n      if (recibido < total) {\r\n        toast.error('El efectivo recibido es menor al total a pagar')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        efectivoRecibido: recibido,\r\n        cambio: cambio\r\n      })\r\n    } else if (metodoPago === 'transferencia') {\r\n      // Para transferencia no hay cambio, solo confirmar\r\n      if (!referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n      \r\n      onConfirmar({\r\n        efectivoRecibido: total,\r\n        cambio: 0,\r\n        referenciaTransferencia\r\n      })\r\n    } else if (metodoPago === 'mixto') {\r\n      const efectivo = parseFloat(montoEfectivo) || 0\r\n      const transferencia = parseFloat(montoTransferencia) || 0\r\n\r\n      if (efectivo <= 0 || transferencia <= 0) {\r\n        toast.error('Debe ingresar montos válidos para ambos métodos de pago')\r\n        return\r\n      }\r\n\r\n      if (totalMixto < total) {\r\n        toast.error('El monto total es menor al total a pagar')\r\n        return\r\n      }\r\n\r\n      if (!referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        efectivoRecibido: efectivo,\r\n        cambio: cambioMixto > 0 ? cambioMixto : 0,\r\n        pagoMixto: {\r\n          efectivo,\r\n          transferencia\r\n        },\r\n        referenciaTransferencia\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle>Procesar Pago</DialogTitle>\r\n          <DialogDescription>\r\n            Complete los datos del pago para finalizar la venta\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          {/* Total a pagar */}\r\n          <div className=\"rounded-lg border p-4 bg-muted\">\r\n            <Label className=\"text-sm text-muted-foreground\">Total a Pagar</Label>\r\n            <p className=\"text-3xl font-bold\">${formatCurrency(total)}</p>\r\n          </div>\r\n\r\n          {/* Efectivo */}\r\n          {metodoPago === 'efectivo' && (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"efectivoRecibido\">\r\n                  <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                  Efectivo Recibido\r\n                </Label>\r\n                <Input\r\n                  id=\"efectivoRecibido\"\r\n                  type=\"text\"\r\n                  placeholder=\"0\"\r\n                  value={formatearMontoInput(efectivoRecibido)}\r\n                  onChange={(e) => handleMontoChange(e, setEfectivoRecibido)}\r\n                  className=\"text-lg\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n\r\n              {efectivoRecibido && (\r\n                <div className={`rounded-lg border p-4 ${cambio >= 0 ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}>\r\n                  <Label className=\"text-sm font-semibold\">Cambio a Devolver</Label>\r\n                  <p className={`text-2xl font-bold ${cambio >= 0 ? 'text-green-700' : 'text-red-700'}`}>\r\n                    ${formatCurrency(Math.abs(cambio))}\r\n                  </p>\r\n                  {cambio < 0 && (\r\n                    <p className=\"text-xs text-red-600 mt-1\">\r\n                      Falta: ${formatCurrency(Math.abs(cambio))}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Transferencia */}\r\n          {metodoPago === 'transferencia' && (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"referencia\">Origen de la Transferencia</Label>\r\n                <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                  <SelectTrigger id=\"referencia\">\r\n                    <SelectValue placeholder=\"Seleccione el origen\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                    <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                    <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                    <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              \r\n              <div className=\"rounded-lg border p-4 bg-blue-50 border-blue-200\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <CreditCard className=\"h-5 w-5 text-blue-600\" />\r\n                  <Label className=\"text-sm font-semibold text-blue-900\">Pago por Transferencia</Label>\r\n                </div>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Verifique que la transferencia por ${formatCurrency(total)} ha sido recibida antes de confirmar.\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Mixto */}\r\n          {metodoPago === 'mixto' && (\r\n            <>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Repeat className=\"h-4 w-4\" />\r\n                  <Label className=\"font-semibold\">Pago Mixto</Label>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"montoEfectivo\">\r\n                    <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                    Monto en Efectivo\r\n                  </Label>\r\n                  <Input\r\n                    id=\"montoEfectivo\"\r\n                    type=\"text\"\r\n                    placeholder=\"0\"\r\n                    value={formatearMontoInput(montoEfectivo)}\r\n                    onChange={(e) => handleMontoChange(e, setMontoEfectivo)}\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"montoTransferencia\">\r\n                    <CreditCard className=\"inline h-4 w-4 mr-1\" />\r\n                    Monto en Transferencia\r\n                  </Label>\r\n                  <Input\r\n                    id=\"montoTransferencia\"\r\n                    type=\"text\"\r\n                    placeholder=\"0\"\r\n                    value={formatearMontoInput(montoTransferencia)}\r\n                    onChange={(e) => handleMontoChange(e, setMontoTransferencia)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"referenciaTransferenciaMixto\">Origen de la Transferencia</Label>\r\n                  <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                    <SelectTrigger id=\"referenciaTransferenciaMixto\">\r\n                      <SelectValue placeholder=\"Seleccione el origen\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                      <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                      <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                      <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              {(montoEfectivo || montoTransferencia) && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"rounded-lg border p-3 bg-muted\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span>Total Recibido:</span>\r\n                      <span className=\"font-semibold\">${formatCurrency(totalMixto)}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={`rounded-lg border p-3 ${cambioMixto >= 0 ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}>\r\n                    <div className=\"flex justify-between\">\r\n                      <Label className=\"text-sm font-semibold\">Cambio:</Label>\r\n                      <p className={`text-lg font-bold ${cambioMixto >= 0 ? 'text-green-700' : 'text-red-700'}`}>\r\n                        ${formatCurrency(Math.abs(cambioMixto))}\r\n                      </p>\r\n                    </div>\r\n                    {cambioMixto < 0 && (\r\n                      <p className=\"text-xs text-red-600 mt-1\">\r\n                        Falta: ${formatCurrency(Math.abs(cambioMixto))}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"gap-2\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Confirmar Venta\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4998, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2RAAkB;AAE/B,MAAM,yBAAW,2SAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC,2RAAkB;QACjB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2RAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC,8RAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8RAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC,8RAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8RAAqB,CAAC,WAAW"}},
    {"offset": {"line": 5066, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/credito-dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport { DollarSign, CreditCard, Repeat, UserPlus, Users } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\nimport type { Cliente } from \"@/lib/types\"\r\n\r\ninterface AbonoData {\r\n  monto: number\r\n  metodo: 'efectivo' | 'transferencia' | 'mixto'\r\n  montoEfectivo?: number\r\n  montoTransferencia?: number\r\n  referenciaTransferencia?: string\r\n}\r\n\r\ninterface CreditoDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  total: number\r\n  clientesExistentes: Cliente[]\r\n  onConfirmar: (data: {\r\n    cliente: Cliente | {\r\n      nombre: string\r\n      identificacion: string\r\n      telefono: string\r\n      direccion: string\r\n      email: string\r\n      tipo_cliente: 'publico' | 'mayorista' | 'especial'\r\n    }\r\n    abono?: AbonoData\r\n    esNuevoCliente: boolean\r\n  }) => void\r\n}\r\n\r\nexport function CreditoDialog({\r\n  open,\r\n  onClose,\r\n  total,\r\n  clientesExistentes,\r\n  onConfirmar\r\n}: CreditoDialogProps) {\r\n  const [tabActivo, setTabActivo] = React.useState<'existente' | 'nuevo'>('existente')\r\n  const [clienteSeleccionado, setClienteSeleccionado] = React.useState<string>(\"\")\r\n  \r\n  // Datos nuevo cliente\r\n  const [nombre, setNombre] = React.useState(\"\")\r\n  const [identificacion, setIdentificacion] = React.useState(\"\")\r\n  const [telefono, setTelefono] = React.useState(\"\")\r\n  const [direccion, setDireccion] = React.useState(\"\")\r\n  const [email, setEmail] = React.useState(\"\")\r\n  const [tipoCliente, setTipoCliente] = React.useState<'publico' | 'mayorista' | 'especial'>('publico')\r\n\r\n  // Datos abono\r\n  const [montoAbono, setMontoAbono] = React.useState(\"\")\r\n  const [metodoAbono, setMetodoAbono] = React.useState<'efectivo' | 'transferencia' | 'mixto'>('efectivo')\r\n  const [montoEfectivo, setMontoEfectivo] = React.useState(\"\")\r\n  const [montoTransferencia, setMontoTransferencia] = React.useState(\"\")\r\n  const [referenciaTransferencia, setReferenciaTransferencia] = React.useState(\"Nequi\")\r\n\r\n  // Resetear cuando se abre el diálogo\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setTabActivo('existente')\r\n      setClienteSeleccionado(\"\")\r\n      setNombre(\"\")\r\n      setIdentificacion(\"\")\r\n      setTelefono(\"\")\r\n      setDireccion(\"\")\r\n      setEmail(\"\")\r\n      setTipoCliente('publico')\r\n      setMontoAbono(\"\")\r\n      setMetodoAbono('efectivo')\r\n      setMontoEfectivo(\"\")\r\n      setMontoTransferencia(\"\")\r\n      setReferenciaTransferencia(\"Nequi\")\r\n    }\r\n  }, [open])\r\n\r\n  const abonoMonto = React.useMemo(() => {\r\n    if (metodoAbono === 'mixto') {\r\n      const efectivo = parseFloat(montoEfectivo) || 0\r\n      const transferencia = parseFloat(montoTransferencia) || 0\r\n      return efectivo + transferencia\r\n    }\r\n    return parseFloat(montoAbono) || 0\r\n  }, [montoAbono, metodoAbono, montoEfectivo, montoTransferencia])\r\n\r\n  const saldoPendiente = React.useMemo(() => {\r\n    return total - abonoMonto\r\n  }, [total, abonoMonto])\r\n\r\n  // Función para formatear input mientras se escribe\r\n  const formatearMontoInput = (valor: string) => {\r\n    // Remover todo excepto números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    if (!numeros) return ''\r\n    // Formatear con puntos de miles\r\n    return parseInt(numeros).toLocaleString('es-CO')\r\n  }\r\n\r\n  // Función para manejar cambio en input de monto\r\n  const handleMontoChange = (e: React.ChangeEvent<HTMLInputElement>, setter: (v: string) => void) => {\r\n    const valor = e.target.value\r\n    // Remover formato y guardar solo números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    setter(numeros)\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    // Validar cliente\r\n    if (tabActivo === 'existente') {\r\n      if (!clienteSeleccionado) {\r\n        toast.error('Debe seleccionar un cliente')\r\n        return\r\n      }\r\n    } else {\r\n      if (!nombre.trim()) {\r\n        toast.error('Debe ingresar el nombre del cliente')\r\n        return\r\n      }\r\n      if (!telefono.trim()) {\r\n        toast.error('Debe ingresar el teléfono del cliente')\r\n        return\r\n      }\r\n    }\r\n\r\n    // Validar abono si se ingresó\r\n    if (abonoMonto > 0) {\r\n      if (abonoMonto > total) {\r\n        toast.error('El abono no puede ser mayor al total')\r\n        return\r\n      }\r\n\r\n      if (metodoAbono === 'mixto') {\r\n        const efectivo = parseFloat(montoEfectivo) || 0\r\n        const transferencia = parseFloat(montoTransferencia) || 0\r\n        \r\n        if (efectivo <= 0 || transferencia <= 0) {\r\n          toast.error('Debe ingresar montos válidos para ambos métodos de pago')\r\n          return\r\n        }\r\n\r\n        if (!referenciaTransferencia) {\r\n          toast.error('Debe seleccionar el origen de la transferencia')\r\n          return\r\n        }\r\n      }\r\n\r\n      if (metodoAbono === 'transferencia' && !referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n    }\r\n\r\n    // Preparar datos\r\n    let abonoData: AbonoData | undefined = undefined\r\n    if (abonoMonto > 0) {\r\n      if (metodoAbono === 'mixto') {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: 'mixto',\r\n          montoEfectivo: parseFloat(montoEfectivo) || 0,\r\n          montoTransferencia: parseFloat(montoTransferencia) || 0,\r\n          referenciaTransferencia\r\n        }\r\n      } else if (metodoAbono === 'transferencia') {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: metodoAbono,\r\n          referenciaTransferencia\r\n        }\r\n      } else {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: metodoAbono\r\n        }\r\n      }\r\n    }\r\n\r\n    if (tabActivo === 'existente') {\r\n      const cliente = clientesExistentes.find(c => c.id === parseInt(clienteSeleccionado))\r\n      if (!cliente) {\r\n        toast.error('Cliente no encontrado')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        cliente,\r\n        abono: abonoData,\r\n        esNuevoCliente: false\r\n      })\r\n    } else {\r\n      onConfirmar({\r\n        cliente: {\r\n          nombre: nombre.trim(),\r\n          identificacion: identificacion.trim(),\r\n          telefono: telefono.trim(),\r\n          direccion: direccion.trim(),\r\n          email: email.trim(),\r\n          tipo_cliente: tipoCliente\r\n        },\r\n        abono: abonoData,\r\n        esNuevoCliente: true\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>Venta a Crédito</DialogTitle>\r\n          <DialogDescription>\r\n            Registre el cliente y un abono inicial (opcional)\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          {/* Total y saldo */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"rounded-lg border p-3 bg-muted\">\r\n              <Label className=\"text-xs text-muted-foreground\">Total de la Venta</Label>\r\n              <p className=\"text-2xl font-bold\">${formatCurrency(total)}</p>\r\n            </div>\r\n            <div className={`rounded-lg border p-3 ${saldoPendiente > 0 ? 'bg-orange-50 border-orange-200' : 'bg-green-50 border-green-200'}`}>\r\n              <Label className=\"text-xs font-semibold\">Saldo Pendiente</Label>\r\n              <p className={`text-2xl font-bold ${saldoPendiente > 0 ? 'text-orange-700' : 'text-green-700'}`}>\r\n                ${formatCurrency(saldoPendiente)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabs cliente */}\r\n          <Tabs value={tabActivo} onValueChange={(v) => setTabActivo(v as 'existente' | 'nuevo')}>\r\n            <TabsList className=\"grid w-full grid-cols-2\">\r\n              <TabsTrigger value=\"existente\">\r\n                <Users className=\"h-4 w-4 mr-2\" />\r\n                Cliente Existente\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"nuevo\">\r\n                <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                Nuevo Cliente\r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"existente\" className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"clienteSelect\">Seleccione el Cliente</Label>\r\n                <Select value={clienteSeleccionado} onValueChange={setClienteSeleccionado}>\r\n                  <SelectTrigger id=\"clienteSelect\">\r\n                    <SelectValue placeholder=\"Seleccione un cliente...\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {clientesExistentes.map((cliente) => (\r\n                      <SelectItem key={cliente.id} value={cliente.id?.toString() || ''}>\r\n                        {cliente.nombre} - {cliente.identificacion || 'Sin ID'} - {cliente.telefono}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {clienteSeleccionado && (() => {\r\n                const cliente = clientesExistentes.find(c => c.id === parseInt(clienteSeleccionado))\r\n                return cliente ? (\r\n                  <div className=\"rounded-lg border p-3 bg-muted text-sm space-y-1\">\r\n                    <p><span className=\"font-semibold\">Nombre:</span> {cliente.nombre}</p>\r\n                    {cliente.identificacion && <p><span className=\"font-semibold\">ID:</span> {cliente.identificacion}</p>}\r\n                    <p><span className=\"font-semibold\">Teléfono:</span> {cliente.telefono}</p>\r\n                    {cliente.email && <p><span className=\"font-semibold\">Email:</span> {cliente.email}</p>}\r\n                    {cliente.saldo_pendiente !== undefined && cliente.saldo_pendiente > 0 && (\r\n                      <p className=\"text-orange-600\">\r\n                        <span className=\"font-semibold\">Saldo Pendiente Actual:</span> ${formatCurrency(cliente.saldo_pendiente)}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                ) : null\r\n              })()}\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"nuevo\" className=\"space-y-3\">\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"nombre\">Nombre Completo *</Label>\r\n                  <Input\r\n                    id=\"nombre\"\r\n                    placeholder=\"Ej: Juan Pérez\"\r\n                    value={nombre}\r\n                    onChange={(e) => setNombre(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"identificacion\">Cédula/RUC</Label>\r\n                  <Input\r\n                    id=\"identificacion\"\r\n                    placeholder=\"0000000000\"\r\n                    value={identificacion}\r\n                    onChange={(e) => setIdentificacion(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"telefono\">Teléfono *</Label>\r\n                  <Input\r\n                    id=\"telefono\"\r\n                    placeholder=\"0999999999\"\r\n                    value={telefono}\r\n                    onChange={(e) => setTelefono(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"email\">Email</Label>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"ejemplo@correo.com\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"direccion\">Dirección</Label>\r\n                  <Input\r\n                    id=\"direccion\"\r\n                    placeholder=\"Calle principal...\"\r\n                    value={direccion}\r\n                    onChange={(e) => setDireccion(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"tipoCliente\">Tipo de Cliente</Label>\r\n                  <Select value={tipoCliente} onValueChange={(v) => setTipoCliente(v as any)}>\r\n                    <SelectTrigger id=\"tipoCliente\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"publico\">Público</SelectItem>\r\n                      <SelectItem value=\"mayorista\">Mayorista</SelectItem>\r\n                      <SelectItem value=\"especial\">Especial</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </TabsContent>\r\n          </Tabs>\r\n\r\n          {/* Abono inicial */}\r\n          <div className=\"rounded-lg border p-4 bg-blue-50 border-blue-200\">\r\n            <Label className=\"font-semibold text-blue-900 mb-3 block\">\r\n              Abono Inicial (Opcional)\r\n            </Label>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"metodoAbono\">Método de Pago</Label>\r\n                <Select value={metodoAbono} onValueChange={(v) => setMetodoAbono(v as any)}>\r\n                  <SelectTrigger id=\"metodoAbono\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"efectivo\">\r\n                      <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                      Efectivo\r\n                    </SelectItem>\r\n                    <SelectItem value=\"transferencia\">\r\n                      <CreditCard className=\"inline h-4 w-4 mr-1\" />\r\n                      Transferencia\r\n                    </SelectItem>\r\n                    <SelectItem value=\"mixto\">\r\n                      <Repeat className=\"inline h-4 w-4 mr-1\" />\r\n                      Mixto\r\n                    </SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {metodoAbono !== 'mixto' ? (\r\n                <>\r\n                  {metodoAbono === 'transferencia' && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"referenciaTransferenciaAbono\">Origen de la Transferencia</Label>\r\n                      <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                        <SelectTrigger id=\"referenciaTransferenciaAbono\">\r\n                          <SelectValue placeholder=\"Seleccione el origen\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                          <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                          <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                          <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoAbono\">Monto del Abono</Label>\r\n                    <Input\r\n                      id=\"montoAbono\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoAbono)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoAbono)}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Deje en 0 si no hay abono inicial\r\n                    </p>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoEfectivo\">Monto en Efectivo</Label>\r\n                    <Input\r\n                      id=\"montoEfectivo\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoEfectivo)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoEfectivo)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoTransferencia\">Monto en Transferencia</Label>\r\n                    <Input\r\n                      id=\"montoTransferencia\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoTransferencia)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoTransferencia)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"referenciaTransferenciaMixtoAbono\">Origen de la Transferencia</Label>\r\n                    <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                      <SelectTrigger id=\"referenciaTransferenciaMixtoAbono\">\r\n                        <SelectValue placeholder=\"Seleccione el origen\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                        <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                        <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                        <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  {(montoEfectivo || montoTransferencia) && (\r\n                    <div className=\"rounded border p-2 bg-white\">\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span>Total Abono:</span>\r\n                        <span className=\"font-semibold\">${formatCurrency(abonoMonto)}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"gap-2\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Confirmar Venta a Crédito\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6291, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\r\nimport { CheckIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Checkbox({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <CheckIcon className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6TAAC,yRAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,6TAAC,8RAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,6TAAC,4SAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B;KArBS"}},
    {"offset": {"line": 6341, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2SAAgB,MAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6TAAC,4RAAwB;QACvB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6TAAC,gSAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6TAAC;;;;;0BACD,6TAAC,8RAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,4RAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2SAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6TAAC,2SAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,qHAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6TAAC,uSAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,2SAAuC,CAAC,WAAW"}},
    {"offset": {"line": 6418, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/resumen-precios-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport type { Product } from '@/lib/types'\r\n\r\ninterface CarritoItem {\r\n  product: Product\r\n  cantidad: number\r\n  precioUnitario: number\r\n  tipoCliente: string\r\n}\r\n\r\ninterface AjustePrecio {\r\n  productoId: string\r\n  aplicarMinimo: boolean\r\n}\r\n\r\ninterface ResumenPreciosDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  carrito: CarritoItem[]\r\n  onConfirmar: (carritoAjustado: CarritoItem[]) => void\r\n}\r\n\r\nconst formatCurrency = (value: number) => {\r\n  return new Intl.NumberFormat('es-CO', {\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n  }).format(value)\r\n}\r\n\r\nexport function ResumenPreciosDialog({\r\n  open,\r\n  onClose,\r\n  carrito,\r\n  onConfirmar,\r\n}: ResumenPreciosDialogProps) {\r\n  const [ajustes, setAjustes] = useState<AjustePrecio[]>([])\r\n\r\n  // Inicializar ajustes cuando se abre el diálogo\r\n  useEffect(() => {\r\n    if (open) {\r\n      setAjustes(\r\n        carrito.map((item) => ({\r\n          productoId: item.product.id,\r\n          aplicarMinimo: false,\r\n        })),\r\n      )\r\n    }\r\n  }, [open, carrito])\r\n\r\n  const toggleAjuste = (productoId: string) => {\r\n    setAjustes((prev) =>\r\n      prev.map((ajuste) =>\r\n        ajuste.productoId === productoId\r\n          ? { ...ajuste, aplicarMinimo: !ajuste.aplicarMinimo }\r\n          : ajuste,\r\n      ),\r\n    )\r\n  }\r\n\r\n  const calcularTotales = () => {\r\n    let totalOriginal = 0\r\n    let totalAjustado = 0\r\n\r\n    carrito.forEach((item) => {\r\n      const subtotalOriginal = item.precioUnitario * item.cantidad\r\n      totalOriginal += subtotalOriginal\r\n\r\n      const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n      if (ajuste?.aplicarMinimo) {\r\n        totalAjustado += item.product.precioEspecial * item.cantidad\r\n      } else {\r\n        totalAjustado += subtotalOriginal\r\n      }\r\n    })\r\n\r\n    return {\r\n      totalOriginal,\r\n      totalAjustado,\r\n      descuentoTotal: totalOriginal - totalAjustado,\r\n    }\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    // Crear carrito ajustado con los precios seleccionados\r\n    const carritoAjustado = carrito.map((item) => {\r\n      const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n      if (ajuste?.aplicarMinimo) {\r\n        return {\r\n          ...item,\r\n          precioUnitario: item.product.precioEspecial,\r\n        }\r\n      }\r\n      return item\r\n    })\r\n\r\n    onConfirmar(carritoAjustado)\r\n  }\r\n\r\n  const { totalOriginal, totalAjustado, descuentoTotal } = calcularTotales()\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-3xl max-h-[90vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Confirmar Productos y Precios</DialogTitle>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Selecciona los productos a los que deseas aplicar el precio mínimo de venta\r\n          </p>\r\n        </DialogHeader>\r\n\r\n        <ScrollArea className=\"max-h-[50vh] pr-4\">\r\n          <div className=\"space-y-4\">\r\n            {carrito.map((item) => {\r\n              const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n              const aplicarMinimo = ajuste?.aplicarMinimo || false\r\n              const subtotalActual = aplicarMinimo\r\n                ? item.product.precioEspecial * item.cantidad\r\n                : item.precioUnitario * item.cantidad\r\n              const hayDiferencia = item.precioUnitario !== item.product.precioEspecial\r\n              const descuento = item.precioUnitario - item.product.precioEspecial\r\n              const tieneDescuento = (item.product as any).tieneDescuento || false\r\n              const puedeAplicarMinimo = hayDiferencia && !tieneDescuento\r\n\r\n              return (\r\n                <div\r\n                  key={item.product.id}\r\n                  className=\"flex items-start gap-3 p-4 border rounded-lg hover:bg-secondary/50 transition-colors\"\r\n                >\r\n                  <Checkbox\r\n                    id={`precio-${item.product.id}`}\r\n                    checked={aplicarMinimo}\r\n                    onCheckedChange={() => toggleAjuste(item.product.id)}\r\n                    disabled={!puedeAplicarMinimo}\r\n                    className=\"mt-1\"\r\n                  />\r\n                  <div className=\"flex-1 space-y-2\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div>\r\n                        <label\r\n                          htmlFor={`precio-${item.product.id}`}\r\n                          className=\"font-medium cursor-pointer\"\r\n                        >\r\n                          {item.product.nombre}\r\n                        </label>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          Cantidad: {item.cantidad} unidad{item.cantidad > 1 ? 'es' : ''}\r\n                        </p>\r\n                      </div>\r\n                      {aplicarMinimo && (\r\n                        <Badge variant=\"destructive\" className=\"ml-2\">\r\n                          Precio mínimo aplicado\r\n                        </Badge>\r\n                      )}\r\n                      {tieneDescuento && (\r\n                        <Badge variant=\"secondary\" className=\"ml-2\">\r\n                          Descuento activo\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Precio actual:</span>\r\n                        <p className={aplicarMinimo ? 'line-through text-muted-foreground' : 'font-semibold'}>\r\n                          ${formatCurrency(item.precioUnitario)}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Precio mínimo:</span>\r\n                        <p className={aplicarMinimo ? 'font-bold text-[#D4AF37]' : 'text-muted-foreground'}>\r\n                          ${formatCurrency(item.product.precioEspecial)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"pt-2 border-t\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm text-muted-foreground\">Subtotal:</span>\r\n                        <span className=\"font-bold text-lg\">\r\n                          ${formatCurrency(subtotalActual)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </ScrollArea>\r\n\r\n        <div className=\"space-y-3 pt-4 border-t\">\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-muted-foreground\">Total original:</span>\r\n            <span className={descuentoTotal > 0 ? 'line-through text-muted-foreground' : 'font-semibold'}>\r\n              ${formatCurrency(totalOriginal)}\r\n            </span>\r\n          </div>\r\n\r\n          {descuentoTotal > 0 && (\r\n            <>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-muted-foreground\">Descuento aplicado:</span>\r\n                <span className=\"text-green-600 font-medium\">-${formatCurrency(descuentoTotal)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center text-lg pt-2 border-t\">\r\n                <span className=\"font-bold\">Total con ajustes:</span>\r\n                <span className=\"font-bold text-2xl text-primary\">${formatCurrency(totalAjustado)}</span>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {descuentoTotal === 0 && (\r\n            <div className=\"flex justify-between items-center text-lg pt-2 border-t\">\r\n              <span className=\"font-bold\">Total:</span>\r\n              <span className=\"font-bold text-2xl text-primary\">${formatCurrency(totalAjustado)}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex justify-end gap-3 pt-4\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Continuar al Cobro\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAMA;AACA;AACA;AACA;;;AAZA;;;;;;;AAkCA,MAAM,iBAAiB,CAAC;IACtB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,qBAAqB,EACnC,IAAI,EACJ,OAAO,EACP,OAAO,EACP,WAAW,EACe;;IAC1B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,ySAAQ,EAAiB,EAAE;IAEzD,gDAAgD;IAChD,IAAA,0SAAS;0CAAC;YACR,IAAI,MAAM;gBACR,WACE,QAAQ,GAAG;sDAAC,CAAC,OAAS,CAAC;4BACrB,YAAY,KAAK,OAAO,CAAC,EAAE;4BAC3B,eAAe;wBACjB,CAAC;;YAEL;QACF;yCAAG;QAAC;QAAM;KAAQ;IAElB,MAAM,eAAe,CAAC;QACpB,WAAW,CAAC,OACV,KAAK,GAAG,CAAC,CAAC,SACR,OAAO,UAAU,KAAK,aAClB;oBAAE,GAAG,MAAM;oBAAE,eAAe,CAAC,OAAO,aAAa;gBAAC,IAClD;IAGV;IAEA,MAAM,kBAAkB;QACtB,IAAI,gBAAgB;QACpB,IAAI,gBAAgB;QAEpB,QAAQ,OAAO,CAAC,CAAC;YACf,MAAM,mBAAmB,KAAK,cAAc,GAAG,KAAK,QAAQ;YAC5D,iBAAiB;YAEjB,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK,KAAK,OAAO,CAAC,EAAE;YACnE,IAAI,QAAQ,eAAe;gBACzB,iBAAiB,KAAK,OAAO,CAAC,cAAc,GAAG,KAAK,QAAQ;YAC9D,OAAO;gBACL,iBAAiB;YACnB;QACF;QAEA,OAAO;YACL;YACA;YACA,gBAAgB,gBAAgB;QAClC;IACF;IAEA,MAAM,kBAAkB;QACtB,uDAAuD;QACvD,MAAM,kBAAkB,QAAQ,GAAG,CAAC,CAAC;YACnC,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK,KAAK,OAAO,CAAC,EAAE;YACnE,IAAI,QAAQ,eAAe;gBACzB,OAAO;oBACL,GAAG,IAAI;oBACP,gBAAgB,KAAK,OAAO,CAAC,cAAc;gBAC7C;YACF;YACA,OAAO;QACT;QAEA,YAAY;IACd;IAEA,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG;IAEzD,qBACE,6TAAC,wIAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6TAAC,+IAAa;YAAC,WAAU;;8BACvB,6TAAC,8IAAY;;sCACX,6TAAC,6IAAW;sCAAC;;;;;;sCACb,6TAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;8BAK/C,6TAAC,oJAAU;oBAAC,WAAU;8BACpB,cAAA,6TAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC;4BACZ,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK,KAAK,OAAO,CAAC,EAAE;4BACnE,MAAM,gBAAgB,QAAQ,iBAAiB;4BAC/C,MAAM,iBAAiB,gBACnB,KAAK,OAAO,CAAC,cAAc,GAAG,KAAK,QAAQ,GAC3C,KAAK,cAAc,GAAG,KAAK,QAAQ;4BACvC,MAAM,gBAAgB,KAAK,cAAc,KAAK,KAAK,OAAO,CAAC,cAAc;4BACzE,MAAM,YAAY,KAAK,cAAc,GAAG,KAAK,OAAO,CAAC,cAAc;4BACnE,MAAM,iBAAiB,AAAC,KAAK,OAAO,CAAS,cAAc,IAAI;4BAC/D,MAAM,qBAAqB,iBAAiB,CAAC;4BAE7C,qBACE,6TAAC;gCAEC,WAAU;;kDAEV,6TAAC,4IAAQ;wCACP,IAAI,CAAC,OAAO,EAAE,KAAK,OAAO,CAAC,EAAE,EAAE;wCAC/B,SAAS;wCACT,iBAAiB,IAAM,aAAa,KAAK,OAAO,CAAC,EAAE;wCACnD,UAAU,CAAC;wCACX,WAAU;;;;;;kDAEZ,6TAAC;wCAAI,WAAU;;0DACb,6TAAC;gDAAI,WAAU;;kEACb,6TAAC;;0EACC,6TAAC;gEACC,SAAS,CAAC,OAAO,EAAE,KAAK,OAAO,CAAC,EAAE,EAAE;gEACpC,WAAU;0EAET,KAAK,OAAO,CAAC,MAAM;;;;;;0EAEtB,6TAAC;gEAAE,WAAU;;oEAAgC;oEAChC,KAAK,QAAQ;oEAAC;oEAAQ,KAAK,QAAQ,GAAG,IAAI,OAAO;;;;;;;;;;;;;oDAG/D,+BACC,6TAAC,sIAAK;wDAAC,SAAQ;wDAAc,WAAU;kEAAO;;;;;;oDAI/C,gCACC,6TAAC,sIAAK;wDAAC,SAAQ;wDAAY,WAAU;kEAAO;;;;;;;;;;;;0DAMhD,6TAAC;gDAAI,WAAU;;kEACb,6TAAC;;0EACC,6TAAC;gEAAK,WAAU;0EAAwB;;;;;;0EACxC,6TAAC;gEAAE,WAAW,gBAAgB,uCAAuC;;oEAAiB;oEAClF,eAAe,KAAK,cAAc;;;;;;;;;;;;;kEAGxC,6TAAC;;0EACC,6TAAC;gEAAK,WAAU;0EAAwB;;;;;;0EACxC,6TAAC;gEAAE,WAAW,gBAAgB,6BAA6B;;oEAAyB;oEAChF,eAAe,KAAK,OAAO,CAAC,cAAc;;;;;;;;;;;;;;;;;;;0DAKlD,6TAAC;gDAAI,WAAU;0DACb,cAAA,6TAAC;oDAAI,WAAU;;sEACb,6TAAC;4DAAK,WAAU;sEAAgC;;;;;;sEAChD,6TAAC;4DAAK,WAAU;;gEAAoB;gEAChC,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;+BAtDpB,KAAK,OAAO,CAAC,EAAE;;;;;wBA6D1B;;;;;;;;;;;8BAIJ,6TAAC;oBAAI,WAAU;;sCACb,6TAAC;4BAAI,WAAU;;8CACb,6TAAC;oCAAK,WAAU;8CAAwB;;;;;;8CACxC,6TAAC;oCAAK,WAAW,iBAAiB,IAAI,uCAAuC;;wCAAiB;wCAC1F,eAAe;;;;;;;;;;;;;wBAIpB,iBAAiB,mBAChB;;8CACE,6TAAC;oCAAI,WAAU;;sDACb,6TAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6TAAC;4CAAK,WAAU;;gDAA6B;gDAAG,eAAe;;;;;;;;;;;;;8CAEjE,6TAAC;oCAAI,WAAU;;sDACb,6TAAC;4CAAK,WAAU;sDAAY;;;;;;sDAC5B,6TAAC;4CAAK,WAAU;;gDAAkC;gDAAE,eAAe;;;;;;;;;;;;;;;wBAKxE,mBAAmB,mBAClB,6TAAC;4BAAI,WAAU;;8CACb,6TAAC;oCAAK,WAAU;8CAAY;;;;;;8CAC5B,6TAAC;oCAAK,WAAU;;wCAAkC;wCAAE,eAAe;;;;;;;;;;;;;;;;;;;8BAKzE,6TAAC;oBAAI,WAAU;;sCACb,6TAAC,wIAAM;4BAAC,SAAQ;4BAAU,SAAS;sCAAS;;;;;;sCAG5C,6TAAC,wIAAM;4BAAC,SAAS;sCAAiB;;;;;;;;;;;;;;;;;;;;;;;AAO5C;GAzMgB;KAAA"}},
    {"offset": {"line": 6913, "column": 0}, "map": {"version":3,"sources":["file:///D:/Documents/proyectos/valva_boutique_pos/components/ventas-content.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Plus, Trash2, ShoppingCart, Search, Loader2 } from \"lucide-react\"\r\nimport type { Product, Cliente } from \"@/lib/types\"\r\nimport { getClientes } from \"@/lib/storage\"\r\nimport { SidebarToggle } from \"./app-sidebar\"\r\nimport { FacturaDialog } from \"./factura-dialog\"\r\nimport { CambioDialog } from \"./cambio-dialog\"\r\nimport { CreditoDialog } from \"./credito-dialog\"\r\nimport { ResumenPreciosDialog } from \"./resumen-precios-dialog\"\r\nimport { toast } from \"sonner\"\r\nimport { formatCurrency, normalizeText } from \"@/lib/utils\"\r\nimport { useSession } from \"next-auth/react\"\r\n\r\ntype CartItem = {\r\n  product: Product\r\n  cantidad: number\r\n  precioUnitario: number\r\n  tipoCliente: \"publico\" | \"mayorista\" | \"especial\"\r\n}\r\n\r\nexport function VentasContent() {\r\n  const { data: session } = useSession()\r\n  const [carrito, setCarrito] = React.useState<CartItem[]>([])\r\n  const [productos, setProductos] = React.useState<Product[]>([])\r\n  const [clientes, setClientes] = React.useState<Cliente[]>([])\r\n  const [searchTerm, setSearchTerm] = React.useState(\"\")\r\n  const [tipoVenta, setTipoVenta] = React.useState(\"contado\")\r\n  const [metodoPago, setMetodoPago] = React.useState(\"efectivo\")\r\n  const [clienteSeleccionado, setClienteSeleccionado] = React.useState<Cliente | null>(null)\r\n  const [procesando, setProcesando] = React.useState(false)\r\n  const [facturaOpen, setFacturaOpen] = React.useState(false)\r\n  const [ventaActual, setVentaActual] = React.useState<any>(null)\r\n  const [cambioDialogOpen, setCambioDialogOpen] = React.useState(false)\r\n  const [creditoDialogOpen, setCreditoDialogOpen] = React.useState(false)\r\n  const [resumenDialogOpen, setResumenDialogOpen] = React.useState(false)\r\n  const [carritoParaProcesar, setCarritoParaProcesar] = React.useState<CartItem[]>([])\r\n  const [cajaAbierta, setCajaAbierta] = React.useState<boolean | null>(null)\r\n\r\n  React.useEffect(() => {\r\n    loadProductos()\r\n    loadClientes()\r\n    verificarCaja()\r\n  }, [])\r\n\r\n  const verificarCaja = async () => {\r\n    try {\r\n      const response = await fetch('/api/caja/estado')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setCajaAbierta(result.abierta)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verificando caja:', error)\r\n      setCajaAbierta(false)\r\n    }\r\n  }\r\n\r\n  const loadClientes = async () => {\r\n    try {\r\n      const response = await fetch('/api/clientes')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        if (result.success && result.data) {\r\n          setClientes(result.data)\r\n        }\r\n      } else {\r\n        // Fallback a localStorage\r\n        setClientes(getClientes())\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando clientes:', error)\r\n      setClientes(getClientes())\r\n    }\r\n  }\r\n\r\n  const loadProductos = async () => {\r\n    try {\r\n      const response = await fetch('/api/productos')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        if (result.success && result.data) {\r\n          // Convertir formato de API a formato de Product\r\n          const productosConvertidos = result.data.map((p: any) => ({\r\n            id: p.id?.toString() || '',\r\n            nombre: p.nombre || '',\r\n            codigo: p.codigo_barras || '',\r\n            referencia: p.sku || '',\r\n            categoria: p.categoria_nombre || '',\r\n            tipoPrenda: p.tipo_prenda_nombre || '',\r\n            talla: p.talla_valor || '',\r\n            color: p.color || '',\r\n            cantidad: Number(p.stock_actual) || 0,\r\n            stockMinimo: 5,\r\n            precioCosto: Number(p.precio_compra) || 0,\r\n            precioVentaPublico: p.tiene_descuento ? Number(p.precio_final) : Number(p.precio_venta),\r\n            precioMayorista: Number(p.precio_venta) || 0,\r\n            precioEspecial: Number(p.precio_minimo) || 0,\r\n            proveedor: p.proveedor_nombre || '',\r\n            // Información completa del descuento\r\n            tieneDescuento: p.tiene_descuento || false,\r\n            descuentoAplicado: p.descuento_aplicado || null,\r\n            precioOriginal: p.precio_original || p.precio_venta,\r\n            precioConDescuento: p.tiene_descuento ? Number(p.precio_final) : undefined,\r\n            montoDescuento: p.monto_descuento || 0,\r\n            createdAt: new Date().toISOString(),\r\n            updatedAt: new Date().toISOString(),\r\n          }))\r\n          setProductos(productosConvertidos)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando productos:', error)\r\n      toast.error('Error al cargar productos')\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (clienteSeleccionado) {\r\n      setCarrito((prevCarrito) =>\r\n        prevCarrito.map((item) => ({\r\n          ...item,\r\n          tipoCliente: clienteSeleccionado.tipoCliente,\r\n          precioUnitario: getPrecioByTipo(item.product, clienteSeleccionado.tipoCliente),\r\n        })),\r\n      )\r\n    }\r\n  }, [clienteSeleccionado])\r\n\r\n  // Cuando cambia el tipo de venta, resetear cliente si es contado\r\n  React.useEffect(() => {\r\n    if (tipoVenta === \"contado\") {\r\n      setClienteSeleccionado(null)\r\n      // Actualizar precios del carrito a precio público\r\n      setCarrito((prevCarrito) =>\r\n        prevCarrito.map((item) => ({\r\n          ...item,\r\n          tipoCliente: \"publico\",\r\n          precioUnitario: getPrecioByTipo(item.product, \"publico\"),\r\n        })),\r\n      )\r\n    }\r\n  }, [tipoVenta])\r\n\r\n  const getPrecioByTipo = (product: Product, tipoCliente: \"publico\" | \"mayorista\" | \"especial\") => {\r\n    // Si el producto tiene descuento aplicado, usar el precio con descuento\r\n    if ((product as any).tieneDescuento && product.precioConDescuento) {\r\n      return product.precioConDescuento\r\n    }\r\n    switch (tipoCliente) {\r\n      case \"mayorista\":\r\n        return product.precioMayorista\r\n      case \"especial\":\r\n        return product.precioEspecial\r\n      default:\r\n        return product.precioVentaPublico\r\n    }\r\n  }\r\n\r\n  const agregarProducto = (producto: Product) => {\r\n    const tipoCliente = clienteSeleccionado?.tipoCliente || \"publico\"\r\n    const precio = getPrecioByTipo(producto, tipoCliente)\r\n\r\n    const existente = carrito.find((item) => item.product.id === producto.id)\r\n    if (existente) {\r\n      setCarrito(\r\n        carrito.map((item) => (item.product.id === producto.id ? { ...item, cantidad: item.cantidad + 1 } : item)),\r\n      )\r\n    } else {\r\n      setCarrito([\r\n        ...carrito,\r\n        {\r\n          product: producto,\r\n          cantidad: 1,\r\n          precioUnitario: precio,\r\n          tipoCliente,\r\n        },\r\n      ])\r\n    }\r\n  }\r\n\r\n  const eliminarProducto = (id: string) => {\r\n    setCarrito(carrito.filter((item) => item.product.id !== id))\r\n  }\r\n\r\n  const actualizarCantidad = (id: string, cantidad: number) => {\r\n    if (cantidad < 1) return\r\n    setCarrito(carrito.map((item) => (item.product.id === id ? { ...item, cantidad } : item)))\r\n  }\r\n\r\n  const actualizarPrecio = (id: string, precio: number) => {\r\n    if (precio < 0) return\r\n    setCarrito(carrito.map((item) => (item.product.id === id ? { ...item, precioUnitario: precio } : item)))\r\n  }\r\n\r\n  const subtotal = carrito.reduce((sum, item) => sum + item.precioUnitario * item.cantidad, 0)\r\n  const total = subtotal\r\n\r\n  const procesarVenta = async () => {\r\n    if (carrito.length === 0) {\r\n      toast.error('El carrito está vacío')\r\n      return\r\n    }\r\n\r\n    // Verificar que la caja esté abierta antes de continuar\r\n    if (!cajaAbierta) {\r\n      toast.error('Caja cerrada', {\r\n        description: 'Debes abrir la caja antes de registrar ventas.'\r\n      })\r\n      return\r\n    }\r\n\r\n    // Abrir diálogo de resumen de precios primero\r\n    setResumenDialogOpen(true)\r\n  }\r\n\r\n  const confirmarResumenPrecios = (carritoAjustado: CartItem[]) => {\r\n    // Guardar carrito ajustado y cerrar diálogo de resumen\r\n    setCarritoParaProcesar(carritoAjustado)\r\n    setResumenDialogOpen(false)\r\n\r\n    // Actualizar el carrito con los precios ajustados\r\n    setCarrito(carritoAjustado)\r\n\r\n    // Abrir diálogo de cobro según tipo de venta\r\n    if (tipoVenta === 'contado') {\r\n      setCambioDialogOpen(true)\r\n    } else {\r\n      setCreditoDialogOpen(true)\r\n    }\r\n  }\r\n\r\n  const finalizarVentaContado = async (data: {\r\n    efectivoRecibido: number\r\n    cambio: number\r\n    pagoMixto?: { efectivo: number; transferencia: number }\r\n    referenciaTransferencia?: string\r\n  }) => {\r\n    setCambioDialogOpen(false)\r\n    setProcesando(true)\r\n\r\n    try {\r\n      // Preparar datos de la venta de contado\r\n      const ventaData = {\r\n        cliente_id: clienteSeleccionado?.id || null,\r\n        tipo_venta: 'contado',\r\n        metodo_pago: metodoPago,\r\n        productos: carrito.map(item => ({\r\n          producto_id: parseInt(item.product.id),\r\n          cantidad: item.cantidad,\r\n          precio_unitario: item.precioUnitario\r\n        })),\r\n        subtotal,\r\n        iva: 0,\r\n        descuento: 0,\r\n        total,\r\n        descuento_id: null,\r\n        efectivo_recibido: data.efectivoRecibido,\r\n        cambio: data.cambio,\r\n        pago_mixto: data.pagoMixto,\r\n        referencia_transferencia: data.referenciaTransferencia\r\n      }\r\n\r\n      // Enviar a la API\r\n      const response = await fetch('/api/ventas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(ventaData)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        // Intentar parsear el JSON del error\r\n        let errorMessage = 'Error al procesar la venta'\r\n        try {\r\n          const errorResult = await response.json()\r\n          errorMessage = errorResult.error || errorMessage\r\n        } catch (e) {\r\n          // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n          const errorText = await response.text()\r\n          errorMessage = errorText || `Error ${response.status}: ${response.statusText}`\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success && result.data) {\r\n        // Limpiar carrito\r\n        setCarrito([])\r\n        setClienteSeleccionado(null)\r\n        \r\n        // Recargar productos para actualizar stock\r\n        await loadProductos()\r\n        \r\n        // Mostrar factura\r\n        setVentaActual(result.data)\r\n        setFacturaOpen(true)\r\n        \r\n        toast.success('¡Venta completada!', {\r\n          description: `Venta ${result.data.numero_venta} registrada exitosamente`\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error al procesar venta:', error)\r\n      const esCajaCerrada = error.message?.toLowerCase().includes('caja')\r\n      toast.error(esCajaCerrada ? 'Caja cerrada' : 'Error al procesar venta', {\r\n        description: error.message || 'Ocurrió un error inesperado'\r\n      })\r\n      if (esCajaCerrada) setCajaAbierta(false)\r\n    } finally {\r\n      setProcesando(false)\r\n    }\r\n  }\r\n\r\n  const finalizarVentaCredito = async (data: {\r\n    cliente: any\r\n    abono?: any\r\n    esNuevoCliente: boolean\r\n  }) => {\r\n    setCreditoDialogOpen(false)\r\n    setProcesando(true)\r\n\r\n    try {\r\n      // Si es nuevo cliente, primero registrarlo\r\n      let clienteId = null\r\n      if (data.esNuevoCliente) {\r\n        const clienteResponse = await fetch('/api/clientes', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(data.cliente)\r\n        })\r\n\r\n        if (!clienteResponse.ok) {\r\n          // Intentar parsear el JSON del error\r\n          let errorMessage = 'Error al registrar cliente'\r\n          try {\r\n            const errorResult = await clienteResponse.json()\r\n            errorMessage = errorResult.error || errorMessage\r\n          } catch (e) {\r\n            // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n            const errorText = await clienteResponse.text()\r\n            errorMessage = errorText || `Error ${clienteResponse.status}: ${clienteResponse.statusText}`\r\n          }\r\n          throw new Error(errorMessage)\r\n        }\r\n\r\n        const clienteResult = await clienteResponse.json()\r\n        clienteId = clienteResult.data.id\r\n      } else {\r\n        clienteId = data.cliente.id\r\n      }\r\n\r\n      // Preparar datos de la venta a crédito\r\n      const ventaData = {\r\n        cliente_id: clienteId,\r\n        tipo_venta: 'credito',\r\n        metodo_pago: null,\r\n        productos: carrito.map(item => ({\r\n          producto_id: parseInt(item.product.id),\r\n          cantidad: item.cantidad,\r\n          precio_unitario: item.precioUnitario\r\n        })),\r\n        subtotal,\r\n        iva: 0,\r\n        descuento: 0,\r\n        total,\r\n        descuento_id: null,\r\n        abono: data.abono\r\n      }\r\n\r\n      // Enviar a la API\r\n      const response = await fetch('/api/ventas', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(ventaData)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        // Intentar parsear el JSON del error\r\n        let errorMessage = 'Error al procesar la venta'\r\n        try {\r\n          const errorResult = await response.json()\r\n          errorMessage = errorResult.error || errorMessage\r\n        } catch (e) {\r\n          // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n          const errorText = await response.text()\r\n          errorMessage = errorText || `Error ${response.status}: ${response.statusText}`\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success && result.data) {\r\n        // Limpiar carrito\r\n        setCarrito([])\r\n        setClienteSeleccionado(null)\r\n        \r\n        // Recargar productos y clientes\r\n        await loadProductos()\r\n        await loadClientes()\r\n        \r\n        // Mostrar factura\r\n        setVentaActual(result.data)\r\n        setFacturaOpen(true)\r\n        \r\n        toast.success('¡Venta a crédito completada!', {\r\n          description: `Venta ${result.data.numero_venta} registrada exitosamente`\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error al procesar venta a crédito:', error)\r\n      const esCajaCerrada = error.message?.toLowerCase().includes('caja')\r\n      toast.error(esCajaCerrada ? 'Caja cerrada' : 'Error al procesar venta', {\r\n        description: error.message || 'Ocurrió un error inesperado'\r\n      })\r\n      if (esCajaCerrada) setCajaAbierta(false)\r\n    } finally {\r\n      setProcesando(false)\r\n    }\r\n  }\r\n\r\n  const productosFiltrados = productos.filter(\r\n    (p) =>\r\n      p.cantidad > 0 && // Solo mostrar productos con stock disponible\r\n      (normalizeText(p.nombre).includes(normalizeText(searchTerm)) ||\r\n      normalizeText(p.codigo).includes(normalizeText(searchTerm)) ||\r\n      normalizeText(p.referencia).includes(normalizeText(searchTerm))),\r\n  )\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 p-4 md:gap-6 md:p-6\">\r\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <SidebarToggle />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight md:text-3xl\">Punto de Venta</h1>\r\n            <p className=\"text-muted-foreground\">Sistema POS con múltiples precios</p>\r\n          </div>\r\n        </div>\r\n        <Button size=\"lg\" disabled={carrito.length === 0 || procesando || !cajaAbierta} onClick={procesarVenta}>\r\n          {procesando ? (\r\n            <>\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              Procesando...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <ShoppingCart className=\"mr-2 h-4 w-4\" />\r\n              Procesar Venta\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {cajaAbierta === false && (\r\n        <div className=\"flex items-center gap-3 rounded-lg border border-destructive/50 bg-destructive/10 p-4\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 shrink-0 text-destructive\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z\" />\r\n          </svg>\r\n          <div>\r\n            <p className=\"font-semibold text-destructive\">Caja cerrada</p>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              No se pueden registrar ventas. Dirígete a{' '}\r\n              <a href=\"/caja\" className=\"font-medium underline text-destructive hover:opacity-80\">Gestión de Caja</a>\r\n              {' '}para abrir la caja primero.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid gap-6 lg:grid-cols-3\">\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Búsqueda de Productos</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex gap-2\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    className=\"pl-9\"\r\n                    placeholder=\"Buscar por nombre, código o referencia...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Productos Disponibles</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {productosFiltrados.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <p className=\"text-muted-foreground\">No se encontraron productos</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                  {productosFiltrados.map((producto) => {\r\n                    const tipoCliente = clienteSeleccionado?.tipoCliente || \"publico\"\r\n                    const precioActual = getPrecioByTipo(producto, tipoCliente)\r\n\r\n                    return (\r\n                      <div\r\n                        key={producto.id}\r\n                        className=\"flex flex-col rounded-lg border p-4 hover:bg-secondary cursor-pointer transition-colors\"\r\n                        onClick={() => agregarProducto(producto)}\r\n                      >\r\n                        <div className=\"flex items-start justify-between mb-2\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-medium\">{producto.nombre}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">{producto.codigo}</p>\r\n                            {(producto as any).tieneDescuento && (producto as any).descuentoAplicado && (\r\n                              <Badge variant=\"destructive\" className=\"mt-1\">\r\n                                {(producto as any).descuentoAplicado.tipo === 'porcentaje' \r\n                                  ? `${(producto as any).descuentoAplicado.valor}% OFF`\r\n                                  : `Precio ${(producto as any).descuentoAplicado.nombre}`}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => agregarProducto(producto)}>\r\n                            <Plus className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </div>\r\n                        <div className=\"space-y-1 text-xs\">\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-muted-foreground\">Precio de venta:</span>\r\n                            <span className=\"font-semibold\">\r\n                              ${formatCurrency(producto.precioVentaPublico)}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-muted-foreground\">Precio mínimo:</span>\r\n                            <span className=\"font-semibold text-[#D4AF37]\">\r\n                              ${formatCurrency(producto.precioEspecial)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"mt-2 pt-2 border-t\">\r\n                          <p className=\"font-bold text-primary text-lg\">${formatCurrency(precioActual)}</p>\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            Stock: {producto.cantidad} | {producto.categoria}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Carrito de Compra</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {carrito.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                  <ShoppingCart className=\"h-12 w-12 text-muted-foreground mb-3\" />\r\n                  <p className=\"text-sm text-muted-foreground\">No hay productos en el carrito</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {carrito.map((item) => (\r\n                    <div key={item.product.id} className=\"rounded-lg border p-3 space-y-2\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-medium text-sm\">{item.product.nombre}</p>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              {item.tipoCliente === \"publico\"\r\n                                ? \"Público\"\r\n                                : item.tipoCliente === \"mayorista\"\r\n                                  ? \"Mayorista\"\r\n                                  : \"Especial\"}\r\n                            </Badge>\r\n                            {(item.product as any).tieneDescuento && (item.product as any).descuentoAplicado && (\r\n                              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                {(item.product as any).descuentoAplicado.tipo === 'porcentaje' \r\n                                  ? `${(item.product as any).descuentoAplicado.valor}% OFF`\r\n                                  : `${(item.product as any).descuentoAplicado.nombre}`}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <Button size=\"sm\" variant=\"ghost\" onClick={() => eliminarProducto(item.product.id)}>\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => actualizarCantidad(item.product.id, item.cantidad - 1)}\r\n                          >\r\n                            -\r\n                          </Button>\r\n                          <Input\r\n                            type=\"number\"\r\n                            value={item.cantidad}\r\n                            onChange={(e) => actualizarCantidad(item.product.id, Number.parseInt(e.target.value) || 1)}\r\n                            className=\"h-8 w-12 text-center\"\r\n                          />\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => actualizarCantidad(item.product.id, item.cantidad + 1)}\r\n                          >\r\n                            +\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"text-xs text-muted-foreground\">Precio:</span>\r\n                        <Input\r\n                          type=\"number\"\r\n                          value={item.precioUnitario}\r\n                          onChange={(e) => actualizarPrecio(item.product.id, Number.parseFloat(e.target.value) || 0)}\r\n                          className=\"h-8 flex-1 text-sm\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center pt-2 border-t\">\r\n                        <span className=\"text-xs text-muted-foreground\">Subtotal:</span>\r\n                        <span className=\"font-bold text-sm\">\r\n                          ${formatCurrency(item.precioUnitario * item.cantidad)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Detalles de Pago</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tipo-venta\">Tipo de Venta</Label>\r\n                <Select value={tipoVenta} onValueChange={setTipoVenta}>\r\n                  <SelectTrigger id=\"tipo-venta\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"contado\">Contado</SelectItem>\r\n                    <SelectItem value=\"credito\">Crédito</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {tipoVenta === \"contado\" && (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"metodo-pago\">Método de Pago</Label>\r\n                    <Select value={metodoPago} onValueChange={setMetodoPago}>\r\n                      <SelectTrigger id=\"metodo-pago\">\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"efectivo\">Efectivo</SelectItem>\r\n                        <SelectItem value=\"transferencia\">Transferencia</SelectItem>\r\n                        <SelectItem value=\"mixto\">Mixto</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"space-y-2 border-t pt-4\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm\">Subtotal:</span>\r\n                  <span className=\"font-medium\">${formatCurrency(subtotal)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between border-t pt-2\">\r\n                  <span className=\"text-lg font-bold\">Total:</span>\r\n                  <span className=\"text-2xl font-bold text-primary\">${formatCurrency(total)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <Button \r\n                className=\"w-full\" \r\n                size=\"lg\" \r\n                disabled={carrito.length === 0 || procesando} \r\n                onClick={procesarVenta}\r\n              >\r\n                {procesando ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Procesando...\r\n                  </>\r\n                ) : (\r\n                  'Finalizar Venta'\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Diálogo de resumen de precios */}\r\n      <ResumenPreciosDialog\r\n        open={resumenDialogOpen}\r\n        onClose={() => setResumenDialogOpen(false)}\r\n        carrito={carrito}\r\n        onConfirmar={confirmarResumenPrecios}\r\n      />\r\n\r\n      {/* Diálogo de factura */}\r\n      <FacturaDialog\r\n        open={facturaOpen}\r\n        onClose={() => setFacturaOpen(false)}\r\n        venta={ventaActual}\r\n      />\r\n\r\n      {/* Diálogo de cambio (venta contado) */}\r\n      <CambioDialog\r\n        open={cambioDialogOpen}\r\n        onClose={() => setCambioDialogOpen(false)}\r\n        total={total}\r\n        metodoPago={metodoPago as 'efectivo' | 'transferencia' | 'mixto'}\r\n        onConfirmar={finalizarVentaContado}\r\n      />\r\n\r\n      {/* Diálogo de crédito */}\r\n      <CreditoDialog\r\n        open={creditoDialogOpen}\r\n        onClose={() => setCreditoDialogOpen(false)}\r\n        total={total}\r\n        clientesExistentes={clientes}\r\n        onConfirmar={finalizarVentaCredito}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}