module.exports=[42037,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(8490),e=a.i(3130),f=a.i(40695),g=a.i(17171),h=a.i(5522),i=a.i(88237),j=a.i(69617),k=a.i(70854),l=a.i(11374),m=a.i(96926),n=a.i(99009),o=a.i(34699),p=a.i(39793),q=a.i(62140);function r(){let a=(0,d.useRouter)(),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=new Date;s(new Date(a.getFullYear(),a.getMonth(),1).toISOString().split("T")[0]),u(a.toISOString().split("T")[0])},[]);let z=async()=>{if(r&&t){y(!0);try{let a=await fetch(`/api/reportes/financieros/estado-resultados?fechaInicio=${r}&fechaFin=${t}`),b=await a.json();w(b)}catch(a){console.error("Error cargando reporte:",a),alert("Error al cargar el reporte")}finally{y(!1)}}};return(0,b.jsxs)("div",{className:"flex flex-col gap-4 p-4 md:gap-6 md:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>a.back(),children:(0,b.jsx)(l.ArrowLeft,{className:"h-5 w-5"})}),(0,b.jsx)(p.SidebarToggle,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight md:text-3xl",children:"Estado de Resultados"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground md:text-base",children:"Análisis de ingresos, egresos y utilidad del período"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{if(!v)return;let a={headers:["Concepto","Valor"],rows:[["INGRESOS",""],["Ventas Totales",(0,q.formatCurrency)(v.ingresos.ventasTotales)],["Ventas de Contado",(0,q.formatCurrency)(v.ingresos.ventasContado)],["Ventas a Crédito",(0,q.formatCurrency)(v.ingresos.ventasCredito)],["Abonos Recibidos",(0,q.formatCurrency)(v.ingresos.abonosRecibidos)],["Total Ingresos",(0,q.formatCurrency)(v.ingresos.total)],["",""],["EGRESOS",""],["Costo de Ventas",(0,q.formatCurrency)(v.egresos.costoVentas)],["Gastos Operativos",(0,q.formatCurrency)(v.egresos.gastos)],["Otros Egresos",(0,q.formatCurrency)(v.egresos.otros)],["Total Egresos",(0,q.formatCurrency)(v.egresos.total)],["",""],["RESULTADO",""],["Utilidad Bruta",(0,q.formatCurrency)(v.utilidadBruta)],["Utilidad Neta",(0,q.formatCurrency)(v.utilidadNeta)],["Margen Bruto",`${v.margenBruto.toFixed(2)}%`],["Margen Neto",`${v.margenNeto.toFixed(2)}%`]]},b={title:"Estado de Resultados",subtitle:"Análisis de Ingresos y Egresos",period:`${r} a ${t}`,orientation:"portrait",companyInfo:{name:"Valva Boutique",address:"Sistema POS",phone:"Reporte Financiero"}};(0,q.exportToPDF)(a,b)},disabled:!v,children:[(0,b.jsx)(j.Download,{className:"mr-2 h-4 w-4"}),"PDF"]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{if(!v)return;let a={headers:["Concepto","Valor"],rows:[["INGRESOS",""],["Ventas Totales",v.ingresos.ventasTotales],["Ventas de Contado",v.ingresos.ventasContado],["Ventas a Crédito",v.ingresos.ventasCredito],["Abonos Recibidos",v.ingresos.abonosRecibidos],["Total Ingresos",v.ingresos.total],["",""],["EGRESOS",""],["Costo de Ventas",v.egresos.costoVentas],["Gastos Operativos",v.egresos.gastos],["Otros Egresos",v.egresos.otros],["Total Egresos",v.egresos.total],["",""],["RESULTADO",""],["Utilidad Bruta",v.utilidadBruta],["Utilidad Neta",v.utilidadNeta],["Margen Bruto (%)",v.margenBruto],["Margen Neto (%)",v.margenNeto]]};(0,q.exportToExcel)(a,{title:"Estado de Resultados",period:`${r} a ${t}`,sheetName:"Estado de Resultados"})},disabled:!v,children:[(0,b.jsx)(j.Download,{className:"mr-2 h-4 w-4"}),"Excel"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Filtros del Reporte"}),(0,b.jsx)(e.CardDescription,{children:"Seleccione el período a analizar"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"fecha-inicio",children:"Fecha Inicio"}),(0,b.jsx)(h.Input,{id:"fecha-inicio",type:"date",value:r,onChange:a=>s(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"fecha-fin",children:"Fecha Fin"}),(0,b.jsx)(h.Input,{id:"fecha-fin",type:"date",value:t,onChange:a=>u(a.target.value)})]}),(0,b.jsx)("div",{className:"flex items-end md:col-span-2",children:(0,b.jsxs)(f.Button,{className:"w-full",onClick:z,disabled:x,children:[(0,b.jsx)(k.FileText,{className:"mr-2 h-4 w-4"}),x?"Generando...":"Generar Reporte"]})})]})})]}),v&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Ingresos Totales"}),(0,b.jsx)(n.TrendingUp,{className:"h-4 w-4 text-green-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,q.formatCurrency)(v.ingresos.total)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ventas y abonos del período"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Egresos Totales"}),(0,b.jsx)(o.TrendingDown,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(0,q.formatCurrency)(v.egresos.total)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Costos y gastos del período"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Utilidad Neta"}),(0,b.jsx)(m.DollarSign,{className:"h-4 w-4 text-blue-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${v.utilidadNeta>=0?"text-blue-600":"text-red-600"}`,children:(0,q.formatCurrency)(v.utilidadNeta)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ganancia/Pérdida final"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Margen Neto"}),(0,b.jsx)(n.TrendingUp,{className:"h-4 w-4 text-purple-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[v.margenNeto.toFixed(2),"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Rentabilidad sobre ventas"})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-green-700",children:"Ingresos"}),(0,b.jsx)(e.CardDescription,{children:"Detalle de ingresos del período"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Concepto"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"Monto"})]})}),(0,b.jsxs)(i.TableBody,{children:[(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Ventas Totales"}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,q.formatCurrency)(v.ingresos.ventasTotales)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"pl-8 text-muted-foreground",children:"• Ventas de Contado"}),(0,b.jsx)(i.TableCell,{className:"text-right text-muted-foreground",children:(0,q.formatCurrency)(v.ingresos.ventasContado)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"pl-8 text-muted-foreground",children:"• Ventas a Crédito"}),(0,b.jsx)(i.TableCell,{className:"text-right text-muted-foreground",children:(0,q.formatCurrency)(v.ingresos.ventasCredito)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Abonos Recibidos"}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,q.formatCurrency)(v.ingresos.abonosRecibidos)})]}),(0,b.jsxs)(i.TableRow,{className:"bg-green-50",children:[(0,b.jsx)(i.TableCell,{className:"font-bold",children:"Total Ingresos"}),(0,b.jsx)(i.TableCell,{className:"text-right font-bold text-green-700",children:(0,q.formatCurrency)(v.ingresos.total)})]})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-red-700",children:"Egresos"}),(0,b.jsx)(e.CardDescription,{children:"Detalle de costos y gastos del período"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Concepto"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"Monto"})]})}),(0,b.jsxs)(i.TableBody,{children:[(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Costo de Ventas"}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,q.formatCurrency)(v.egresos.costoVentas)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Gastos Operativos"}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,q.formatCurrency)(v.egresos.gastos)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Otros Egresos"}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,q.formatCurrency)(v.egresos.otros)})]}),(0,b.jsxs)(i.TableRow,{className:"bg-red-50",children:[(0,b.jsx)(i.TableCell,{className:"font-bold",children:"Total Egresos"}),(0,b.jsx)(i.TableCell,{className:"text-right font-bold text-red-700",children:(0,q.formatCurrency)(v.egresos.total)})]})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-blue-700",children:"Análisis de Resultados"}),(0,b.jsx)(e.CardDescription,{children:"Utilidad y márgenes del período"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Indicador"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"Valor"})]})}),(0,b.jsxs)(i.TableBody,{children:[(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Utilidad Bruta"}),(0,b.jsx)(i.TableCell,{className:"text-right font-semibold",children:(0,q.formatCurrency)(v.utilidadBruta)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Margen Bruto"}),(0,b.jsxs)(i.TableCell,{className:"text-right",children:[v.margenBruto.toFixed(2),"%"]})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Utilidad Neta"}),(0,b.jsx)(i.TableCell,{className:"text-right font-semibold",children:(0,q.formatCurrency)(v.utilidadNeta)})]}),(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{className:"font-medium",children:"Margen Neto"}),(0,b.jsxs)(i.TableCell,{className:"text-right",children:[v.margenNeto.toFixed(2),"%"]})]})]})]})})]})]}),!v&&!x&&(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(k.FileText,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Genere el reporte"}),(0,b.jsx)("p",{className:"text-muted-foreground text-center",children:'Seleccione las fechas y haga clic en "Generar Reporte" para ver el análisis'})]})})]})}a.s(["EstadoResultadosContent",()=>r])}];

//# sourceMappingURL=components_reportes_estado-resultados-content_tsx_5f510ed0._.js.map