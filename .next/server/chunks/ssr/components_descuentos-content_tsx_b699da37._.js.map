{"version":3,"sources":["../../../../components/descuentos-content.tsx","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.0/node_modules/lucide-react/src/icons/save.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Search, Percent, Save, X, Plus, Edit, Trash2, Tag, Eye } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { SidebarToggle } from \"@/components/app-sidebar\"\r\nimport { ConfirmDialog } from \"@/components/ui/confirm-dialog\"\r\nimport { toast } from \"sonner\"\r\nimport { formatCurrency, normalizeText } from \"@/lib/utils\"\r\n\r\ninterface Descuento {\r\n  id: string\r\n  nombre: string\r\n  descripcion: string\r\n  tipo: 'fijo' | 'porcentaje'\r\n  valor: number\r\n  fecha_inicio: string\r\n  fecha_fin: string\r\n  estado: 'activo' | 'inactivo'\r\n  aplicable_a: 'productos' | 'tipos_prenda'\r\n  productos?: any[]\r\n  tipos_prenda?: any[]\r\n}\r\n\r\nexport function DescuentosContent() {\r\n  const [descuentos, setDescuentos] = useState<Descuento[]>([])\r\n  const [dialogOpen, setDialogOpen] = useState(false)\r\n  const [editingDescuento, setEditingDescuento] = useState<Descuento | null>(null)\r\n  const [confirmDeleteOpen, setConfirmDeleteOpen] = useState(false)\r\n  const [descuentoToDelete, setDescuentoToDelete] = useState<string | null>(null)\r\n  const [detallesDialogOpen, setDetallesDialogOpen] = useState(false)\r\n  const [descuentoDetalles, setDescuentoDetalles] = useState<Descuento | null>(null)\r\n  const [productos, setProductos] = useState<any[]>([])\r\n  const [tiposPrenda, setTiposPrenda] = useState<any[]>([])\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [searchProductoTerm, setSearchProductoTerm] = useState(\"\")\r\n  const [searchTipoPrendaTerm, setSearchTipoPrendaTerm] = useState(\"\")\r\n\r\n  const [formData, setFormData] = useState({\r\n    nombre: \"\",\r\n    descripcion: \"\",\r\n    tipo: \"porcentaje\" as 'fijo' | 'porcentaje',\r\n    valor: \"\",\r\n    fecha_inicio: \"\",\r\n    fecha_fin: \"\",\r\n    estado: \"activo\" as 'activo' | 'inactivo',\r\n    aplicable_a: \"productos\" as 'productos' | 'tipos_prenda',\r\n    productos_seleccionados: [] as string[],\r\n    tipos_prenda_seleccionados: [] as string[]\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadDescuentos()\r\n    loadTiposPrenda()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      loadProductos(searchProductoTerm)\r\n    }, 300)\r\n    return () => clearTimeout(timer)\r\n  }, [searchProductoTerm])\r\n\r\n  const loadDescuentos = async () => {\r\n    try {\r\n      const response = await fetch('/api/descuentos')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setDescuentos(result.data || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando descuentos:', error)\r\n      toast.error('Error al cargar descuentos')\r\n    }\r\n  }\r\n\r\n  const loadProductos = async (searchText: string = \"\") => {\r\n    if (!searchText.trim()) {\r\n      setProductos([])\r\n      return\r\n    }\r\n    \r\n    try {\r\n      const response = await fetch('/api/productos')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        const allProductos = result.data || []\r\n        \r\n        const searchNormalized = normalizeText(searchText)\r\n        const filtered = allProductos.filter((p: any) => \r\n          normalizeText(p.nombre || '').includes(searchNormalized) ||\r\n          normalizeText(p.sku || '').includes(searchNormalized) ||\r\n          normalizeText(p.codigo_barras || '').includes(searchNormalized)\r\n        )\r\n        setProductos(filtered)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando productos:', error)\r\n    }\r\n  }\r\n\r\n  const loadTiposPrenda = async () => {\r\n    try {\r\n      const response = await fetch('/api/tipos-prenda')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setTiposPrenda(result.data || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando tipos de prenda:', error)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    if (!formData.nombre || !formData.valor) {\r\n      toast.error('Completa los campos requeridos')\r\n      return\r\n    }\r\n\r\n    // Validar que el porcentaje no exceda 100\r\n    if (formData.tipo === 'porcentaje' && parseFloat(formData.valor) > 100) {\r\n      toast.error('El porcentaje no puede ser mayor a 100%')\r\n      return\r\n    }\r\n\r\n    // Validar que el porcentaje sea mayor a 0\r\n    if (formData.tipo === 'porcentaje' && parseFloat(formData.valor) <= 0) {\r\n      toast.error('El porcentaje debe ser mayor a 0%')\r\n      return\r\n    }\r\n\r\n    if (formData.aplicable_a === 'productos' && formData.productos_seleccionados.length === 0) {\r\n      toast.error('Selecciona al menos un producto')\r\n      return\r\n    }\r\n    if (formData.aplicable_a === 'tipos_prenda' && formData.tipos_prenda_seleccionados.length === 0) {\r\n      toast.error('Selecciona al menos un tipo de prenda')\r\n      return\r\n    }\r\n \r\n    try {\r\n      const body = {\r\n        id: editingDescuento?.id,\r\n        nombre: formData.nombre,\r\n        descripcion: formData.descripcion,\r\n        tipo: formData.tipo,\r\n        valor: parseFloat(formData.valor),\r\n        fecha_inicio: formData.fecha_inicio,\r\n        fecha_fin: formData.fecha_fin,\r\n        estado: formData.estado,\r\n        aplicable_a: formData.aplicable_a,\r\n        productos_seleccionados: formData.aplicable_a === 'productos' ? formData.productos_seleccionados : [],\r\n        tipos_prenda_seleccionados: formData.aplicable_a === 'tipos_prenda' ? formData.tipos_prenda_seleccionados : []\r\n      }\r\n\r\n      const method = editingDescuento ? 'PUT' : 'POST'\r\n      const response = await fetch('/api/descuentos', {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(body)\r\n      })\r\n      \r\n      let result\r\n      try {\r\n        result = await response.json()\r\n      } catch (parseError) {\r\n        console.error('Error parseando JSON:', parseError)\r\n        toast.error('Error de servidor - respuesta inválida')\r\n        return\r\n      }\r\n      \r\n      if (response.ok && result.success) {\r\n        toast.success(editingDescuento ? 'Descuento actualizado' : 'Descuento creado')\r\n        loadDescuentos()\r\n        handleCloseDialog()\r\n      } else {\r\n        console.error('Error del servidor:', result)\r\n        toast.error(result.error || 'Error al guardar descuento')\r\n        if (result.details) {\r\n          console.error('Detalles:', result.details)\r\n          console.error('Código:', result.code)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error completo:', error)\r\n      toast.error('Error al guardar descuento')\r\n    }\r\n  }\r\n\r\n  const handleEdit = (descuento: Descuento) => {\r\n    setEditingDescuento(descuento)\r\n    \r\n    const productosIds = Array.isArray(descuento.productos) \r\n      ? descuento.productos.map((p: any) => typeof p === 'string' ? p : p.producto_id?.toString())\r\n      : []\r\n    \r\n    const tiposPrendaIds = Array.isArray(descuento.tipos_prenda)\r\n      ? descuento.tipos_prenda.map((t: any) => typeof t === 'string' ? t : t.tipo_prenda_id?.toString())\r\n      : []\r\n    \r\n    setFormData({\r\n      nombre: descuento.nombre || \"\",\r\n      descripcion: descuento.descripcion || \"\",\r\n      tipo: descuento.tipo,\r\n      valor: descuento.valor.toString(),\r\n      fecha_inicio: descuento.fecha_inicio || '',\r\n      fecha_fin: descuento.fecha_fin || '',\r\n      estado: descuento.estado,\r\n      aplicable_a: descuento.aplicable_a,\r\n      productos_seleccionados: productosIds,\r\n      tipos_prenda_seleccionados: tiposPrendaIds\r\n    })\r\n    setDialogOpen(true)\r\n  }\r\n\r\n  const handleDelete = (id: string) => {\r\n    setDescuentoToDelete(id)\r\n    setConfirmDeleteOpen(true)\r\n  }\r\n\r\n  const handleVerDetalles = (descuento: Descuento) => {\r\n    setDescuentoDetalles(descuento)\r\n    setDetallesDialogOpen(true)\r\n  }\r\n\r\n  const confirmDelete = async () => {\r\n    if (descuentoToDelete) {\r\n      try {\r\n        const response = await fetch(`/api/descuentos?id=${descuentoToDelete}`, {\r\n          method: 'DELETE'\r\n        })\r\n\r\n        const result = await response.json()\r\n\r\n        if (response.ok) {\r\n          toast.success('Descuento eliminado correctamente')\r\n          loadDescuentos()\r\n        } else {\r\n          console.error('Error del servidor:', result)\r\n          toast.error(result.error || 'Error al eliminar descuento')\r\n          if (result.details) {\r\n            console.error('Detalles:', result.details)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error completo:', error)\r\n        toast.error('Error al eliminar descuento')\r\n      }\r\n      setDescuentoToDelete(null)\r\n    }\r\n  }\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false)\r\n    setEditingDescuento(null)\r\n    setSearchProductoTerm(\"\")\r\n    setSearchTipoPrendaTerm(\"\")\r\n    setFormData({\r\n      nombre: \"\",\r\n      descripcion: \"\",\r\n      tipo: \"porcentaje\",\r\n      valor: \"\",\r\n      fecha_inicio: \"\",\r\n      fecha_fin: \"\",\r\n      estado: \"activo\",\r\n      aplicable_a: \"productos\",\r\n      productos_seleccionados: [],\r\n      tipos_prenda_seleccionados: []\r\n    })\r\n  }\r\n\r\n  const toggleProducto = (productoId: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      productos_seleccionados: prev.productos_seleccionados.includes(productoId)\r\n        ? prev.productos_seleccionados.filter(id => id !== productoId)\r\n        : [...prev.productos_seleccionados, productoId]\r\n    }))\r\n  }\r\n\r\n  const toggleTipoPrenda = (tipoId: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      tipos_prenda_seleccionados: prev.tipos_prenda_seleccionados.includes(tipoId)\r\n        ? prev.tipos_prenda_seleccionados.filter(id => id !== tipoId)\r\n        : [...prev.tipos_prenda_seleccionados, tipoId]\r\n    }))\r\n  }\r\n\r\n  const filteredDescuentos = descuentos.filter(d =>\r\n    normalizeText(d.nombre).includes(normalizeText(searchTerm)) ||\r\n    normalizeText(d.descripcion).includes(normalizeText(searchTerm))\r\n  )\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 p-4 md:gap-6 md:p-6\">\r\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <SidebarToggle />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight md:text-3xl\">Gestión de Descuentos</h1>\r\n            <p className=\"text-sm text-muted-foreground md:text-base\">\r\n              Crea descuentos fijos o porcentuales para productos o tipos de prenda\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <Button onClick={() => setDialogOpen(true)}>\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          Nuevo Descuento\r\n        </Button>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Buscar descuentos por nombre...\"\r\n              className=\"pl-9\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Descuentos Activos</CardTitle>\r\n          <CardDescription>{filteredDescuentos.length} descuento(s) registrado(s)</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Nombre</TableHead>\r\n                <TableHead>Tipo</TableHead>\r\n                <TableHead>Valor</TableHead>\r\n                <TableHead>Aplica a</TableHead>\r\n                <TableHead>Vigencia</TableHead>\r\n                <TableHead>Estado</TableHead>\r\n                <TableHead className=\"text-right\">Acciones</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {filteredDescuentos.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={7} className=\"text-center text-muted-foreground\">\r\n                    No hay descuentos registrados\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredDescuentos.map((descuento) => (\r\n                  <TableRow key={descuento.id}>\r\n                    <TableCell className=\"font-medium\">{descuento.nombre}</TableCell>\r\n                    <TableCell>\r\n                      <Badge variant={descuento.tipo === 'porcentaje' ? 'default' : 'secondary'}>\r\n                        {descuento.tipo === 'porcentaje' ? 'Porcentaje' : 'Fijo'}\r\n                      </Badge>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {descuento.tipo === 'porcentaje' \r\n                        ? `${Number(descuento.valor).toFixed(0)}% de descuento` \r\n                        : `Precio fijo: $${formatCurrency(Number(descuento.valor))}`}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {descuento.aplicable_a === 'productos' ? (\r\n                        <span className=\"text-sm\">\r\n                          {descuento.productos?.length || 0} producto(s)\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"text-sm\">\r\n                          {descuento.tipos_prenda?.length || 0} tipo(s) de prenda\r\n                        </span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell className=\"text-sm\">\r\n                      {descuento.fecha_inicio && descuento.fecha_fin ? (\r\n                        <>\r\n                          {new Date(descuento.fecha_inicio).toLocaleDateString()} -{' '}\r\n                          {new Date(descuento.fecha_fin).toLocaleDateString()}\r\n                        </>\r\n                      ) : (\r\n                        'Sin límite'\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Badge variant={descuento.estado === 'activo' ? 'default' : 'secondary'}>\r\n                        {descuento.estado}\r\n                      </Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleVerDetalles(descuento)} title=\"Ver Detalles\">\r\n                          <Eye className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEdit(descuento)}>\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleDelete(descuento.id)}>\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Dialog para crear/editar descuento */}\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingDescuento ? 'Editar Descuento' : 'Nuevo Descuento'}</DialogTitle>\r\n            <DialogDescription>\r\n              Define los parámetros del descuento y selecciona a qué se aplicará\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"nombre\">Nombre del Descuento *</Label>\r\n              <Input\r\n                id=\"nombre\"\r\n                placeholder=\"Ej: Descuento Temporada\"\r\n                value={formData.nombre}\r\n                onChange={(e) => setFormData({ ...formData, nombre: e.target.value.toUpperCase() })}\r\n                className=\"uppercase\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"descripcion\">Descripción</Label>\r\n              <Textarea\r\n                id=\"descripcion\"\r\n                placeholder=\"Describe el descuento...\"\r\n                value={formData.descripcion || \"\"}\r\n                onChange={(e) => setFormData({ ...formData, descripcion: e.target.value.toUpperCase() })}\r\n                className=\"uppercase\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tipo\">Tipo de Descuento *</Label>\r\n                <Select value={formData.tipo} onValueChange={(value: any) => setFormData({ ...formData, tipo: value })}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"porcentaje\">Porcentaje (%)</SelectItem>\r\n                    <SelectItem value=\"fijo\">Precio Fijo ($)</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"valor\">\r\n                  {formData.tipo === 'porcentaje' ? 'Porcentaje de Descuento * (máx. 100)' : 'Precio Final del Producto *'}\r\n                </Label>\r\n                <Input\r\n                  id=\"valor\"\r\n                  type={formData.tipo === 'porcentaje' ? 'number' : 'text'}\r\n                  placeholder={formData.tipo === 'porcentaje' ? '20' : '80.000'}\r\n                  value={formData.tipo === 'porcentaje' ? formData.valor : (formData.valor ? formatCurrency(formData.valor) : '')}\r\n                  onChange={(e) => {\r\n                    if (formData.tipo === 'porcentaje') {\r\n                      const value = e.target.value\r\n                      if (parseFloat(value) > 100) {\r\n                        setFormData({ ...formData, valor: '100' })\r\n                      } else {\r\n                        setFormData({ ...formData, valor: value })\r\n                      }\r\n                    } else {\r\n                      const value = e.target.value.replace(/\\./g, '').replace(/[^0-9]/g, '')\r\n                      setFormData({ ...formData, valor: value })\r\n                    }\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (formData.tipo === 'fijo' && formData.valor) {\r\n                      e.target.value = formData.valor\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    if (formData.tipo === 'fijo' && formData.valor) {\r\n                      e.target.value = formatCurrency(formData.valor)\r\n                    }\r\n                  }}\r\n                  min=\"0\"\r\n                  max={formData.tipo === 'porcentaje' ? '100' : undefined}\r\n                  step={formData.tipo === 'porcentaje' ? '0.1' : '1'}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"fecha_inicio\">Fecha Inicio</Label>\r\n                <Input\r\n                  id=\"fecha_inicio\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_inicio}\r\n                  onChange={(e) => setFormData({ ...formData, fecha_inicio: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"fecha_fin\">Fecha Fin</Label>\r\n                <Input\r\n                  id=\"fecha_fin\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_fin}\r\n                  onChange={(e) => setFormData({ ...formData, fecha_fin: e.target.value })}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"aplicable_a\">Aplicar a *</Label>\r\n              <Select\r\n                value={formData.aplicable_a}\r\n                onValueChange={(value: any) => setFormData({ ...formData, aplicable_a: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"productos\">Productos Específicos</SelectItem>\r\n                  <SelectItem value=\"tipos_prenda\">Tipos de Prenda</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {formData.aplicable_a === 'productos' && (\r\n              <div className=\"space-y-2\">\r\n                <Label>Seleccionar Productos</Label>\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Buscar por nombre, referencia o código...\"\r\n                    className=\"pl-9\"\r\n                    value={searchProductoTerm}\r\n                    onChange={(e) => setSearchProductoTerm(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"border rounded-lg p-4 max-h-60 overflow-y-auto space-y-2\">\r\n                  {productos.length === 0 && searchProductoTerm.length === 0 ? (\r\n                    <p className=\"text-sm text-muted-foreground text-center py-4\">\r\n                      Escribe para buscar productos...\r\n                    </p>\r\n                  ) : productos.length === 0 && searchProductoTerm.length > 0 ? (\r\n                    <p className=\"text-sm text-muted-foreground text-center py-4\">\r\n                      No se encontraron productos\r\n                    </p>\r\n                  ) : (\r\n                    productos.map((producto) => {\r\n                      const precioOriginal = Number(producto.precio_venta) || 0\r\n                      let precioFinal = precioOriginal\r\n                      let descuento = 0\r\n                      \r\n                      if (formData.valor && formData.productos_seleccionados.includes(producto.id.toString())) {\r\n                        if (formData.tipo === 'porcentaje') {\r\n                          descuento = (precioOriginal * Number(formData.valor)) / 100\r\n                          precioFinal = precioOriginal - descuento\r\n                        } else if (formData.tipo === 'fijo') {\r\n                          precioFinal = Number(formData.valor)\r\n                          descuento = precioOriginal - precioFinal\r\n                        }\r\n                      }\r\n                      \r\n                      return (\r\n                        <div key={producto.id} className=\"flex items-center space-x-2\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            id={`producto-${producto.id}`}\r\n                            checked={formData.productos_seleccionados.includes(producto.id.toString())}\r\n                            onChange={() => toggleProducto(producto.id.toString())}\r\n                            className=\"h-4 w-4\"\r\n                          />\r\n                          <label htmlFor={`producto-${producto.id}`} className=\"text-sm flex-1 cursor-pointer\">\r\n                            <div className=\"flex flex-col\">\r\n                              <span>{producto.nombre} - {producto.sku || producto.codigo_barras || 'Sin SKU'}</span>\r\n                              {formData.valor && formData.productos_seleccionados.includes(producto.id.toString()) && (\r\n                                <span className=\"text-xs text-muted-foreground mt-1\">\r\n                                  <span className=\"line-through\">${formatCurrency(precioOriginal)}</span>\r\n                                  <span className=\"text-green-600 font-semibold ml-2\">\r\n                                    ${formatCurrency(precioFinal)}\r\n                                  </span>\r\n                                  <span className=\"text-red-600 ml-2\">\r\n                                    (-${formatCurrency(descuento)})\r\n                                  </span>\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </label>\r\n                        </div>\r\n                      )\r\n                    })\r\n                  )}\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {formData.productos_seleccionados.length} producto(s) seleccionado(s)\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {formData.aplicable_a === 'tipos_prenda' && (\r\n              <div className=\"space-y-2\">\r\n                <Label>Seleccionar Tipos de Prenda</Label>\r\n                <div className=\"relative mb-2\">\r\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Buscar tipo de prenda...\"\r\n                    value={searchTipoPrendaTerm}\r\n                    onChange={(e) => setSearchTipoPrendaTerm(e.target.value)}\r\n                    className=\"pl-9\"\r\n                  />\r\n                </div>\r\n                <div className=\"border rounded-lg p-4 max-h-60 overflow-y-auto space-y-2\">\r\n                  {tiposPrenda\r\n                    .filter((tipo) => \r\n                      normalizeText(tipo.nombre || '').includes(normalizeText(searchTipoPrendaTerm))\r\n                    )\r\n                    .map((tipo) => (\r\n                    <div key={tipo.id} className=\"flex items-center space-x-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id={`tipo-${tipo.id}`}\r\n                        checked={formData.tipos_prenda_seleccionados.includes(tipo.id.toString())}\r\n                        onChange={() => toggleTipoPrenda(tipo.id.toString())}\r\n                        className=\"h-4 w-4\"\r\n                      />\r\n                      <label htmlFor={`tipo-${tipo.id}`} className=\"text-sm flex-1 cursor-pointer\">\r\n                        {tipo.nombre}\r\n                      </label>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {formData.tipos_prenda_seleccionados.length} tipo(s) seleccionado(s)\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"estado\">Estado</Label>\r\n              <Select\r\n                value={formData.estado}\r\n                onValueChange={(value: any) => setFormData({ ...formData, estado: value })}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"activo\">Activo</SelectItem>\r\n                  <SelectItem value=\"inactivo\">Inactivo</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={handleCloseDialog}>\r\n              Cancelar\r\n            </Button>\r\n            <Button onClick={handleSubmit}>\r\n              <Save className=\"mr-2 h-4 w-4\" />\r\n              {editingDescuento ? 'Actualizar' : 'Crear'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog de Detalles */}\r\n      <Dialog open={detallesDialogOpen} onOpenChange={setDetallesDialogOpen}>\r\n        <DialogContent className=\"max-w-5xl max-h-[90vh] overflow-y-auto w-[98vw] sm:w-[95vw] lg:w-full\">\r\n          <DialogHeader>\r\n            <DialogTitle>Detalles del Descuento</DialogTitle>\r\n            <DialogDescription>\r\n              Información completa del descuento y productos/tipos de prenda aplicables\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {descuentoDetalles && (\r\n            <div className=\"space-y-6\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg\">Información General</CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Nombre</Label>\r\n                      <p className=\"font-medium\">{descuentoDetalles.nombre}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Tipo</Label>\r\n                      <div className=\"mt-1\">\r\n                        <Badge variant={descuentoDetalles.tipo === 'porcentaje' ? 'default' : 'secondary'}>\r\n                          {descuentoDetalles.tipo === 'porcentaje' ? 'Porcentaje' : 'Precio Fijo'}\r\n                        </Badge>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Valor</Label>\r\n                      <p className=\"font-medium text-lg\">\r\n                        {descuentoDetalles.tipo === 'porcentaje' \r\n                          ? `${descuentoDetalles.valor}% de descuento` \r\n                          : `Precio final: $${formatCurrency(descuentoDetalles.valor)}`}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Estado</Label>\r\n                      <div className=\"mt-1\">\r\n                        <Badge variant={descuentoDetalles.estado === 'activo' ? 'default' : 'secondary'}>\r\n                          {descuentoDetalles.estado}\r\n                        </Badge>\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Fecha Inicio</Label>\r\n                      <p className=\"font-medium\">\r\n                        {descuentoDetalles.fecha_inicio \r\n                          ? new Date(descuentoDetalles.fecha_inicio).toLocaleDateString()\r\n                          : 'Sin fecha'}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Fecha Fin</Label>\r\n                      <p className=\"font-medium\">\r\n                        {descuentoDetalles.fecha_fin \r\n                          ? new Date(descuentoDetalles.fecha_fin).toLocaleDateString()\r\n                          : 'Sin fecha'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  {descuentoDetalles.descripcion && (\r\n                    <div>\r\n                      <Label className=\"text-muted-foreground\">Descripción</Label>\r\n                      <p className=\"mt-1\">{descuentoDetalles.descripcion}</p>\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg\">\r\n                    {descuentoDetalles.aplicable_a === 'productos' \r\n                      ? 'Productos Aplicables' \r\n                      : 'Tipos de Prenda Aplicables'}\r\n                  </CardTitle>\r\n                  <CardDescription>\r\n                    {descuentoDetalles.aplicable_a === 'productos'\r\n                      ? `${descuentoDetalles.productos?.length || 0} producto(s) con este descuento`\r\n                      : `${descuentoDetalles.tipos_prenda?.length || 0} tipo(s) de prenda con este descuento`}\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  {descuentoDetalles.aplicable_a === 'productos' ? (\r\n                    <div className=\"space-y-2\">\r\n                      {descuentoDetalles.productos && descuentoDetalles.productos.length > 0 ? (\r\n                        <div className=\"overflow-x-auto -mx-2 px-2\">\r\n                        <Table>\r\n                          <TableHeader>\r\n                            <TableRow>\r\n                              <TableHead className=\"min-w-[100px] whitespace-nowrap\">Código</TableHead>\r\n                              <TableHead className=\"min-w-[80px] whitespace-nowrap\">SKU</TableHead>\r\n                              <TableHead className=\"min-w-[150px] whitespace-nowrap\">Nombre</TableHead>\r\n                              <TableHead className=\"text-right min-w-[100px] whitespace-nowrap\">Precio</TableHead>\r\n                              <TableHead className=\"text-right min-w-[120px] whitespace-nowrap\">Precio c/ Desc.</TableHead>\r\n                            </TableRow>\r\n                          </TableHeader>\r\n                          <TableBody>\r\n                            {descuentoDetalles.productos.map((producto: any) => {\r\n                              const precioOriginal = producto.precio_venta || 0\r\n                              const precioConDescuento = descuentoDetalles.tipo === 'porcentaje'\r\n                                ? precioOriginal - (precioOriginal * descuentoDetalles.valor / 100)\r\n                                : descuentoDetalles.valor\r\n                              \r\n                              return (\r\n                                <TableRow key={producto.producto_id || producto.id}>\r\n                                  <TableCell className=\"font-mono text-xs sm:text-sm whitespace-nowrap\">\r\n                                    {producto.codigo_barras || 'N/A'}\r\n                                  </TableCell>\r\n                                  <TableCell className=\"font-mono text-xs sm:text-sm whitespace-nowrap\">\r\n                                    {producto.sku || 'N/A'}\r\n                                  </TableCell>\r\n                                  <TableCell className=\"font-medium text-sm\">\r\n                                    {producto.nombre || 'Sin nombre'}\r\n                                  </TableCell>\r\n                                  <TableCell className=\"text-right text-sm whitespace-nowrap\">\r\n                                    ${formatCurrency(precioOriginal)}\r\n                                  </TableCell>\r\n                                  <TableCell className=\"text-right font-medium text-green-600 text-sm whitespace-nowrap\">\r\n                                    ${formatCurrency(Math.max(0, precioConDescuento))}\r\n                                  </TableCell>\r\n                                </TableRow>\r\n                              )\r\n                            })}\r\n                          </TableBody>\r\n                        </Table>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-center text-muted-foreground py-8\">\r\n                          No hay productos asociados a este descuento\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {descuentoDetalles.tipos_prenda && descuentoDetalles.tipos_prenda.length > 0 ? (\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n                          {descuentoDetalles.tipos_prenda.map((tipo: any) => (\r\n                            <div \r\n                              key={tipo.tipo_prenda_id || tipo.id} \r\n                              className=\"border rounded-lg p-3 flex items-center gap-3\"\r\n                            >\r\n                              <Tag className=\"h-5 w-5 text-primary\" />\r\n                              <div>\r\n                                <p className=\"font-medium\">{tipo.nombre || 'Sin nombre'}</p>\r\n                                {tipo.descripcion && (\r\n                                  <p className=\"text-sm text-muted-foreground\">{tipo.descripcion}</p>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-center text-muted-foreground py-8\">\r\n                          No hay tipos de prenda asociados a este descuento\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          )}\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setDetallesDialogOpen(false)}>\r\n              Cerrar\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Confirm Delete Dialog */}\r\n      <ConfirmDialog\r\n        open={confirmDeleteOpen}\r\n        onOpenChange={setConfirmDeleteOpen}\r\n        onConfirm={confirmDelete}\r\n        title=\"¿Eliminar descuento?\"\r\n        description=\"Esta acción no se puede deshacer. El descuento será eliminado permanentemente.\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n]);\n\nexport default Save;\n"],"names":[],"mappings":"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","ignoreList":[1]}