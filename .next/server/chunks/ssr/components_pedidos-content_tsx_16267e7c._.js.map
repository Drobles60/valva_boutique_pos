{"version":3,"sources":["../../../../components/pedidos-content.tsx"],"sourcesContent":["// @ts-nocheck\r\n\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Search, Plus, Eye, ShoppingBag, Package, CheckCircle, Clock, X, DollarSign, Wallet } from \"lucide-react\"\r\nimport { SidebarToggle } from \"./app-sidebar\"\r\nimport { toast } from \"sonner\"\r\nimport { formatCurrency, normalizeText } from \"@/lib/utils\"\r\n\r\ntype Proveedor = {\r\n  id: number\r\n  codigo?: string\r\n  razon_social: string\r\n  nombre_comercial?: string\r\n  ruc: string\r\n  estado: \"activo\" | \"inactivo\"\r\n}\r\n\r\ntype DetallePedido = {\r\n  id?: number\r\n  descripcion: string\r\n  cantidad: number\r\n  precioTotal: number\r\n}\r\n\r\ntype Abono = {\r\n  id: number\r\n  monto: number\r\n  fecha_abono: string\r\n  metodo_pago: \"efectivo\" | \"transferencia\" | \"tarjeta\" | \"cheque\" | \"otro\"\r\n  referencia?: string\r\n  notas?: string\r\n  usuario_id?: number\r\n}\r\n\r\ntype Pedido = {\r\n  id: number\r\n  numero_pedido: string\r\n  proveedor_id: number\r\n  proveedor_nombre: string\r\n  proveedor_codigo?: string\r\n  fecha_pedido: string\r\n  costo_total: number\r\n  total_abonado: number\r\n  saldo_pendiente: number\r\n  estado: \"pendiente\" | \"recibido\"\r\n  estado_pago?: \"sin_pagar\" | \"pago_parcial\" | \"pagado\"\r\n  porcentaje_pagado?: number\r\n  fecha_recibido?: string\r\n  usuario_id?: number\r\n  notas?: string\r\n  detalles: DetallePedido[]\r\n  abonos?: Abono[]\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\nexport function PedidosContent() {\r\n  const [pedidos, setPedidos] = useState<Pedido[]>([])\r\n  const [proveedores, setProveedores] = useState<Proveedor[]>([])\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [dialogOpen, setDialogOpen] = useState(false)\r\n  const [detalleDialogOpen, setDetalleDialogOpen] = useState(false)\r\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false)\r\n  const [abonoDialogOpen, setAbonoDialogOpen] = useState(false)\r\n  const [abonoProveedorDialogOpen, setAbonoProveedorDialogOpen] = useState(false)\r\n  const [selectedPedido, setSelectedPedido] = useState<Pedido | null>(null)\r\n  const [selectedProveedor, setSelectedProveedor] = useState<Proveedor | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  \r\n  const [abonoForm, setAbonoForm] = useState({\r\n    monto: \"\",\r\n    metodoPago: \"efectivo\" as \"efectivo\" | \"transferencia\" | \"tarjeta\" | \"cheque\" | \"otro\",\r\n    referencia: \"\",\r\n    notas: \"\",\r\n  })\r\n  \r\n  const [formData, setFormData] = useState({\r\n    proveedorId: \"\",\r\n    fechaPedido: new Date().toISOString().split('T')[0],\r\n    notas: \"\",\r\n  })\r\n\r\n  const [detalles, setDetalles] = useState<DetallePedido[]>([])\r\n  const [nuevaLinea, setNuevaLinea] = useState({\r\n    descripcion: \"\",\r\n    cantidad: \"\",\r\n    precioTotal: \"\",\r\n  })\r\n\r\n  useEffect(() => {\r\n    loadPedidos()\r\n    loadProveedores()\r\n  }, [])\r\n\r\n  const loadPedidos = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch('/api/pedidos')\r\n      if (!response.ok) throw new Error('Error al cargar pedidos')\r\n      const data = await response.json()\r\n      setPedidos(data)\r\n    } catch (error: any) {\r\n      console.error('Error al cargar pedidos:', error)\r\n      toast.error('Error al cargar pedidos', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const loadProveedores = async () => {\r\n    try {\r\n      const response = await fetch('/api/proveedores')\r\n      if (!response.ok) throw new Error('Error al cargar proveedores')\r\n      const result = await response.json()\r\n      // La API retorna { success: true, data: [...] }\r\n      const data = result.data || result\r\n      // Cargar todos los proveedores sin filtrar\r\n      setProveedores(Array.isArray(data) ? data : [])\r\n    } catch (error: any) {\r\n      console.error('Error al cargar proveedores:', error)\r\n      toast.error('Error al cargar proveedores')\r\n      setProveedores([])\r\n    }\r\n  }\r\n\r\n  const agregarLinea = () => {\r\n    if (!nuevaLinea.descripcion || !nuevaLinea.cantidad || !nuevaLinea.precioTotal) {\r\n      toast.error('Complete todos los campos de la línea')\r\n      return\r\n    }\r\n\r\n    const cantidad = parseInt(nuevaLinea.cantidad)\r\n    const precioTotal = parseFloat(nuevaLinea.precioTotal)\r\n    \r\n    if (cantidad <= 0 || precioTotal < 0) {\r\n      toast.error('Cantidad y precio deben ser valores válidos')\r\n      return\r\n    }\r\n\r\n    const nuevaLineaCompleta: DetallePedido = {\r\n      descripcion: nuevaLinea.descripcion,\r\n      cantidad,\r\n      precioTotal\r\n    }\r\n\r\n    setDetalles([...detalles, nuevaLineaCompleta])\r\n    setNuevaLinea({ descripcion: \"\", cantidad: \"\", precioTotal: \"\" })\r\n  }\r\n\r\n  const eliminarLinea = (index: number) => {\r\n    setDetalles(detalles.filter((_, i) => i !== index))\r\n  }\r\n\r\n  const calcularTotal = () => {\r\n    return detalles.reduce((sum, detalle) => sum + detalle.precioTotal, 0)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!formData.proveedorId) {\r\n      toast.error('Seleccione un proveedor')\r\n      return\r\n    }\r\n\r\n    if (detalles.length === 0) {\r\n      toast.error('Agregue al menos una línea al pedido')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      \r\n      const pedidoData = {\r\n        proveedorId: parseInt(formData.proveedorId),\r\n        fechaPedido: formData.fechaPedido,\r\n        costoTotal: calcularTotal(),\r\n        detalles: detalles,\r\n        notas: formData.notas || undefined,\r\n        usuarioId: null // TODO: Obtener del usuario autenticado cuando se implemente\r\n      }\r\n\r\n      const response = await fetch('/api/pedidos', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(pedidoData),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Error al crear pedido')\r\n      }\r\n\r\n      await loadPedidos()\r\n      handleCloseDialog()\r\n      \r\n      toast.success('Pedido creado', {\r\n        description: `Pedido ${data.numero_pedido} registrado correctamente`\r\n      })\r\n    } catch (error: any) {\r\n      console.error('Error al crear pedido:', error)\r\n      toast.error('Error al crear pedido', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const marcarComoRecibido = async (pedido: Pedido) => {\r\n    if (pedido.estado === 'recibido') {\r\n      toast.error('Este pedido ya fue marcado como recibido')\r\n      return\r\n    }\r\n\r\n    setSelectedPedido(pedido)\r\n    setConfirmDialogOpen(true)\r\n  }\r\n\r\n  const confirmarMarcarRecibido = async () => {\r\n    if (!selectedPedido) return\r\n\r\n    try {\r\n      setLoading(true)\r\n      setConfirmDialogOpen(false)\r\n\r\n      const response = await fetch('/api/pedidos', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id: selectedPedido.id }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Error al actualizar estado')\r\n      }\r\n\r\n      await loadPedidos()\r\n      \r\n      toast.success('Estado actualizado', {\r\n        description: `Pedido ${selectedPedido.numero_pedido} marcado como recibido`\r\n      })\r\n    } catch (error: any) {\r\n      console.error('Error al actualizar estado:', error)\r\n      toast.error('Error al actualizar estado', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const verDetalle = (pedido: Pedido) => {\r\n    setSelectedPedido(pedido)\r\n    setDetalleDialogOpen(true)\r\n  }\r\n\r\n  const abrirDialogAbonoPedido = (pedido: Pedido) => {\r\n    if (pedido.saldo_pendiente <= 0) {\r\n      toast.info('Este pedido ya está completamente pagado')\r\n      return\r\n    }\r\n    setSelectedPedido(pedido)\r\n    setAbonoForm({\r\n      monto: \"\",\r\n      metodoPago: \"efectivo\",\r\n      referencia: \"\",\r\n      notas: \"\",\r\n    })\r\n    setAbonoDialogOpen(true)\r\n  }\r\n\r\n  const abrirDialogAbonoProveedor = () => {\r\n    // Filtrar proveedores que tengan pedidos con saldo pendiente\r\n    const proveedoresConDeuda = proveedores.filter(prov => \r\n      pedidos.some(ped => ped.proveedor_id === prov.id && ped.saldo_pendiente > 0)\r\n    )\r\n    \r\n    if (proveedoresConDeuda.length === 0) {\r\n      toast.info('No hay proveedores con saldo pendiente')\r\n      return\r\n    }\r\n    \r\n    setAbonoForm({\r\n      monto: \"\",\r\n      metodoPago: \"efectivo\",\r\n      referencia: \"\",\r\n      notas: \"\",\r\n    })\r\n    setSelectedProveedor(null)\r\n    setAbonoProveedorDialogOpen(true)\r\n  }\r\n\r\n  const registrarAbonoPedido = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!selectedPedido) return\r\n    \r\n    const monto = parseFloat(abonoForm.monto)\r\n    \r\n    if (!monto || monto <= 0) {\r\n      toast.error('Ingrese un monto válido')\r\n      return\r\n    }\r\n    \r\n    if (monto > selectedPedido.saldo_pendiente) {\r\n      toast.error('El monto no puede ser mayor al saldo pendiente')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      \r\n      const response = await fetch(`/api/pedidos/${selectedPedido.id}/abonos`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          monto,\r\n          metodoPago: abonoForm.metodoPago,\r\n          referencia: abonoForm.referencia || undefined,\r\n          notas: abonoForm.notas || undefined,\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Error al registrar abono')\r\n      }\r\n\r\n      await loadPedidos()\r\n      setAbonoDialogOpen(false)\r\n      setSelectedPedido(null)\r\n      \r\n      toast.success('Abono registrado correctamente', {\r\n        description: `Pedido ${selectedPedido.numero_pedido}: $${formatCurrency(monto)}`\r\n      })\r\n    } catch (error: any) {\r\n      console.error('Error al registrar abono:', error)\r\n      toast.error('Error al registrar abono', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const registrarAbonoProveedor = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    \r\n    if (!selectedProveedor) {\r\n      toast.error('Seleccione un proveedor')\r\n      return\r\n    }\r\n    \r\n    const monto = parseFloat(abonoForm.monto)\r\n    \r\n    if (!monto || monto <= 0) {\r\n      toast.error('Ingrese un monto válido')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setLoading(true)\r\n      \r\n      const response = await fetch(`/api/proveedores/${selectedProveedor.id}/abonos`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          monto,\r\n          metodoPago: abonoForm.metodoPago,\r\n          referencia: abonoForm.referencia || undefined,\r\n          notas: abonoForm.notas || undefined,\r\n        }),\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Error al registrar abono')\r\n      }\r\n\r\n      await loadPedidos()\r\n      setAbonoProveedorDialogOpen(false)\r\n      setSelectedProveedor(null)\r\n      \r\n      toast.success('Abono distribuido correctamente', {\r\n        description: `${data.pedidos_afectados} pedido(s) afectado(s) - Total: $${formatCurrency(data.monto_aplicado)}`\r\n      })\r\n    } catch (error: any) {\r\n      console.error('Error al registrar abono:', error)\r\n      toast.error('Error al registrar abono', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false)\r\n    setFormData({\r\n      proveedorId: \"\",\r\n      fechaPedido: new Date().toISOString().split('T')[0],\r\n      notas: \"\",\r\n    })\r\n    setDetalles([])\r\n    setNuevaLinea({ descripcion: \"\", cantidad: \"\", precioTotal: \"\" })\r\n  }\r\n\r\n  const filteredPedidos = pedidos.filter(\r\n    (p) =>\r\n      normalizeText(p.numero_pedido).includes(normalizeText(searchTerm)) ||\r\n      normalizeText(p.proveedor_nombre).includes(normalizeText(searchTerm))\r\n  )\r\n\r\n  const totalPedidos = pedidos.length\r\n  const pedidosPendientes = pedidos.filter(p => p.estado === 'pendiente').length\r\n  const pedidosRecibidos = pedidos.filter(p => p.estado === 'recibido').length\r\n  const totalSaldoPendiente = pedidos.reduce((sum, p) => sum + parseFloat(p.saldo_pendiente.toString()), 0)\r\n  const totalAbonado = pedidos.reduce((sum, p) => sum + parseFloat(p.total_abonado?.toString() || '0'), 0)\r\n  const pedidosConSaldoPendiente = pedidos.filter(p => parseFloat(p.saldo_pendiente.toString()) > 0).length\r\n\r\n  return (\r\n    <div className=\"flex h-screen overflow-hidden bg-background\">\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n\r\n        <main className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n          {/* Header con botón */}\r\n          <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold\">Gestión de Pedidos</h2>\r\n              <p className=\"text-muted-foreground\">Registra y controla pedidos a proveedores</p>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button \r\n                onClick={abrirDialogAbonoProveedor} \r\n                variant=\"outline\"\r\n                className=\"w-full md:w-auto\"\r\n              >\r\n                <Wallet className=\"mr-2 h-4 w-4\" />\r\n                Abonar a Proveedor\r\n              </Button>\r\n              <Button onClick={() => setDialogOpen(true)} className=\"w-full md:w-auto\">\r\n                <Plus className=\"mr-2 h-4 w-4\" />\r\n                Nuevo Pedido\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats */}\r\n          <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Total Pedidos</CardTitle>\r\n                <ShoppingBag className=\"h-4 w-4 text-muted-foreground\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold\">{totalPedidos}</div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Pendientes</CardTitle>\r\n                <Clock className=\"h-4 w-4 text-orange-600\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-orange-600\">{pedidosPendientes}</div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Recibidos</CardTitle>\r\n                <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-green-600\">{pedidosRecibidos}</div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Total Abonado</CardTitle>\r\n                <Wallet className=\"h-4 w-4 text-blue-600\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-blue-600\">\r\n                  ${formatCurrency(totalAbonado)}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Pedidos con Saldo</CardTitle>\r\n                <Package className=\"h-4 w-4 text-amber-600\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-amber-600\">{pedidosConSaldoPendiente}</div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                <CardTitle className=\"text-sm font-medium\">Saldo Pendiente</CardTitle>\r\n                <DollarSign className=\"h-4 w-4 text-red-600\" />\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-2xl font-bold text-red-600\">\r\n                  ${formatCurrency(totalSaldoPendiente)}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Search y tabla */}\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    className=\"pl-9\"\r\n                    placeholder=\"Buscar pedido por número o proveedor...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"overflow-x-auto -mx-6 sm:mx-0\">\r\n              <Table className=\"text-sm\">\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead className=\"min-w-[100px]\">Número</TableHead>\r\n                    <TableHead className=\"min-w-[150px]\">Proveedor</TableHead>\r\n                    <TableHead className=\"min-w-[100px]\">Fecha Pedido</TableHead>\r\n                    <TableHead className=\"min-w-[100px]\">Fecha Entrega</TableHead>\r\n                    <TableHead className=\"text-right min-w-[100px]\">Costo Total</TableHead>\r\n                    <TableHead className=\"text-right min-w-[100px]\">Total Abonado</TableHead>\r\n                    <TableHead className=\"text-right min-w-[120px]\">Saldo Pendiente</TableHead>\r\n                    <TableHead className=\"min-w-[90px]\">Estado</TableHead>\r\n                    <TableHead className=\"text-right min-w-[120px]\">Acciones</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {loading && pedidos.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan={9} className=\"text-center py-8\">\r\n                        Cargando pedidos...\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : filteredPedidos.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan={9} className=\"text-center py-8 text-muted-foreground\">\r\n                        No se encontraron pedidos\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : (\r\n                    filteredPedidos.map((pedido) => (\r\n                      <TableRow key={pedido.id}>\r\n                        <TableCell>\r\n                          <div className=\"font-mono font-medium\">{pedido.numero_pedido}</div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div>\r\n                            <p className=\"font-medium\">{pedido.proveedor_nombre}</p>\r\n                            {pedido.proveedor_codigo && (\r\n                              <p className=\"text-sm text-muted-foreground\">{pedido.proveedor_codigo}</p>\r\n                            )}\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {new Date(pedido.fecha_pedido).toLocaleDateString('es-EC')}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {pedido.estado === 'recibido' && pedido.fecha_recibido ? (\r\n                            <div>\r\n                              <p className=\"font-medium text-green-600\">\r\n                                {new Date(pedido.fecha_recibido).toLocaleDateString('es-EC')}\r\n                              </p>\r\n                              <p className=\"text-xs text-muted-foreground\">\r\n                                {new Date(pedido.fecha_recibido).toLocaleTimeString('es-EC', { hour: '2-digit', minute: '2-digit' })}\r\n                              </p>\r\n                            </div>\r\n                          ) : (\r\n                            <span className=\"text-muted-foreground text-sm\">-</span>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right font-medium\">\r\n                          ${formatCurrency(pedido.costo_total)}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          <span className=\"font-medium text-blue-600\">\r\n                            ${formatCurrency(pedido.total_abonado || 0)}\r\n                          </span>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          <span className={`font-medium ${Number(pedido.saldo_pendiente || 0) === 0 ? 'text-green-600' : 'text-orange-600'}`}>\r\n                            ${formatCurrency(pedido.saldo_pendiente || pedido.costo_total)}\r\n                          </span>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Badge variant={pedido.estado === 'recibido' ? 'default' : 'secondary'}>\r\n                            {pedido.estado === 'recibido' ? 'Recibido' : 'Pendiente'}\r\n                          </Badge>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-right\">\r\n                          <div className=\"flex justify-end gap-1\">\r\n                            <Button \r\n                              variant=\"ghost\" \r\n                              size=\"icon\" \r\n                              className=\"h-8 w-8\"\r\n                              onClick={() => verDetalle(pedido)}\r\n                              title=\"Ver detalle\"\r\n                            >\r\n                              <Eye className=\"h-4 w-4\" />\r\n                            </Button>\r\n                            {pedido.saldo_pendiente > 0 && (\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"h-8 w-8\"\r\n                                onClick={() => abrirDialogAbonoPedido(pedido)}\r\n                                title=\"Registrar abono\"\r\n                              >\r\n                                <DollarSign className=\"h-4 w-4 text-blue-600\" />\r\n                              </Button>\r\n                            )}\r\n                            {pedido.estado === 'pendiente' && (\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"h-8 w-8\"\r\n                                onClick={() => marcarComoRecibido(pedido)}\r\n                                disabled={loading}\r\n                                title=\"Marcar como recibido\"\r\n                              >\r\n                                <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </CardContent>\r\n          </Card>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Dialog Nuevo Pedido */}\r\n      <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\r\n        <DialogContent className=\"max-w-7xl max-h-[150vh] overflow-y-auto w-[150vw] sm:w-full\">\r\n          <DialogHeader>\r\n            <DialogTitle>Nuevo Pedido a Proveedor</DialogTitle>\r\n            <DialogDescription>\r\n              Registra un nuevo pedido de mercancía a un proveedor\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"grid gap-4 py-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"proveedor\">Proveedor *</Label>\r\n                  <Select\r\n                    value={formData.proveedorId}\r\n                    onValueChange={(value) => setFormData({ ...formData, proveedorId: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Seleccione proveedor\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {proveedores\r\n                        .filter(prov => prov.estado === 'activo')\r\n                        .map((prov) => (\r\n                          <SelectItem key={prov.id} value={prov.id.toString()}>\r\n                            {prov.razon_social} {prov.codigo && `(${prov.codigo})`}\r\n                          </SelectItem>\r\n                        ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"fechaPedido\">Fecha del Pedido *</Label>\r\n                  <Input\r\n                    id=\"fechaPedido\"\r\n                    type=\"date\"\r\n                    value={formData.fechaPedido}\r\n                    disabled\r\n                    className=\"bg-muted\"\r\n                  />\r\n                  <p className=\"text-xs text-muted-foreground\">La fecha se registra automáticamente</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"notas\">Notas</Label>\r\n                <Textarea\r\n                  id=\"notas\"\r\n                  value={formData.notas}\r\n                  onChange={(e) => setFormData({ ...formData, notas: e.target.value })}\r\n                  rows={2}\r\n                  placeholder=\"Información adicional del pedido...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"border-t pt-4\">\r\n                <h3 className=\"text-sm font-medium mb-4\">Detalles del Pedido</h3>\r\n                \r\n                <div className=\"grid grid-cols-1 sm:grid-cols-12 gap-2 mb-2\">\r\n                  <div className=\"sm:col-span-5\">\r\n                    <Input\r\n                      placeholder=\"Descripción del artículo\"\r\n                      value={nuevaLinea.descripcion}\r\n                      onChange={(e) => setNuevaLinea({ ...nuevaLinea, descripcion: e.target.value })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"sm:col-span-2\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      placeholder=\"Cantidad\"\r\n                      value={nuevaLinea.cantidad ? formatCurrency(nuevaLinea.cantidad) : ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value.replace(/\\./g, '').replace(/[^0-9]/g, '')\r\n                        setNuevaLinea({ ...nuevaLinea, cantidad: value })\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (nuevaLinea.cantidad) {\r\n                          e.target.value = nuevaLinea.cantidad\r\n                        }\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (nuevaLinea.cantidad) {\r\n                          e.target.value = formatCurrency(nuevaLinea.cantidad)\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"sm:col-span-3\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      placeholder=\"Precio Total\"\r\n                      value={nuevaLinea.precioTotal ? formatCurrency(nuevaLinea.precioTotal) : ''}\r\n                      onChange={(e) => {\r\n                        const value = e.target.value.replace(/\\./g, '').replace(/[^0-9]/g, '')\r\n                        setNuevaLinea({ ...nuevaLinea, precioTotal: value })\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (nuevaLinea.precioTotal) {\r\n                          e.target.value = nuevaLinea.precioTotal\r\n                        }\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (nuevaLinea.precioTotal) {\r\n                          e.target.value = formatCurrency(nuevaLinea.precioTotal)\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"sm:col-span-2\">\r\n                    <Button type=\"button\" onClick={agregarLinea} className=\"w-full\">\r\n                      <Plus className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n\r\n                {detalles.length > 0 && (\r\n                  <div className=\"border rounded-md overflow-x-auto\">\r\n                    <Table>\r\n                      <TableHeader>\r\n                        <TableRow>\r\n                          <TableHead className=\"min-w-[150px]\">Descripción</TableHead>\r\n                          <TableHead className=\"text-center min-w-[80px]\">Cantidad</TableHead>\r\n                          <TableHead className=\"text-right min-w-[100px]\">Precio Total</TableHead>\r\n                          <TableHead className=\"w-12\"></TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {detalles.map((detalle, index) => (\r\n                          <TableRow key={index}>\r\n                            <TableCell>{detalle.descripcion}</TableCell>\r\n                            <TableCell className=\"text-center\">{detalle.cantidad}</TableCell>\r\n                            <TableCell className=\"text-right font-medium\">${formatCurrency(detalle.precioTotal)}</TableCell>\r\n                            <TableCell>\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"h-8 w-8 text-destructive\"\r\n                                onClick={() => eliminarLinea(index)}\r\n                              >\r\n                                <X className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))}\r\n                        <TableRow>\r\n                          <TableCell colSpan={2} className=\"text-right font-bold\">Total:</TableCell>\r\n                          <TableCell className=\"text-right font-bold text-lg\">${formatCurrency(calcularTotal())}</TableCell>\r\n                          <TableCell></TableCell>\r\n                        </TableRow>\r\n                      </TableBody>\r\n                    </Table>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={handleCloseDialog}>\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\" disabled={loading || detalles.length === 0}>\r\n                {loading ? 'Guardando...' : 'Crear Pedido'}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog Ver Detalle */}\r\n      <Dialog open={detalleDialogOpen} onOpenChange={setDetalleDialogOpen}>\r\n        <DialogContent className=\"max-w-3xl w-[95vw] sm:w-full max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Detalle del Pedido</DialogTitle>\r\n            <DialogDescription>\r\n              {selectedPedido && `Pedido ${selectedPedido.numero_pedido}`}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          {selectedPedido && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Proveedor</Label>\r\n                  <p className=\"font-medium\">{selectedPedido.proveedor_nombre}</p>\r\n                  {selectedPedido.proveedor_codigo && (\r\n                    <p className=\"text-sm text-muted-foreground\">{selectedPedido.proveedor_codigo}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Fecha de Pedido</Label>\r\n                  <p className=\"font-medium\">\r\n                    {new Date(selectedPedido.fecha_pedido).toLocaleDateString('es-EC')}\r\n                  </p>\r\n                </div>\r\n                {selectedPedido.estado === 'recibido' && selectedPedido.fecha_recibido && (\r\n                  <div>\r\n                    <Label className=\"text-muted-foreground\">Fecha de Entrega</Label>\r\n                    <p className=\"font-medium text-green-600\">\r\n                      {new Date(selectedPedido.fecha_recibido).toLocaleDateString('es-EC')}\r\n                    </p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {new Date(selectedPedido.fecha_recibido).toLocaleTimeString('es-EC', { hour: '2-digit', minute: '2-digit' })}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Estado</Label>\r\n                  <div className=\"mt-1\">\r\n                    <Badge variant={selectedPedido.estado === 'recibido' ? 'default' : 'secondary'}>\r\n                      {selectedPedido.estado === 'recibido' ? 'Recibido' : 'Pendiente'}\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {selectedPedido.notas && (\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Notas</Label>\r\n                  <p className=\"text-sm\">{selectedPedido.notas}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <Label className=\"text-muted-foreground mb-2 block\">Detalles</Label>\r\n                <div className=\"border rounded-md overflow-x-auto\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead className=\"min-w-[150px]\">Descripción</TableHead>\r\n                        <TableHead className=\"text-center min-w-[80px]\">Cantidad</TableHead>\r\n                        <TableHead className=\"text-right min-w-[100px]\">Precio Total</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {selectedPedido.detalles.map((detalle, index) => (\r\n                        <TableRow key={index}>\r\n                          <TableCell>{detalle.descripcion}</TableCell>\r\n                          <TableCell className=\"text-center\">{detalle.cantidad}</TableCell>\r\n                          <TableCell className=\"text-right font-medium\">${formatCurrency(detalle.precioTotal)}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                      <TableRow>\r\n                        <TableCell colSpan={2} className=\"text-right font-bold\">Total:</TableCell>\r\n                        <TableCell className=\"text-right font-bold text-lg\">\r\n                          ${formatCurrency(selectedPedido.costo_total)}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <DialogFooter>\r\n            <Button type=\"button\" onClick={() => setDetalleDialogOpen(false)}>\r\n              Cerrar\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Diálogo de confirmación para marcar como recibido */}\r\n      <AlertDialog open={confirmDialogOpen} onOpenChange={setConfirmDialogOpen}>\r\n        <AlertDialogContent className=\"w-[95vw] sm:w-full max-w-lg\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>¿Marcar pedido como recibido?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {selectedPedido && (\r\n                <>\r\n                  Se marcará el pedido <span className=\"font-semibold\">{selectedPedido.numero_pedido}</span> como recibido.\r\n                  <br /><br />\r\n                  Esta acción registrará la fecha actual y <span className=\"font-semibold text-destructive\">NO se puede deshacer</span>.\r\n                </>\r\n              )}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmarMarcarRecibido}>\r\n              Confirmar\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Dialog Abono a Pedido Individual */}\r\n      <Dialog open={abonoDialogOpen} onOpenChange={setAbonoDialogOpen}>\r\n        <DialogContent className=\"w-[95vw] sm:w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Registrar Abono a Pedido</DialogTitle>\r\n          </DialogHeader>\r\n          {selectedPedido && (\r\n            <div className=\"space-y-2\">\r\n              <p><span className=\"font-semibold\">Pedido:</span> {selectedPedido.numero_pedido}</p>\r\n              <p><span className=\"font-semibold\">Proveedor:</span> {selectedPedido.proveedor_nombre}</p>\r\n              <div className=\"grid grid-cols-3 gap-2 text-xs sm:text-sm pt-2 border-t\">\r\n                <div>\r\n                  <p className=\"text-muted-foreground\">Costo Total</p>\r\n                  <p className=\"font-semibold\">${formatCurrency(selectedPedido.costo_total)}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-muted-foreground\">Abonado</p>\r\n                  <p className=\"font-semibold text-blue-600\">${formatCurrency(selectedPedido.total_abonado)}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-muted-foreground\">Saldo</p>\r\n                  <p className=\"font-semibold text-orange-600\">${formatCurrency(selectedPedido.saldo_pendiente)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <form onSubmit={registrarAbonoPedido}>\r\n            <div className=\"grid gap-4 py-4\">\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"monto-abono\">Monto del Abono *</Label>\r\n                <Input\r\n                  id=\"monto-abono\"\r\n                  type=\"text\"\r\n                  placeholder=\"0\"\r\n                  value={abonoForm.monto ? formatCurrency(abonoForm.monto) : ''}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value.replace(/\\./g, '').replace(/[^0-9]/g, '')\r\n                    setAbonoForm({ ...abonoForm, monto: value })\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (abonoForm.monto) {\r\n                      e.target.value = abonoForm.monto\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    if (abonoForm.monto) {\r\n                      e.target.value = formatCurrency(abonoForm.monto)\r\n                    }\r\n                  }}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"metodo-pago-abono\">Método de Pago</Label>\r\n                <Select\r\n                  value={abonoForm.metodoPago}\r\n                  onValueChange={(value: any) => setAbonoForm({ ...abonoForm, metodoPago: value })}\r\n                >\r\n                  <SelectTrigger id=\"metodo-pago-abono\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"efectivo\">Efectivo</SelectItem>\r\n                    <SelectItem value=\"transferencia\">Transferencia</SelectItem>\r\n                    <SelectItem value=\"tarjeta\">Tarjeta</SelectItem>\r\n                    <SelectItem value=\"cheque\">Cheque</SelectItem>\r\n                    <SelectItem value=\"otro\">Otro</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"referencia-abono\">Referencia</Label>\r\n                <Input\r\n                  id=\"referencia-abono\"\r\n                  type=\"text\"\r\n                  placeholder=\"Número de transacción, cheque, etc.\"\r\n                  value={abonoForm.referencia}\r\n                  onChange={(e) => setAbonoForm({ ...abonoForm, referencia: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"notas-abono\">Notas</Label>\r\n                <Textarea\r\n                  id=\"notas-abono\"\r\n                  placeholder=\"Observaciones adicionales...\"\r\n                  value={abonoForm.notas}\r\n                  onChange={(e) => setAbonoForm({ ...abonoForm, notas: e.target.value })}\r\n                  rows={3}\r\n                />\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setAbonoDialogOpen(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\" disabled={loading}>\r\n                {loading ? 'Registrando...' : 'Registrar Abono'}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Dialog Abono a Proveedor (Colectivo) */}\r\n      <Dialog open={abonoProveedorDialogOpen} onOpenChange={setAbonoProveedorDialogOpen}>\r\n        <DialogContent className=\"w-[95vw] sm:w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Abonar a Proveedor</DialogTitle>\r\n            <DialogDescription>\r\n              El monto se distribuirá automáticamente entre los pedidos pendientes del proveedor, comenzando por el más antiguo.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <form onSubmit={registrarAbonoProveedor}>\r\n            <div className=\"grid gap-4 py-4\">\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"proveedor-abono\">Proveedor *</Label>\r\n                <Select\r\n                  value={selectedProveedor?.id.toString() || \"\"}\r\n                  onValueChange={(value) => {\r\n                    const prov = proveedores.find(p => p.id.toString() === value)\r\n                    setSelectedProveedor(prov || null)\r\n                  }}\r\n                  required\r\n                >\r\n                  <SelectTrigger id=\"proveedor-abono\">\r\n                    <SelectValue placeholder=\"Seleccione un proveedor\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {proveedores\r\n                      .filter(prov => prov.estado === 'activo' && pedidos.some(ped => ped.proveedor_id === prov.id && ped.saldo_pendiente > 0))\r\n                      .map((proveedor) => {\r\n                        const saldoTotal = pedidos\r\n                          .filter(p => p.proveedor_id === proveedor.id && p.saldo_pendiente > 0)\r\n                          .reduce((sum, p) => sum + parseFloat(p.saldo_pendiente.toString()), 0)\r\n                        const numPedidos = pedidos.filter(p => p.proveedor_id === proveedor.id && p.saldo_pendiente > 0).length\r\n                        \r\n                        return (\r\n                          <SelectItem key={proveedor.id} value={proveedor.id.toString()}>\r\n                            {proveedor.razon_social} - {numPedidos} pedido(s) - Deuda: ${formatCurrency(saldoTotal)}\r\n                          </SelectItem>\r\n                        )\r\n                      })}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"monto-proveedor\">Monto del Abono *</Label>\r\n                <Input\r\n                  id=\"monto-proveedor\"\r\n                  type=\"text\"\r\n                  placeholder=\"0\"\r\n                  value={abonoForm.monto ? formatCurrency(abonoForm.monto) : ''}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value.replace(/\\./g, '').replace(/[^0-9]/g, '')\r\n                    setAbonoForm({ ...abonoForm, monto: value })\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    if (abonoForm.monto) {\r\n                      e.target.value = abonoForm.monto\r\n                    }\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    if (abonoForm.monto) {\r\n                      e.target.value = formatCurrency(abonoForm.monto)\r\n                    }\r\n                  }}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"metodo-pago-proveedor\">Método de Pago</Label>\r\n                <Select\r\n                  value={abonoForm.metodoPago}\r\n                  onValueChange={(value: any) => setAbonoForm({ ...abonoForm, metodoPago: value })}\r\n                >\r\n                  <SelectTrigger id=\"metodo-pago-proveedor\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"efectivo\">Efectivo</SelectItem>\r\n                    <SelectItem value=\"transferencia\">Transferencia</SelectItem>\r\n                    <SelectItem value=\"tarjeta\">Tarjeta</SelectItem>\r\n                    <SelectItem value=\"cheque\">Cheque</SelectItem>\r\n                    <SelectItem value=\"otro\">Otro</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"referencia-proveedor\">Referencia</Label>\r\n                <Input\r\n                  id=\"referencia-proveedor\"\r\n                  type=\"text\"\r\n                  placeholder=\"Número de transacción, cheque, etc.\"\r\n                  value={abonoForm.referencia}\r\n                  onChange={(e) => setAbonoForm({ ...abonoForm, referencia: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"notas-proveedor\">Notas</Label>\r\n                <Textarea\r\n                  id=\"notas-proveedor\"\r\n                  placeholder=\"Observaciones adicionales...\"\r\n                  value={abonoForm.notas}\r\n                  onChange={(e) => setAbonoForm({ ...abonoForm, notas: e.target.value })}\r\n                  rows={3}\r\n                />\r\n              </div>\r\n            </div>\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setAbonoProveedorDialogOpen(false)}>\r\n                Cancelar\r\n              </Button>\r\n              <Button type=\"submit\" disabled={loading || !selectedProveedor}>\r\n                {loading ? 'Registrando...' : 'Distribuir Abono'}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}