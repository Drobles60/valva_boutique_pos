{"version":3,"sources":["../../../../components/ventas-content.tsx","../../../../components/factura-dialog.tsx","../../../../components/cambio-dialog.tsx","../../../../node_modules/.pnpm/%40radix-ui%2Breact-roving-focu_b61bdbf9730499780a48861185bc73d3/node_modules/%40radix-ui/react-roving-focus/dist/index.mjs","../../../../node_modules/.pnpm/%40radix-ui%2Breact-tabs%401.1.2__422ba54e7d0bb3478a984127f9da6c69/node_modules/%40radix-ui/react-tabs/dist/index.mjs","../../../../components/ui/tabs.tsx","../../../../components/credito-dialog.tsx","../../../../node_modules/.pnpm/%40radix-ui%2Breact-checkbox%401._f410328e379c213375a7566c620ba95f/node_modules/%40radix-ui/react-checkbox/dist/index.mjs","../../../../components/ui/checkbox.tsx","../../../../components/resumen-precios-dialog.tsx","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.0/node_modules/lucide-react/src/icons/user-plus.ts","../../../../node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.0/node_modules/lucide-react/src/icons/repeat.ts","../../../../node_modules/.pnpm/%40radix-ui%2Breact-roving-focu_b61bdbf9730499780a48861185bc73d3/node_modules/%40radix-ui/react-roving-focus/src/RovingFocusGroup.tsx","../../../../node_modules/.pnpm/%40radix-ui%2Breact-checkbox%401._f410328e379c213375a7566c620ba95f/node_modules/%40radix-ui/react-checkbox/src/Checkbox.tsx","../../../../node_modules/.pnpm/%40radix-ui%2Breact-tabs%401.1.2__422ba54e7d0bb3478a984127f9da6c69/node_modules/%40radix-ui/react-tabs/src/Tabs.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Plus, Trash2, ShoppingCart, Search, Loader2 } from \"lucide-react\"\r\nimport type { Product, Cliente } from \"@/lib/types\"\r\nimport { getClientes } from \"@/lib/storage\"\r\nimport { SidebarToggle } from \"./app-sidebar\"\r\nimport { FacturaDialog } from \"./factura-dialog\"\r\nimport { CambioDialog } from \"./cambio-dialog\"\r\nimport { CreditoDialog } from \"./credito-dialog\"\r\nimport { ResumenPreciosDialog } from \"./resumen-precios-dialog\"\r\nimport { toast } from \"sonner\"\r\nimport { formatCurrency, normalizeText } from \"@/lib/utils\"\r\nimport { useSession } from \"next-auth/react\"\r\n\r\ntype CartItem = {\r\n  product: Product\r\n  cantidad: number\r\n  precioUnitario: number\r\n  tipoCliente: \"publico\" | \"mayorista\" | \"especial\"\r\n}\r\n\r\nexport function VentasContent() {\r\n  const { data: session } = useSession()\r\n  const [carrito, setCarrito] = React.useState<CartItem[]>([])\r\n  const [productos, setProductos] = React.useState<Product[]>([])\r\n  const [clientes, setClientes] = React.useState<Cliente[]>([])\r\n  const [searchTerm, setSearchTerm] = React.useState(\"\")\r\n  const [tipoVenta, setTipoVenta] = React.useState(\"contado\")\r\n  const [metodoPago, setMetodoPago] = React.useState(\"efectivo\")\r\n  const [clienteSeleccionado, setClienteSeleccionado] = React.useState<Cliente | null>(null)\r\n  const [procesando, setProcesando] = React.useState(false)\r\n  const [facturaOpen, setFacturaOpen] = React.useState(false)\r\n  const [ventaActual, setVentaActual] = React.useState<any>(null)\r\n  const [cambioDialogOpen, setCambioDialogOpen] = React.useState(false)\r\n  const [creditoDialogOpen, setCreditoDialogOpen] = React.useState(false)\r\n  const [resumenDialogOpen, setResumenDialogOpen] = React.useState(false)\r\n  const [carritoParaProcesar, setCarritoParaProcesar] = React.useState<CartItem[]>([])\r\n  const [cajaAbierta, setCajaAbierta] = React.useState<boolean | null>(null)\r\n\r\n  React.useEffect(() => {\r\n    loadProductos()\r\n    loadClientes()\r\n    verificarCaja()\r\n  }, [])\r\n\r\n  const verificarCaja = async () => {\r\n    try {\r\n      const response = await fetch('/api/caja/estado')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        setCajaAbierta(result.abierta)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verificando caja:', error)\r\n      setCajaAbierta(false)\r\n    }\r\n  }\r\n\r\n  const loadClientes = async () => {\r\n    try {\r\n      const response = await fetch('/api/clientes')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        if (result.success && result.data) {\r\n          setClientes(result.data)\r\n        }\r\n      } else {\r\n        // Fallback a localStorage\r\n        setClientes(getClientes())\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando clientes:', error)\r\n      setClientes(getClientes())\r\n    }\r\n  }\r\n\r\n  const loadProductos = async () => {\r\n    try {\r\n      const response = await fetch('/api/productos')\r\n      if (response.ok) {\r\n        const result = await response.json()\r\n        if (result.success && result.data) {\r\n          // Convertir formato de API a formato de Product\r\n          const productosConvertidos = result.data.map((p: any) => ({\r\n            id: p.id?.toString() || '',\r\n            nombre: p.nombre || '',\r\n            codigo: p.codigo_barras || '',\r\n            referencia: p.sku || '',\r\n            categoria: p.categoria_nombre || '',\r\n            tipoPrenda: p.tipo_prenda_nombre || '',\r\n            talla: p.talla_valor || '',\r\n            color: p.color || '',\r\n            cantidad: Number(p.stock_actual) || 0,\r\n            stockMinimo: 5,\r\n            precioCosto: Number(p.precio_compra) || 0,\r\n            precioVentaPublico: p.tiene_descuento ? Number(p.precio_final) : Number(p.precio_venta),\r\n            precioMayorista: Number(p.precio_venta) || 0,\r\n            precioEspecial: Number(p.precio_minimo) || 0,\r\n            proveedor: p.proveedor_nombre || '',\r\n            // Información completa del descuento\r\n            tieneDescuento: p.tiene_descuento || false,\r\n            descuentoAplicado: p.descuento_aplicado || null,\r\n            precioOriginal: p.precio_original || p.precio_venta,\r\n            precioConDescuento: p.tiene_descuento ? Number(p.precio_final) : undefined,\r\n            montoDescuento: p.monto_descuento || 0,\r\n            createdAt: new Date().toISOString(),\r\n            updatedAt: new Date().toISOString(),\r\n          }))\r\n          setProductos(productosConvertidos)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando productos:', error)\r\n      toast.error('Error al cargar productos')\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (clienteSeleccionado) {\r\n      setCarrito((prevCarrito) =>\r\n        prevCarrito.map((item) => ({\r\n          ...item,\r\n          tipoCliente: clienteSeleccionado.tipoCliente,\r\n          precioUnitario: getPrecioByTipo(item.product, clienteSeleccionado.tipoCliente),\r\n        })),\r\n      )\r\n    }\r\n  }, [clienteSeleccionado])\r\n\r\n  // Cuando cambia el tipo de venta, resetear cliente si es contado\r\n  React.useEffect(() => {\r\n    if (tipoVenta === \"contado\") {\r\n      setClienteSeleccionado(null)\r\n      // Actualizar precios del carrito a precio público\r\n      setCarrito((prevCarrito) =>\r\n        prevCarrito.map((item) => ({\r\n          ...item,\r\n          tipoCliente: \"publico\",\r\n          precioUnitario: getPrecioByTipo(item.product, \"publico\"),\r\n        })),\r\n      )\r\n    }\r\n  }, [tipoVenta])\r\n\r\n  const getPrecioByTipo = (product: Product, tipoCliente: \"publico\" | \"mayorista\" | \"especial\") => {\r\n    // Si el producto tiene descuento aplicado, usar el precio con descuento\r\n    if ((product as any).tieneDescuento && product.precioConDescuento) {\r\n      return product.precioConDescuento\r\n    }\r\n    switch (tipoCliente) {\r\n      case \"mayorista\":\r\n        return product.precioMayorista\r\n      case \"especial\":\r\n        return product.precioEspecial\r\n      default:\r\n        return product.precioVentaPublico\r\n    }\r\n  }\r\n\r\n  const agregarProducto = (producto: Product) => {\r\n    const tipoCliente = clienteSeleccionado?.tipoCliente || \"publico\"\r\n    const precio = getPrecioByTipo(producto, tipoCliente)\r\n\r\n    const existente = carrito.find((item) => item.product.id === producto.id)\r\n    if (existente) {\r\n      setCarrito(\r\n        carrito.map((item) => (item.product.id === producto.id ? { ...item, cantidad: item.cantidad + 1 } : item)),\r\n      )\r\n    } else {\r\n      setCarrito([\r\n        ...carrito,\r\n        {\r\n          product: producto,\r\n          cantidad: 1,\r\n          precioUnitario: precio,\r\n          tipoCliente,\r\n        },\r\n      ])\r\n    }\r\n  }\r\n\r\n  const eliminarProducto = (id: string) => {\r\n    setCarrito(carrito.filter((item) => item.product.id !== id))\r\n  }\r\n\r\n  const actualizarCantidad = (id: string, cantidad: number) => {\r\n    if (cantidad < 1) return\r\n    setCarrito(carrito.map((item) => (item.product.id === id ? { ...item, cantidad } : item)))\r\n  }\r\n\r\n  const actualizarPrecio = (id: string, precio: number) => {\r\n    if (precio < 0) return\r\n    setCarrito(carrito.map((item) => (item.product.id === id ? { ...item, precioUnitario: precio } : item)))\r\n  }\r\n\r\n  const subtotal = carrito.reduce((sum, item) => sum + item.precioUnitario * item.cantidad, 0)\r\n  const total = subtotal\r\n\r\n  const procesarVenta = async () => {\r\n    if (carrito.length === 0) {\r\n      toast.error('El carrito está vacío')\r\n      return\r\n    }\r\n\r\n    // Verificar que la caja esté abierta antes de continuar\r\n    if (!cajaAbierta) {\r\n      toast.error('Caja cerrada', {\r\n        description: 'Debes abrir la caja antes de registrar ventas.'\r\n      })\r\n      return\r\n    }\r\n\r\n    // Abrir diálogo de resumen de precios primero\r\n    setResumenDialogOpen(true)\r\n  }\r\n\r\n  const confirmarResumenPrecios = (carritoAjustado: CartItem[]) => {\r\n    // Guardar carrito ajustado y cerrar diálogo de resumen\r\n    setCarritoParaProcesar(carritoAjustado)\r\n    setResumenDialogOpen(false)\r\n\r\n    // Actualizar el carrito con los precios ajustados\r\n    setCarrito(carritoAjustado)\r\n\r\n    // Abrir diálogo de cobro según tipo de venta\r\n    if (tipoVenta === 'contado') {\r\n      setCambioDialogOpen(true)\r\n    } else {\r\n      setCreditoDialogOpen(true)\r\n    }\r\n  }\r\n\r\n  const finalizarVentaContado = async (data: {\r\n    efectivoRecibido: number\r\n    cambio: number\r\n    pagoMixto?: { efectivo: number; transferencia: number }\r\n    referenciaTransferencia?: string\r\n  }) => {\r\n    setCambioDialogOpen(false)\r\n    setProcesando(true)\r\n\r\n    try {\r\n      // Preparar datos de la venta de contado\r\n      const ventaData = {\r\n        cliente_id: clienteSeleccionado?.id || null,\r\n        tipo_venta: 'contado',\r\n        metodo_pago: metodoPago,\r\n        productos: carrito.map(item => ({\r\n          producto_id: parseInt(item.product.id),\r\n          cantidad: item.cantidad,\r\n          precio_unitario: item.precioUnitario\r\n        })),\r\n        subtotal,\r\n        iva: 0,\r\n        descuento: 0,\r\n        total,\r\n        descuento_id: null,\r\n        efectivo_recibido: data.efectivoRecibido,\r\n        cambio: data.cambio,\r\n        pago_mixto: data.pagoMixto,\r\n        referencia_transferencia: data.referenciaTransferencia\r\n      }\r\n\r\n      // Enviar a la API\r\n      const response = await fetch('/api/ventas', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(ventaData)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        // Intentar parsear el JSON del error\r\n        let errorMessage = 'Error al procesar la venta'\r\n        try {\r\n          const errorResult = await response.json()\r\n          errorMessage = errorResult.error || errorMessage\r\n        } catch (e) {\r\n          // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n          const errorText = await response.text()\r\n          errorMessage = errorText || `Error ${response.status}: ${response.statusText}`\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success && result.data) {\r\n        // Limpiar carrito\r\n        setCarrito([])\r\n        setClienteSeleccionado(null)\r\n        \r\n        // Recargar productos para actualizar stock\r\n        await loadProductos()\r\n        \r\n        // Mostrar factura\r\n        setVentaActual(result.data)\r\n        setFacturaOpen(true)\r\n        \r\n        toast.success('¡Venta completada!', {\r\n          description: `Venta ${result.data.numero_venta} registrada exitosamente`\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error al procesar venta:', error)\r\n      const esCajaCerrada = error.message?.toLowerCase().includes('caja')\r\n      toast.error(esCajaCerrada ? 'Caja cerrada' : 'Error al procesar venta', {\r\n        description: error.message || 'Ocurrió un error inesperado'\r\n      })\r\n      if (esCajaCerrada) setCajaAbierta(false)\r\n    } finally {\r\n      setProcesando(false)\r\n    }\r\n  }\r\n\r\n  const finalizarVentaCredito = async (data: {\r\n    cliente: any\r\n    abono?: any\r\n    esNuevoCliente: boolean\r\n  }) => {\r\n    setCreditoDialogOpen(false)\r\n    setProcesando(true)\r\n\r\n    try {\r\n      // Si es nuevo cliente, primero registrarlo\r\n      let clienteId = null\r\n      if (data.esNuevoCliente) {\r\n        const clienteResponse = await fetch('/api/clientes', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(data.cliente)\r\n        })\r\n\r\n        if (!clienteResponse.ok) {\r\n          // Intentar parsear el JSON del error\r\n          let errorMessage = 'Error al registrar cliente'\r\n          try {\r\n            const errorResult = await clienteResponse.json()\r\n            errorMessage = errorResult.error || errorMessage\r\n          } catch (e) {\r\n            // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n            const errorText = await clienteResponse.text()\r\n            errorMessage = errorText || `Error ${clienteResponse.status}: ${clienteResponse.statusText}`\r\n          }\r\n          throw new Error(errorMessage)\r\n        }\r\n\r\n        const clienteResult = await clienteResponse.json()\r\n        clienteId = clienteResult.data.id\r\n      } else {\r\n        clienteId = data.cliente.id\r\n      }\r\n\r\n      // Preparar datos de la venta a crédito\r\n      const ventaData = {\r\n        cliente_id: clienteId,\r\n        tipo_venta: 'credito',\r\n        metodo_pago: null,\r\n        productos: carrito.map(item => ({\r\n          producto_id: parseInt(item.product.id),\r\n          cantidad: item.cantidad,\r\n          precio_unitario: item.precioUnitario\r\n        })),\r\n        subtotal,\r\n        iva: 0,\r\n        descuento: 0,\r\n        total,\r\n        descuento_id: null,\r\n        abono: data.abono\r\n      }\r\n\r\n      // Enviar a la API\r\n      const response = await fetch('/api/ventas', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(ventaData)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        // Intentar parsear el JSON del error\r\n        let errorMessage = 'Error al procesar la venta'\r\n        try {\r\n          const errorResult = await response.json()\r\n          errorMessage = errorResult.error || errorMessage\r\n        } catch (e) {\r\n          // Si no se puede parsear el JSON, usar el texto de la respuesta\r\n          const errorText = await response.text()\r\n          errorMessage = errorText || `Error ${response.status}: ${response.statusText}`\r\n        }\r\n        throw new Error(errorMessage)\r\n      }\r\n\r\n      const result = await response.json()\r\n\r\n      if (result.success && result.data) {\r\n        // Limpiar carrito\r\n        setCarrito([])\r\n        setClienteSeleccionado(null)\r\n        \r\n        // Recargar productos y clientes\r\n        await loadProductos()\r\n        await loadClientes()\r\n        \r\n        // Mostrar factura\r\n        setVentaActual(result.data)\r\n        setFacturaOpen(true)\r\n        \r\n        toast.success('¡Venta a crédito completada!', {\r\n          description: `Venta ${result.data.numero_venta} registrada exitosamente`\r\n        })\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error al procesar venta a crédito:', error)\r\n      const esCajaCerrada = error.message?.toLowerCase().includes('caja')\r\n      toast.error(esCajaCerrada ? 'Caja cerrada' : 'Error al procesar venta', {\r\n        description: error.message || 'Ocurrió un error inesperado'\r\n      })\r\n      if (esCajaCerrada) setCajaAbierta(false)\r\n    } finally {\r\n      setProcesando(false)\r\n    }\r\n  }\r\n\r\n  const productosFiltrados = productos.filter(\r\n    (p) =>\r\n      p.cantidad > 0 && // Solo mostrar productos con stock disponible\r\n      (normalizeText(p.nombre).includes(normalizeText(searchTerm)) ||\r\n      normalizeText(p.codigo).includes(normalizeText(searchTerm)) ||\r\n      normalizeText(p.referencia).includes(normalizeText(searchTerm))),\r\n  )\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 p-4 md:gap-6 md:p-6\">\r\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <SidebarToggle />\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold tracking-tight md:text-3xl\">Punto de Venta</h1>\r\n            <p className=\"text-muted-foreground\">Sistema POS con múltiples precios</p>\r\n          </div>\r\n        </div>\r\n        <Button size=\"lg\" disabled={carrito.length === 0 || procesando || !cajaAbierta} onClick={procesarVenta}>\r\n          {procesando ? (\r\n            <>\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              Procesando...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <ShoppingCart className=\"mr-2 h-4 w-4\" />\r\n              Procesar Venta\r\n            </>\r\n          )}\r\n        </Button>\r\n      </div>\r\n\r\n      {cajaAbierta === false && (\r\n        <div className=\"flex items-center gap-3 rounded-lg border border-destructive/50 bg-destructive/10 p-4\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 shrink-0 text-destructive\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z\" />\r\n          </svg>\r\n          <div>\r\n            <p className=\"font-semibold text-destructive\">Caja cerrada</p>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              No se pueden registrar ventas. Dirígete a{' '}\r\n              <a href=\"/caja\" className=\"font-medium underline text-destructive hover:opacity-80\">Gestión de Caja</a>\r\n              {' '}para abrir la caja primero.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid gap-6 lg:grid-cols-3\">\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Búsqueda de Productos</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex gap-2\">\r\n                <div className=\"relative flex-1\">\r\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    className=\"pl-9\"\r\n                    placeholder=\"Buscar por nombre, código o referencia...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Productos Disponibles</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {productosFiltrados.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <p className=\"text-muted-foreground\">No se encontraron productos</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                  {productosFiltrados.map((producto) => {\r\n                    const tipoCliente = clienteSeleccionado?.tipoCliente || \"publico\"\r\n                    const precioActual = getPrecioByTipo(producto, tipoCliente)\r\n\r\n                    return (\r\n                      <div\r\n                        key={producto.id}\r\n                        className=\"flex flex-col rounded-lg border p-4 hover:bg-secondary cursor-pointer transition-colors\"\r\n                        onClick={() => agregarProducto(producto)}\r\n                      >\r\n                        <div className=\"flex items-start justify-between mb-2\">\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-medium\">{producto.nombre}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">{producto.codigo}</p>\r\n                            {(producto as any).tieneDescuento && (producto as any).descuentoAplicado && (\r\n                              <Badge variant=\"destructive\" className=\"mt-1\">\r\n                                {(producto as any).descuentoAplicado.tipo === 'porcentaje' \r\n                                  ? `${(producto as any).descuentoAplicado.valor}% OFF`\r\n                                  : `Precio ${(producto as any).descuentoAplicado.nombre}`}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                          <Button size=\"sm\" variant=\"ghost\" onClick={() => agregarProducto(producto)}>\r\n                            <Plus className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </div>\r\n                        <div className=\"space-y-1 text-xs\">\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-muted-foreground\">Precio de venta:</span>\r\n                            <span className=\"font-semibold\">\r\n                              ${formatCurrency(producto.precioVentaPublico)}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-muted-foreground\">Precio mínimo:</span>\r\n                            <span className=\"font-semibold text-[#D4AF37]\">\r\n                              ${formatCurrency(producto.precioEspecial)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"mt-2 pt-2 border-t\">\r\n                          <p className=\"font-bold text-primary text-lg\">${formatCurrency(precioActual)}</p>\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            Stock: {producto.cantidad} | {producto.categoria}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Carrito de Compra</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {carrito.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                  <ShoppingCart className=\"h-12 w-12 text-muted-foreground mb-3\" />\r\n                  <p className=\"text-sm text-muted-foreground\">No hay productos en el carrito</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {carrito.map((item) => (\r\n                    <div key={item.product.id} className=\"rounded-lg border p-3 space-y-2\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-medium text-sm\">{item.product.nombre}</p>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              {item.tipoCliente === \"publico\"\r\n                                ? \"Público\"\r\n                                : item.tipoCliente === \"mayorista\"\r\n                                  ? \"Mayorista\"\r\n                                  : \"Especial\"}\r\n                            </Badge>\r\n                            {(item.product as any).tieneDescuento && (item.product as any).descuentoAplicado && (\r\n                              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                {(item.product as any).descuentoAplicado.tipo === 'porcentaje' \r\n                                  ? `${(item.product as any).descuentoAplicado.valor}% OFF`\r\n                                  : `${(item.product as any).descuentoAplicado.nombre}`}\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <Button size=\"sm\" variant=\"ghost\" onClick={() => eliminarProducto(item.product.id)}>\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className=\"flex items-center gap-1\">\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => actualizarCantidad(item.product.id, item.cantidad - 1)}\r\n                          >\r\n                            -\r\n                          </Button>\r\n                          <Input\r\n                            type=\"number\"\r\n                            value={item.cantidad}\r\n                            onChange={(e) => actualizarCantidad(item.product.id, Number.parseInt(e.target.value) || 1)}\r\n                            className=\"h-8 w-12 text-center\"\r\n                          />\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => actualizarCantidad(item.product.id, item.cantidad + 1)}\r\n                          >\r\n                            +\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className=\"text-xs text-muted-foreground\">Precio:</span>\r\n                        <Input\r\n                          type=\"number\"\r\n                          value={item.precioUnitario}\r\n                          onChange={(e) => actualizarPrecio(item.product.id, Number.parseFloat(e.target.value) || 0)}\r\n                          className=\"h-8 flex-1 text-sm\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center pt-2 border-t\">\r\n                        <span className=\"text-xs text-muted-foreground\">Subtotal:</span>\r\n                        <span className=\"font-bold text-sm\">\r\n                          ${formatCurrency(item.precioUnitario * item.cantidad)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Detalles de Pago</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tipo-venta\">Tipo de Venta</Label>\r\n                <Select value={tipoVenta} onValueChange={setTipoVenta}>\r\n                  <SelectTrigger id=\"tipo-venta\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"contado\">Contado</SelectItem>\r\n                    <SelectItem value=\"credito\">Crédito</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {tipoVenta === \"contado\" && (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"metodo-pago\">Método de Pago</Label>\r\n                    <Select value={metodoPago} onValueChange={setMetodoPago}>\r\n                      <SelectTrigger id=\"metodo-pago\">\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"efectivo\">Efectivo</SelectItem>\r\n                        <SelectItem value=\"transferencia\">Transferencia</SelectItem>\r\n                        <SelectItem value=\"mixto\">Mixto</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"space-y-2 border-t pt-4\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-sm\">Subtotal:</span>\r\n                  <span className=\"font-medium\">${formatCurrency(subtotal)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between border-t pt-2\">\r\n                  <span className=\"text-lg font-bold\">Total:</span>\r\n                  <span className=\"text-2xl font-bold text-primary\">${formatCurrency(total)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <Button \r\n                className=\"w-full\" \r\n                size=\"lg\" \r\n                disabled={carrito.length === 0 || procesando} \r\n                onClick={procesarVenta}\r\n              >\r\n                {procesando ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Procesando...\r\n                  </>\r\n                ) : (\r\n                  'Finalizar Venta'\r\n                )}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Diálogo de resumen de precios */}\r\n      <ResumenPreciosDialog\r\n        open={resumenDialogOpen}\r\n        onClose={() => setResumenDialogOpen(false)}\r\n        carrito={carrito}\r\n        onConfirmar={confirmarResumenPrecios}\r\n      />\r\n\r\n      {/* Diálogo de factura */}\r\n      <FacturaDialog\r\n        open={facturaOpen}\r\n        onClose={() => setFacturaOpen(false)}\r\n        venta={ventaActual}\r\n      />\r\n\r\n      {/* Diálogo de cambio (venta contado) */}\r\n      <CambioDialog\r\n        open={cambioDialogOpen}\r\n        onClose={() => setCambioDialogOpen(false)}\r\n        total={total}\r\n        metodoPago={metodoPago as 'efectivo' | 'transferencia' | 'mixto'}\r\n        onConfirmar={finalizarVentaContado}\r\n      />\r\n\r\n      {/* Diálogo de crédito */}\r\n      <CreditoDialog\r\n        open={creditoDialogOpen}\r\n        onClose={() => setCreditoDialogOpen(false)}\r\n        total={total}\r\n        clientesExistentes={clientes}\r\n        onConfirmar={finalizarVentaCredito}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Printer, Download, X } from \"lucide-react\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport jsPDF from \"jspdf\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface DetalleVenta {\r\n  id: number\r\n  producto_nombre: string\r\n  cantidad: number\r\n  precio_unitario: number\r\n  subtotal: number\r\n}\r\n\r\ninterface VentaFactura {\r\n  id: number\r\n  numero_venta: string\r\n  fecha_venta: string\r\n  cliente_nombre?: string\r\n  cliente_identificacion?: string\r\n  cliente_telefono?: string\r\n  cliente_direccion?: string\r\n  vendedor_nombre?: string\r\n  vendedor_apellido?: string\r\n  subtotal: number\r\n  iva: number\r\n  descuento: number\r\n  total: number\r\n  tipo_venta: string\r\n  metodo_pago: string\r\n  efectivo_recibido?: number\r\n  cambio?: number\r\n  credito_abono_total?: number\r\n  credito_saldo_pendiente?: number\r\n  detalles: DetalleVenta[]\r\n}\r\n\r\ninterface FacturaDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  venta: VentaFactura | null\r\n}\r\n\r\nexport function FacturaDialog({ open, onClose, venta }: FacturaDialogProps) {\r\n  const facturaRef = React.useRef<HTMLDivElement>(null)\r\n\r\n  if (!venta) return null\r\n\r\n  const crearPDF = async () => {\r\n    try {\r\n      // Formato de ticket estrecho (80mm)\r\n      const pdf = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: [80, 297], // Ancho de ticket térmico de 80mm\r\n      })\r\n\r\n      const pageWidth = pdf.internal.pageSize.getWidth()\r\n      const centerX = pageWidth / 2\r\n      const margin = 5\r\n      let yPos = 5\r\n\r\n      // Línea de separación\r\n      const lineaGuiones = '-'.repeat(50)\r\n\r\n      // Cargar logo centrado\r\n      try {\r\n        const img = new Image()\r\n        img.src = '/logo 1.jpeg'\r\n        await new Promise((resolve, reject) => {\r\n          img.onload = resolve\r\n          img.onerror = reject\r\n          setTimeout(reject, 2000)\r\n        })\r\n        \r\n        const logoWidth = 40\r\n        const logoHeight = 20\r\n        pdf.addImage(img, 'JPEG', centerX - (logoWidth / 2), yPos, logoWidth, logoHeight)\r\n        yPos += logoHeight + 4\r\n      } catch (error) {\r\n        console.log('Continuando sin logo')\r\n      }\r\n\r\n      // Nombre empresa (centrado)\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Valva Boutique', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      pdf.setFontSize(10)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('Descubre tu estilo y llévalo al siguiente nivel', centerX, yPos, { align: 'center' })\r\n      yPos += 6\r\n\r\n      // NIT o identificación (centrado)\r\n      pdf.text('Telefono: 3224081839', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Teléfono (centrado)\r\n      pdf.text('@valva_.boutique', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // FACTURA DE VENTA POS (centrado)\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('FACTURA DE VENTA POS', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Información de la factura (alineado a la izquierda)\r\n      pdf.setFontSize(11)\r\n      const fechaFormateada = new Date(venta.fecha_venta).toLocaleString('es-EC', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      }).replace(',', ' -')\r\n      \r\n      // Fecha\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Fecha:', margin, yPos)\r\n      const anchoFecha = pdf.getTextWidth('Fecha: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(fechaFormateada, margin + anchoFecha, yPos)\r\n      yPos += 4\r\n      \r\n      // Factura #\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Factura #:', margin, yPos)\r\n      const anchoFactura = pdf.getTextWidth('Factura #: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(venta.numero_venta, margin + anchoFactura, yPos)\r\n      yPos += 4\r\n      \r\n      // Cajero\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Cajero:', margin, yPos)\r\n      const anchoCajero = pdf.getTextWidth('Cajero: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(`${venta.vendedor_nombre || 'admin'} ${venta.vendedor_apellido || ''}`, margin + anchoCajero, yPos)\r\n      yPos += 4\r\n      \r\n      // Caja\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Caja:', margin, yPos)\r\n      const anchoCaja = pdf.getTextWidth('Caja: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('Principal', margin + anchoCaja, yPos)\r\n      yPos += 4\r\n      \r\n      // Máquina\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Máquina:', margin, yPos)\r\n      const anchoMaquina = pdf.getTextWidth('Máquina: ')\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text('POS001', margin + anchoMaquina, yPos)\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Encabezado de tabla\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('Nombre', margin + 10, yPos)\r\n      pdf.text('Total', pageWidth - margin - 10, yPos, { align: 'right' })\r\n      yPos += 3\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Productos\r\n      venta.detalles.forEach((detalle) => {\r\n        // Nombre del producto (izquierda) y Total (derecha) en la misma línea\r\n        pdf.setFontSize(11) // Tamaño más grande para el nombre\r\n        pdf.setFont('Lucida Console', 'normal')\r\n        const nombreMaxWidth = pageWidth - margin * 2 - 20 // Espacio para el precio\r\n        const lineasNombre = pdf.splitTextToSize(detalle.producto_nombre, nombreMaxWidth)\r\n        \r\n        // Primera línea: nombre a la izquierda, total a la derecha\r\n        pdf.text(lineasNombre[0], margin, yPos)\r\n        pdf.text(formatCurrency(detalle.subtotal), pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 4\r\n        \r\n        // Si el nombre tiene más de una línea, imprimir el resto\r\n        if (lineasNombre.length > 1) {\r\n          for (let i = 1; i < lineasNombre.length; i++) {\r\n            pdf.text(lineasNombre[i], margin, yPos)\r\n            yPos += 4\r\n          }\r\n        }\r\n        \r\n        // Unidades en la siguiente línea (en negrilla)\r\n        pdf.setFontSize(9)\r\n        pdf.setFont('Lucida Console', 'bold')\r\n        pdf.text(`> UNIDADES: -> Cantidad:${detalle.cantidad.toFixed(2)} x ${formatCurrency(detalle.precio_unitario)}`, margin, yPos)\r\n        yPos += 5\r\n      })\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // TOTAL A PAGAR\r\n      pdf.setFontSize(11)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('TOTAL A PAGAR:', margin, yPos)\r\n      pdf.text(`$ ${formatCurrency(venta.total)}`, pageWidth - margin, yPos, { align: 'right' })\r\n      yPos += 5\r\n\r\n      // Si es venta a crédito, mostrar abono y saldo pendiente\r\n      if (venta.tipo_venta === 'credito') {\r\n        pdf.setFontSize(10)\r\n        pdf.setFont('Lucida Console', 'normal')\r\n        \r\n        // Abono inicial\r\n        const abonoInicial = venta.credito_abono_total || 0\r\n        pdf.text('Abono Inicial:', margin, yPos)\r\n        pdf.text(`$ ${formatCurrency(abonoInicial)}`, pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 4\r\n\r\n        // Saldo pendiente\r\n        const saldoPendiente = venta.credito_saldo_pendiente || venta.total\r\n        pdf.setFont('Lucida Console', 'bold')\r\n        pdf.text('Saldo Pendiente:', margin, yPos)\r\n        pdf.text(`$ ${formatCurrency(saldoPendiente)}`, pageWidth - margin, yPos, { align: 'right' })\r\n        yPos += 5\r\n      }\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // FORMA DE PAGO\r\n      pdf.setFontSize(10)\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.text('**FORMA DE PAGO**', centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      const metodoPago = venta.metodo_pago === 'efectivo' ? 'Efectivo' :\r\n                         venta.metodo_pago === 'transferencia' ? 'Transferencia' :\r\n                         venta.metodo_pago === 'tarjeta' ? 'Tarjeta' : 'Mixto'\r\n      const tipoPago = venta.tipo_venta === 'contado' ? 'Contado' : 'Crédito'\r\n      \r\n      pdf.text(tipoPago, margin + 10, yPos)\r\n      pdf.text(formatCurrency(venta.total), pageWidth - margin - 10, yPos, { align: 'right' })\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Mensaje de agradecimiento\r\n      pdf.setFont('Lucida Console', 'bold')\r\n      pdf.setFontSize(13)\r\n      pdf.text('Gracias Por Su Compra', centerX, yPos, { align: 'center' })\r\n      yPos += 5\r\n\r\n      // Línea separadora\r\n      pdf.setFontSize(12)\r\n      pdf.setFont('Lucida Console', 'normal')\r\n      pdf.text(lineaGuiones, centerX, yPos, { align: 'center' })\r\n      yPos += 4\r\n\r\n      // Información de recibido y cambio\r\n      pdf.setFontSize(9)\r\n      if (venta.tipo_venta === 'contado' && venta.metodo_pago !== 'transferencia') {\r\n        const efectivoRecibido = venta.efectivo_recibido || venta.total\r\n        const cambio = venta.cambio || 0\r\n        pdf.text(`RECIBIDO: $${formatCurrency(efectivoRecibido)}`, margin, yPos)\r\n        yPos += 3.5\r\n        pdf.text(`CAMBIO: $${formatCurrency(cambio)}`, margin, yPos)\r\n        yPos += 8\r\n      }\r\n\r\n      // Info del software (centrado, muy pequeño)\r\n      pdf.setFontSize(7.5)\r\n      pdf.text('Software: Valva Boutique POS', centerX, yPos, { align: 'center' })\r\n\r\n      return pdf\r\n    } catch (error) {\r\n      console.error('Error al generar PDF:', error)\r\n      alert(`Error al generar PDF: ${error instanceof Error ? error.message : 'Error desconocido'}`)\r\n      return null\r\n    }\r\n  }\r\n\r\n  const descargarPDF = async () => {\r\n    const pdf = await crearPDF()\r\n    if (!pdf) return\r\n    pdf.save(`Factura-${venta.numero_venta}.pdf`)\r\n    toast.success('¡Factura descargada exitosamente!', {\r\n      description: `Archivo: Factura-${venta.numero_venta}.pdf`,\r\n      duration: 4000,\r\n    })\r\n  }\r\n\r\n  const imprimirFactura = async () => {\r\n    const pdf = await crearPDF()\r\n    if (!pdf) return\r\n    const blob = pdf.output('blob')\r\n    const blobUrl = URL.createObjectURL(blob)\r\n    const iframe = document.createElement('iframe')\r\n    iframe.style.position = 'fixed'\r\n    iframe.style.right = '0'\r\n    iframe.style.bottom = '0'\r\n    iframe.style.width = '0'\r\n    iframe.style.height = '0'\r\n    iframe.style.border = '0'\r\n    iframe.src = blobUrl\r\n\r\n    iframe.onload = () => {\r\n      const cleanup = () => {\r\n        URL.revokeObjectURL(blobUrl)\r\n        iframe.remove()\r\n      }\r\n\r\n      if (iframe.contentWindow) {\r\n        iframe.contentWindow.onafterprint = cleanup\r\n        iframe.contentWindow.focus()\r\n        iframe.contentWindow.print()\r\n      } else {\r\n        cleanup()\r\n      }\r\n    }\r\n\r\n    document.body.appendChild(iframe)\r\n  }\r\n\r\n  const formatearFecha = (fecha: string) => {\r\n    const date = new Date(fecha)\r\n    return date.toLocaleString('es-EC', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <DialogTitle>Factura de Venta</DialogTitle>\r\n              <DialogDescription>\r\n                Número: {venta.numero_venta}\r\n              </DialogDescription>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" size=\"sm\" onClick={imprimirFactura}>\r\n                <Printer className=\"h-4 w-4 mr-2\" />\r\n                Imprimir\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={descargarPDF}>\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Descargar PDF\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        <div ref={facturaRef} className=\"bg-white p-6 mx-auto\">\r\n          {/* Encabezado con logo */}\r\n          <div className=\"flex flex-col items-center text-center mb-6 pb-4 border-b-2 border-gray-300\">\r\n            <img\r\n              src=\"/logo 1.jpeg\"\r\n              alt=\"Logo\"\r\n              className=\"h-20 w-20 object-cover rounded-lg mb-3\"\r\n            />\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Valva Boutique</h1>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Moda y Estilo</p>\r\n            <p className=\"text-sm text-gray-600\">Tel: (Por definir)</p>\r\n            <div className=\"bg-gray-100 px-4 py-2 rounded-lg mt-4 w-full\">\r\n              <p className=\"text-xs text-gray-600\">FACTURA</p>\r\n              <p className=\"text-lg font-bold text-gray-900\">{venta.numero_venta}</p>\r\n              <p className=\"text-xs text-gray-600 mt-1\">{formatearFecha(venta.fecha_venta)}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Información del cliente y vendedor */}\r\n          <div className=\"mb-6 space-y-4\">\r\n            <div className=\"border rounded-lg p-3\">\r\n              <h3 className=\"text-xs font-semibold text-gray-700 mb-2\">CLIENTE</h3>\r\n              <div className=\"text-sm text-gray-600 space-y-1\">\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {venta.cliente_nombre || 'Cliente General'}\r\n                </p>\r\n                {venta.cliente_identificacion && (\r\n                  <p>ID: {venta.cliente_identificacion}</p>\r\n                )}\r\n                {venta.cliente_telefono && (\r\n                  <p>Tel: {venta.cliente_telefono}</p>\r\n                )}\r\n                {venta.cliente_direccion && (\r\n                  <p>Dir: {venta.cliente_direccion}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"border rounded-lg p-3\">\r\n              <h3 className=\"text-xs font-semibold text-gray-700 mb-2\">VENDEDOR</h3>\r\n              <div className=\"text-sm text-gray-600\">\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {venta.vendedor_nombre} {venta.vendedor_apellido}\r\n                </p>\r\n                <p className=\"mt-2\">\r\n                  <span className=\"font-semibold\">Tipo:</span> {venta.tipo_venta === 'contado' ? 'Contado' : 'Crédito'}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-semibold\">Pago:</span> {\r\n                    venta.metodo_pago === 'efectivo' ? 'Efectivo' :\r\n                    venta.metodo_pago === 'transferencia' ? 'Transferencia' :\r\n                    venta.metodo_pago === 'tarjeta' ? 'Tarjeta' : 'Mixto'\r\n                  }\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabla de productos */}\r\n          <div className=\"mb-6\">\r\n            <div className=\"bg-gray-100 border-y-2 border-gray-300 px-3 py-2 text-xs font-semibold text-gray-700\">\r\n              PRODUCTOS\r\n            </div>\r\n            <div className=\"divide-y\">\r\n              {venta.detalles.map((detalle) => (\r\n                <div key={detalle.id} className=\"py-3\">\r\n                  <div className=\"text-sm font-medium text-gray-900\">{detalle.producto_nombre}</div>\r\n                  <div className=\"text-xs text-gray-600 mt-1 flex items-center justify-between\">\r\n                    <span>{detalle.cantidad} x ${formatCurrency(detalle.precio_unitario)}</span>\r\n                    <span className=\"font-semibold text-gray-900\">${formatCurrency(detalle.subtotal)}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Totales */}\r\n          <div className=\"border-t-2 border-gray-300 pt-4\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Subtotal:</span>\r\n                <span className=\"font-medium text-gray-900\">${formatCurrency(venta.subtotal)}</span>\r\n              </div>\r\n              {venta.descuento > 0 && (\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">Descuento:</span>\r\n                  <span className=\"font-medium text-red-600\">-${formatCurrency(venta.descuento)}</span>\r\n                </div>\r\n              )}\r\n              {venta.iva > 0 && (\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">IVA (15%):</span>\r\n                  <span className=\"font-medium text-gray-900\">${formatCurrency(venta.iva)}</span>\r\n                </div>\r\n              )}\r\n              <div className=\"flex justify-between border-t-2 border-gray-300 pt-2 mt-2\">\r\n                <span className=\"text-lg font-bold text-gray-900\">TOTAL:</span>\r\n                <span className=\"text-2xl font-bold text-gray-900\">${formatCurrency(venta.total)}</span>\r\n              </div>\r\n\r\n              {/* Información de crédito */}\r\n              {venta.tipo_venta === 'credito' && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-blue-600 font-medium\">Abono Inicial:</span>\r\n                    <span className=\"font-medium text-blue-600\">${formatCurrency(venta.credito_abono_total || 0)}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-base\">\r\n                    <span className=\"text-orange-600 font-bold\">Saldo Pendiente:</span>\r\n                    <span className=\"text-xl font-bold text-orange-600\">${formatCurrency(venta.credito_saldo_pendiente || venta.total)}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Información de pago */}\r\n          {venta.tipo_venta === 'contado' && venta.metodo_pago !== 'transferencia' && venta.efectivo_recibido && (\r\n            <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Efectivo Recibido:</span>\r\n                <span className=\"font-medium text-gray-900\">${formatCurrency(venta.efectivo_recibido)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm mt-2\">\r\n                <span className=\"text-gray-600\">Cambio:</span>\r\n                <span className=\"font-bold text-green-600\">${formatCurrency(venta.cambio || 0)}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pie de página */}\r\n          <div className=\"mt-8 pt-6 border-t border-gray-200 text-center\">\r\n            <p className=\"text-xs text-gray-500\">¡Gracias por su compra!</p>\r\n            <p className=\"text-xs text-gray-500 mt-1\">Este documento es un comprobante de venta</p>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport { DollarSign, CreditCard, Repeat } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface PagoMixto {\r\n  efectivo: number\r\n  transferencia: number\r\n}\r\n\r\ninterface CambioDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  total: number\r\n  metodoPago: 'efectivo' | 'transferencia' | 'mixto'\r\n  onConfirmar: (data: { \r\n    efectivoRecibido: number\r\n    cambio: number\r\n    pagoMixto?: PagoMixto\r\n    referenciaTransferencia?: string\r\n  }) => void\r\n}\r\n\r\nexport function CambioDialog({ \r\n  open, \r\n  onClose, \r\n  total, \r\n  metodoPago,\r\n  onConfirmar \r\n}: CambioDialogProps) {\r\n  const [efectivoRecibido, setEfectivoRecibido] = React.useState(\"\")\r\n  const [montoEfectivo, setMontoEfectivo] = React.useState(\"\")\r\n  const [montoTransferencia, setMontoTransferencia] = React.useState(\"\")\r\n  const [referenciaTransferencia, setReferenciaTransferencia] = React.useState(\"Nequi\")\r\n\r\n  // Resetear cuando se abre el diálogo\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setEfectivoRecibido(\"\")\r\n      setMontoEfectivo(\"\")\r\n      setMontoTransferencia(\"\")\r\n      setReferenciaTransferencia(\"Nequi\")\r\n    }\r\n  }, [open])\r\n\r\n  const cambio = React.useMemo(() => {\r\n    if (metodoPago === 'efectivo') {\r\n      const recibido = parseFloat(efectivoRecibido) || 0\r\n      return recibido - total\r\n    }\r\n    return 0\r\n  }, [efectivoRecibido, total, metodoPago])\r\n\r\n  const totalMixto = React.useMemo(() => {\r\n    const efectivo = parseFloat(montoEfectivo) || 0\r\n    const transferencia = parseFloat(montoTransferencia) || 0\r\n    return efectivo + transferencia\r\n  }, [montoEfectivo, montoTransferencia])\r\n\r\n  const cambioMixto = React.useMemo(() => {\r\n    return totalMixto - total\r\n  }, [totalMixto, total])\r\n\r\n  // Función para formatear input mientras se escribe\r\n  const formatearMontoInput = (valor: string) => {\r\n    // Remover todo excepto números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    if (!numeros) return ''\r\n    // Formatear con puntos de miles\r\n    return parseInt(numeros).toLocaleString('es-CO')\r\n  }\r\n\r\n  // Función para manejar cambio en input de monto\r\n  const handleMontoChange = (e: React.ChangeEvent<HTMLInputElement>, setter: (v: string) => void) => {\r\n    const valor = e.target.value\r\n    // Remover formato y guardar solo números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    setter(numeros)\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    if (metodoPago === 'efectivo') {\r\n      const recibido = parseFloat(efectivoRecibido) || 0\r\n      \r\n      if (recibido < total) {\r\n        toast.error('El efectivo recibido es menor al total a pagar')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        efectivoRecibido: recibido,\r\n        cambio: cambio\r\n      })\r\n    } else if (metodoPago === 'transferencia') {\r\n      // Para transferencia no hay cambio, solo confirmar\r\n      if (!referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n      \r\n      onConfirmar({\r\n        efectivoRecibido: total,\r\n        cambio: 0,\r\n        referenciaTransferencia\r\n      })\r\n    } else if (metodoPago === 'mixto') {\r\n      const efectivo = parseFloat(montoEfectivo) || 0\r\n      const transferencia = parseFloat(montoTransferencia) || 0\r\n\r\n      if (efectivo <= 0 || transferencia <= 0) {\r\n        toast.error('Debe ingresar montos válidos para ambos métodos de pago')\r\n        return\r\n      }\r\n\r\n      if (totalMixto < total) {\r\n        toast.error('El monto total es menor al total a pagar')\r\n        return\r\n      }\r\n\r\n      if (!referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        efectivoRecibido: efectivo,\r\n        cambio: cambioMixto > 0 ? cambioMixto : 0,\r\n        pagoMixto: {\r\n          efectivo,\r\n          transferencia\r\n        },\r\n        referenciaTransferencia\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle>Procesar Pago</DialogTitle>\r\n          <DialogDescription>\r\n            Complete los datos del pago para finalizar la venta\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          {/* Total a pagar */}\r\n          <div className=\"rounded-lg border p-4 bg-muted\">\r\n            <Label className=\"text-sm text-muted-foreground\">Total a Pagar</Label>\r\n            <p className=\"text-3xl font-bold\">${formatCurrency(total)}</p>\r\n          </div>\r\n\r\n          {/* Efectivo */}\r\n          {metodoPago === 'efectivo' && (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"efectivoRecibido\">\r\n                  <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                  Efectivo Recibido\r\n                </Label>\r\n                <Input\r\n                  id=\"efectivoRecibido\"\r\n                  type=\"text\"\r\n                  placeholder=\"0\"\r\n                  value={formatearMontoInput(efectivoRecibido)}\r\n                  onChange={(e) => handleMontoChange(e, setEfectivoRecibido)}\r\n                  className=\"text-lg\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n\r\n              {efectivoRecibido && (\r\n                <div className={`rounded-lg border p-4 ${cambio >= 0 ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}>\r\n                  <Label className=\"text-sm font-semibold\">Cambio a Devolver</Label>\r\n                  <p className={`text-2xl font-bold ${cambio >= 0 ? 'text-green-700' : 'text-red-700'}`}>\r\n                    ${formatCurrency(Math.abs(cambio))}\r\n                  </p>\r\n                  {cambio < 0 && (\r\n                    <p className=\"text-xs text-red-600 mt-1\">\r\n                      Falta: ${formatCurrency(Math.abs(cambio))}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Transferencia */}\r\n          {metodoPago === 'transferencia' && (\r\n            <>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"referencia\">Origen de la Transferencia</Label>\r\n                <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                  <SelectTrigger id=\"referencia\">\r\n                    <SelectValue placeholder=\"Seleccione el origen\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                    <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                    <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                    <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              \r\n              <div className=\"rounded-lg border p-4 bg-blue-50 border-blue-200\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <CreditCard className=\"h-5 w-5 text-blue-600\" />\r\n                  <Label className=\"text-sm font-semibold text-blue-900\">Pago por Transferencia</Label>\r\n                </div>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  Verifique que la transferencia por ${formatCurrency(total)} ha sido recibida antes de confirmar.\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Mixto */}\r\n          {metodoPago === 'mixto' && (\r\n            <>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Repeat className=\"h-4 w-4\" />\r\n                  <Label className=\"font-semibold\">Pago Mixto</Label>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"montoEfectivo\">\r\n                    <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                    Monto en Efectivo\r\n                  </Label>\r\n                  <Input\r\n                    id=\"montoEfectivo\"\r\n                    type=\"text\"\r\n                    placeholder=\"0\"\r\n                    value={formatearMontoInput(montoEfectivo)}\r\n                    onChange={(e) => handleMontoChange(e, setMontoEfectivo)}\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"montoTransferencia\">\r\n                    <CreditCard className=\"inline h-4 w-4 mr-1\" />\r\n                    Monto en Transferencia\r\n                  </Label>\r\n                  <Input\r\n                    id=\"montoTransferencia\"\r\n                    type=\"text\"\r\n                    placeholder=\"0\"\r\n                    value={formatearMontoInput(montoTransferencia)}\r\n                    onChange={(e) => handleMontoChange(e, setMontoTransferencia)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"referenciaTransferenciaMixto\">Origen de la Transferencia</Label>\r\n                  <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                    <SelectTrigger id=\"referenciaTransferenciaMixto\">\r\n                      <SelectValue placeholder=\"Seleccione el origen\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                      <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                      <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                      <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              {(montoEfectivo || montoTransferencia) && (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"rounded-lg border p-3 bg-muted\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span>Total Recibido:</span>\r\n                      <span className=\"font-semibold\">${formatCurrency(totalMixto)}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={`rounded-lg border p-3 ${cambioMixto >= 0 ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}`}>\r\n                    <div className=\"flex justify-between\">\r\n                      <Label className=\"text-sm font-semibold\">Cambio:</Label>\r\n                      <p className={`text-lg font-bold ${cambioMixto >= 0 ? 'text-green-700' : 'text-red-700'}`}>\r\n                        ${formatCurrency(Math.abs(cambioMixto))}\r\n                      </p>\r\n                    </div>\r\n                    {cambioMixto < 0 && (\r\n                      <p className=\"text-xs text-red-600 mt-1\">\r\n                        Falta: ${formatCurrency(Math.abs(cambioMixto))}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"gap-2\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Confirmar Venta\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","\"use client\";\n\n// packages/react/roving-focus/src/RovingFocusGroup.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { jsx } from \"react/jsx-runtime\";\nvar ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nvar EVENT_OPTIONS = { bubbles: false, cancelable: true };\nvar GROUP_NAME = \"RovingFocusGroup\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(GROUP_NAME);\nvar [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\nvar [RovingFocusProvider, useRovingFocusContext] = createRovingFocusGroupContext(GROUP_NAME);\nvar RovingFocusGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeRovingFocusGroup, children: /* @__PURE__ */ jsx(RovingFocusGroupImpl, { ...props, ref: forwardedRef }) }) });\n  }\n);\nRovingFocusGroup.displayName = GROUP_NAME;\nvar RovingFocusGroupImpl = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    preventScrollOnEntryFocus = false,\n    ...groupProps\n  } = props;\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n  return /* @__PURE__ */ jsx(\n    RovingFocusProvider,\n    {\n      scope: __scopeRovingFocusGroup,\n      orientation,\n      dir: direction,\n      loop,\n      currentTabStopId,\n      onItemFocus: React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      ),\n      onItemShiftTab: React.useCallback(() => setIsTabbingBackOut(true), []),\n      onFocusableItemAdd: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      ),\n      onFocusableItemRemove: React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      ),\n      children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          tabIndex: isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0,\n          \"data-orientation\": orientation,\n          ...groupProps,\n          ref: composedRefs,\n          style: { outline: \"none\", ...props.style },\n          onMouseDown: composeEventHandlers(props.onMouseDown, () => {\n            isClickFocusRef.current = true;\n          }),\n          onFocus: composeEventHandlers(props.onFocus, (event) => {\n            const isKeyboardFocus = !isClickFocusRef.current;\n            if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n              const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n              event.currentTarget.dispatchEvent(entryFocusEvent);\n              if (!entryFocusEvent.defaultPrevented) {\n                const items = getItems().filter((item) => item.focusable);\n                const activeItem = items.find((item) => item.active);\n                const currentItem = items.find((item) => item.id === currentTabStopId);\n                const candidateItems = [activeItem, currentItem, ...items].filter(\n                  Boolean\n                );\n                const candidateNodes = candidateItems.map((item) => item.ref.current);\n                focusFirst(candidateNodes, preventScrollOnEntryFocus);\n              }\n            }\n            isClickFocusRef.current = false;\n          }),\n          onBlur: composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))\n        }\n      )\n    }\n  );\n});\nvar ITEM_NAME = \"RovingFocusGroupItem\";\nvar RovingFocusGroupItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeRovingFocusGroup,\n        id,\n        focusable,\n        active,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            tabIndex: isCurrentTabStop ? 0 : -1,\n            \"data-orientation\": context.orientation,\n            ...itemProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!focusable) event.preventDefault();\n              else context.onItemFocus(id);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => context.onItemFocus(id)),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if (event.key === \"Tab\" && event.shiftKey) {\n                context.onItemShiftTab();\n                return;\n              }\n              if (event.target !== event.currentTarget) return;\n              const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n              if (focusIntent !== void 0) {\n                if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n                event.preventDefault();\n                const items = getItems().filter((item) => item.focusable);\n                let candidateNodes = items.map((item) => item.ref.current);\n                if (focusIntent === \"last\") candidateNodes.reverse();\n                else if (focusIntent === \"prev\" || focusIntent === \"next\") {\n                  if (focusIntent === \"prev\") candidateNodes.reverse();\n                  const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                  candidateNodes = context.loop ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n                }\n                setTimeout(() => focusFirst(candidateNodes));\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRovingFocusGroupItem.displayName = ITEM_NAME;\nvar MAP_KEY_TO_FOCUS_INTENT = {\n  ArrowLeft: \"prev\",\n  ArrowUp: \"prev\",\n  ArrowRight: \"next\",\n  ArrowDown: \"next\",\n  PageUp: \"first\",\n  Home: \"first\",\n  PageDown: \"last\",\n  End: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n  if (dir !== \"rtl\") return key;\n  return key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key)) return void 0;\n  if (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key)) return void 0;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus({ preventScroll });\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root = RovingFocusGroup;\nvar Item = RovingFocusGroupItem;\nexport {\n  Item,\n  Root,\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  createRovingFocusGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// packages/react/tabs/src/Tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { formatCurrency } from \"@/lib/utils\"\r\nimport { DollarSign, CreditCard, Repeat, UserPlus, Users } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\nimport type { Cliente } from \"@/lib/types\"\r\n\r\ninterface AbonoData {\r\n  monto: number\r\n  metodo: 'efectivo' | 'transferencia' | 'mixto'\r\n  montoEfectivo?: number\r\n  montoTransferencia?: number\r\n  referenciaTransferencia?: string\r\n}\r\n\r\ninterface CreditoDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  total: number\r\n  clientesExistentes: Cliente[]\r\n  onConfirmar: (data: {\r\n    cliente: Cliente | {\r\n      nombre: string\r\n      identificacion: string\r\n      telefono: string\r\n      direccion: string\r\n      email: string\r\n      tipo_cliente: 'publico' | 'mayorista' | 'especial'\r\n    }\r\n    abono?: AbonoData\r\n    esNuevoCliente: boolean\r\n  }) => void\r\n}\r\n\r\nexport function CreditoDialog({\r\n  open,\r\n  onClose,\r\n  total,\r\n  clientesExistentes,\r\n  onConfirmar\r\n}: CreditoDialogProps) {\r\n  const [tabActivo, setTabActivo] = React.useState<'existente' | 'nuevo'>('existente')\r\n  const [clienteSeleccionado, setClienteSeleccionado] = React.useState<string>(\"\")\r\n  \r\n  // Datos nuevo cliente\r\n  const [nombre, setNombre] = React.useState(\"\")\r\n  const [identificacion, setIdentificacion] = React.useState(\"\")\r\n  const [telefono, setTelefono] = React.useState(\"\")\r\n  const [direccion, setDireccion] = React.useState(\"\")\r\n  const [email, setEmail] = React.useState(\"\")\r\n  const [tipoCliente, setTipoCliente] = React.useState<'publico' | 'mayorista' | 'especial'>('publico')\r\n\r\n  // Datos abono\r\n  const [montoAbono, setMontoAbono] = React.useState(\"\")\r\n  const [metodoAbono, setMetodoAbono] = React.useState<'efectivo' | 'transferencia' | 'mixto'>('efectivo')\r\n  const [montoEfectivo, setMontoEfectivo] = React.useState(\"\")\r\n  const [montoTransferencia, setMontoTransferencia] = React.useState(\"\")\r\n  const [referenciaTransferencia, setReferenciaTransferencia] = React.useState(\"Nequi\")\r\n\r\n  // Resetear cuando se abre el diálogo\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      setTabActivo('existente')\r\n      setClienteSeleccionado(\"\")\r\n      setNombre(\"\")\r\n      setIdentificacion(\"\")\r\n      setTelefono(\"\")\r\n      setDireccion(\"\")\r\n      setEmail(\"\")\r\n      setTipoCliente('publico')\r\n      setMontoAbono(\"\")\r\n      setMetodoAbono('efectivo')\r\n      setMontoEfectivo(\"\")\r\n      setMontoTransferencia(\"\")\r\n      setReferenciaTransferencia(\"Nequi\")\r\n    }\r\n  }, [open])\r\n\r\n  const abonoMonto = React.useMemo(() => {\r\n    if (metodoAbono === 'mixto') {\r\n      const efectivo = parseFloat(montoEfectivo) || 0\r\n      const transferencia = parseFloat(montoTransferencia) || 0\r\n      return efectivo + transferencia\r\n    }\r\n    return parseFloat(montoAbono) || 0\r\n  }, [montoAbono, metodoAbono, montoEfectivo, montoTransferencia])\r\n\r\n  const saldoPendiente = React.useMemo(() => {\r\n    return total - abonoMonto\r\n  }, [total, abonoMonto])\r\n\r\n  // Función para formatear input mientras se escribe\r\n  const formatearMontoInput = (valor: string) => {\r\n    // Remover todo excepto números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    if (!numeros) return ''\r\n    // Formatear con puntos de miles\r\n    return parseInt(numeros).toLocaleString('es-CO')\r\n  }\r\n\r\n  // Función para manejar cambio en input de monto\r\n  const handleMontoChange = (e: React.ChangeEvent<HTMLInputElement>, setter: (v: string) => void) => {\r\n    const valor = e.target.value\r\n    // Remover formato y guardar solo números\r\n    const numeros = valor.replace(/[^0-9]/g, '')\r\n    setter(numeros)\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    // Validar cliente\r\n    if (tabActivo === 'existente') {\r\n      if (!clienteSeleccionado) {\r\n        toast.error('Debe seleccionar un cliente')\r\n        return\r\n      }\r\n    } else {\r\n      if (!nombre.trim()) {\r\n        toast.error('Debe ingresar el nombre del cliente')\r\n        return\r\n      }\r\n      if (!telefono.trim()) {\r\n        toast.error('Debe ingresar el teléfono del cliente')\r\n        return\r\n      }\r\n    }\r\n\r\n    // Validar abono si se ingresó\r\n    if (abonoMonto > 0) {\r\n      if (abonoMonto > total) {\r\n        toast.error('El abono no puede ser mayor al total')\r\n        return\r\n      }\r\n\r\n      if (metodoAbono === 'mixto') {\r\n        const efectivo = parseFloat(montoEfectivo) || 0\r\n        const transferencia = parseFloat(montoTransferencia) || 0\r\n        \r\n        if (efectivo <= 0 || transferencia <= 0) {\r\n          toast.error('Debe ingresar montos válidos para ambos métodos de pago')\r\n          return\r\n        }\r\n\r\n        if (!referenciaTransferencia) {\r\n          toast.error('Debe seleccionar el origen de la transferencia')\r\n          return\r\n        }\r\n      }\r\n\r\n      if (metodoAbono === 'transferencia' && !referenciaTransferencia) {\r\n        toast.error('Debe seleccionar el origen de la transferencia')\r\n        return\r\n      }\r\n    }\r\n\r\n    // Preparar datos\r\n    let abonoData: AbonoData | undefined = undefined\r\n    if (abonoMonto > 0) {\r\n      if (metodoAbono === 'mixto') {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: 'mixto',\r\n          montoEfectivo: parseFloat(montoEfectivo) || 0,\r\n          montoTransferencia: parseFloat(montoTransferencia) || 0,\r\n          referenciaTransferencia\r\n        }\r\n      } else if (metodoAbono === 'transferencia') {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: metodoAbono,\r\n          referenciaTransferencia\r\n        }\r\n      } else {\r\n        abonoData = {\r\n          monto: abonoMonto,\r\n          metodo: metodoAbono\r\n        }\r\n      }\r\n    }\r\n\r\n    if (tabActivo === 'existente') {\r\n      const cliente = clientesExistentes.find(c => c.id === parseInt(clienteSeleccionado))\r\n      if (!cliente) {\r\n        toast.error('Cliente no encontrado')\r\n        return\r\n      }\r\n\r\n      onConfirmar({\r\n        cliente,\r\n        abono: abonoData,\r\n        esNuevoCliente: false\r\n      })\r\n    } else {\r\n      onConfirmar({\r\n        cliente: {\r\n          nombre: nombre.trim(),\r\n          identificacion: identificacion.trim(),\r\n          telefono: telefono.trim(),\r\n          direccion: direccion.trim(),\r\n          email: email.trim(),\r\n          tipo_cliente: tipoCliente\r\n        },\r\n        abono: abonoData,\r\n        esNuevoCliente: true\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle>Venta a Crédito</DialogTitle>\r\n          <DialogDescription>\r\n            Registre el cliente y un abono inicial (opcional)\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4 py-4\">\r\n          {/* Total y saldo */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"rounded-lg border p-3 bg-muted\">\r\n              <Label className=\"text-xs text-muted-foreground\">Total de la Venta</Label>\r\n              <p className=\"text-2xl font-bold\">${formatCurrency(total)}</p>\r\n            </div>\r\n            <div className={`rounded-lg border p-3 ${saldoPendiente > 0 ? 'bg-orange-50 border-orange-200' : 'bg-green-50 border-green-200'}`}>\r\n              <Label className=\"text-xs font-semibold\">Saldo Pendiente</Label>\r\n              <p className={`text-2xl font-bold ${saldoPendiente > 0 ? 'text-orange-700' : 'text-green-700'}`}>\r\n                ${formatCurrency(saldoPendiente)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Tabs cliente */}\r\n          <Tabs value={tabActivo} onValueChange={(v) => setTabActivo(v as 'existente' | 'nuevo')}>\r\n            <TabsList className=\"grid w-full grid-cols-2\">\r\n              <TabsTrigger value=\"existente\">\r\n                <Users className=\"h-4 w-4 mr-2\" />\r\n                Cliente Existente\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"nuevo\">\r\n                <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                Nuevo Cliente\r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"existente\" className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"clienteSelect\">Seleccione el Cliente</Label>\r\n                <Select value={clienteSeleccionado} onValueChange={setClienteSeleccionado}>\r\n                  <SelectTrigger id=\"clienteSelect\">\r\n                    <SelectValue placeholder=\"Seleccione un cliente...\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {clientesExistentes.map((cliente) => (\r\n                      <SelectItem key={cliente.id} value={cliente.id?.toString() || ''}>\r\n                        {cliente.nombre} - {cliente.identificacion || 'Sin ID'} - {cliente.telefono}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {clienteSeleccionado && (() => {\r\n                const cliente = clientesExistentes.find(c => c.id === parseInt(clienteSeleccionado))\r\n                return cliente ? (\r\n                  <div className=\"rounded-lg border p-3 bg-muted text-sm space-y-1\">\r\n                    <p><span className=\"font-semibold\">Nombre:</span> {cliente.nombre}</p>\r\n                    {cliente.identificacion && <p><span className=\"font-semibold\">ID:</span> {cliente.identificacion}</p>}\r\n                    <p><span className=\"font-semibold\">Teléfono:</span> {cliente.telefono}</p>\r\n                    {cliente.email && <p><span className=\"font-semibold\">Email:</span> {cliente.email}</p>}\r\n                    {cliente.saldo_pendiente !== undefined && cliente.saldo_pendiente > 0 && (\r\n                      <p className=\"text-orange-600\">\r\n                        <span className=\"font-semibold\">Saldo Pendiente Actual:</span> ${formatCurrency(cliente.saldo_pendiente)}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                ) : null\r\n              })()}\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"nuevo\" className=\"space-y-3\">\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"nombre\">Nombre Completo *</Label>\r\n                  <Input\r\n                    id=\"nombre\"\r\n                    placeholder=\"Ej: Juan Pérez\"\r\n                    value={nombre}\r\n                    onChange={(e) => setNombre(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"identificacion\">Cédula/RUC</Label>\r\n                  <Input\r\n                    id=\"identificacion\"\r\n                    placeholder=\"0000000000\"\r\n                    value={identificacion}\r\n                    onChange={(e) => setIdentificacion(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"telefono\">Teléfono *</Label>\r\n                  <Input\r\n                    id=\"telefono\"\r\n                    placeholder=\"0999999999\"\r\n                    value={telefono}\r\n                    onChange={(e) => setTelefono(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"email\">Email</Label>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"ejemplo@correo.com\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 col-span-2\">\r\n                  <Label htmlFor=\"direccion\">Dirección</Label>\r\n                  <Input\r\n                    id=\"direccion\"\r\n                    placeholder=\"Calle principal...\"\r\n                    value={direccion}\r\n                    onChange={(e) => setDireccion(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"tipoCliente\">Tipo de Cliente</Label>\r\n                  <Select value={tipoCliente} onValueChange={(v) => setTipoCliente(v as any)}>\r\n                    <SelectTrigger id=\"tipoCliente\">\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"publico\">Público</SelectItem>\r\n                      <SelectItem value=\"mayorista\">Mayorista</SelectItem>\r\n                      <SelectItem value=\"especial\">Especial</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </TabsContent>\r\n          </Tabs>\r\n\r\n          {/* Abono inicial */}\r\n          <div className=\"rounded-lg border p-4 bg-blue-50 border-blue-200\">\r\n            <Label className=\"font-semibold text-blue-900 mb-3 block\">\r\n              Abono Inicial (Opcional)\r\n            </Label>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"metodoAbono\">Método de Pago</Label>\r\n                <Select value={metodoAbono} onValueChange={(v) => setMetodoAbono(v as any)}>\r\n                  <SelectTrigger id=\"metodoAbono\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"efectivo\">\r\n                      <DollarSign className=\"inline h-4 w-4 mr-1\" />\r\n                      Efectivo\r\n                    </SelectItem>\r\n                    <SelectItem value=\"transferencia\">\r\n                      <CreditCard className=\"inline h-4 w-4 mr-1\" />\r\n                      Transferencia\r\n                    </SelectItem>\r\n                    <SelectItem value=\"mixto\">\r\n                      <Repeat className=\"inline h-4 w-4 mr-1\" />\r\n                      Mixto\r\n                    </SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {metodoAbono !== 'mixto' ? (\r\n                <>\r\n                  {metodoAbono === 'transferencia' && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label htmlFor=\"referenciaTransferenciaAbono\">Origen de la Transferencia</Label>\r\n                      <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                        <SelectTrigger id=\"referenciaTransferenciaAbono\">\r\n                          <SelectValue placeholder=\"Seleccione el origen\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                          <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                          <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                          <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoAbono\">Monto del Abono</Label>\r\n                    <Input\r\n                      id=\"montoAbono\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoAbono)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoAbono)}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Deje en 0 si no hay abono inicial\r\n                    </p>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoEfectivo\">Monto en Efectivo</Label>\r\n                    <Input\r\n                      id=\"montoEfectivo\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoEfectivo)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoEfectivo)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"montoTransferencia\">Monto en Transferencia</Label>\r\n                    <Input\r\n                      id=\"montoTransferencia\"\r\n                      type=\"text\"\r\n                      placeholder=\"0\"\r\n                      value={formatearMontoInput(montoTransferencia)}\r\n                      onChange={(e) => handleMontoChange(e, setMontoTransferencia)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"referenciaTransferenciaMixtoAbono\">Origen de la Transferencia</Label>\r\n                    <Select value={referenciaTransferencia} onValueChange={setReferenciaTransferencia}>\r\n                      <SelectTrigger id=\"referenciaTransferenciaMixtoAbono\">\r\n                        <SelectValue placeholder=\"Seleccione el origen\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"Nequi\">Nequi</SelectItem>\r\n                        <SelectItem value=\"Bancolombia\">Bancolombia</SelectItem>\r\n                        <SelectItem value=\"Daviplata\">Daviplata</SelectItem>\r\n                        <SelectItem value=\"Otro\">Otro</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  {(montoEfectivo || montoTransferencia) && (\r\n                    <div className=\"rounded border p-2 bg-white\">\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span>Total Abono:</span>\r\n                        <span className=\"font-semibold\">${formatCurrency(abonoMonto)}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"gap-2\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Confirmar Venta a Crédito\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","\"use client\";\n\n// packages/react/checkbox/src/Checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProvider, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked = false, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked,\n      onChange: onCheckedChange\n    });\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form2 = button?.form;\n      if (form2) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form2.addEventListener(\"reset\", reset);\n        return () => form2.removeEventListener(\"reset\", reset);\n      }\n    }, [button, setChecked]);\n    return /* @__PURE__ */ jsxs(CheckboxProvider, { scope: __scopeCheckbox, state: checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"checkbox\",\n          \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...checkboxProps,\n          ref: composedRefs,\n          onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === \"Enter\") event.preventDefault();\n          }),\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        BubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" },\n          defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked\n        }\n      )\n    ] });\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isIndeterminate(context.state) || context.state === true, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.state),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef,\n        style: { pointerEvents: \"none\", ...props.style }\n      }\n    ) });\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BubbleInput = (props) => {\n  const { control, checked, bubbles = true, defaultChecked, ...inputProps } = props;\n  const ref = React.useRef(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n  React.useEffect(() => {\n    const input = ref.current;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"checked\");\n    const setChecked = descriptor.set;\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event(\"click\", { bubbles });\n      input.indeterminate = isIndeterminate(checked);\n      setChecked.call(input, isIndeterminate(checked) ? false : checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n  const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n  return /* @__PURE__ */ jsx(\n    \"input\",\n    {\n      type: \"checkbox\",\n      \"aria-hidden\": true,\n      defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n      ...inputProps,\n      tabIndex: -1,\n      ref,\n      style: {\n        ...props.style,\n        ...controlSize,\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        margin: 0\n      }\n    }\n  );\n};\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Checkbox;\nvar Indicator = CheckboxIndicator;\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  Indicator,\n  Root,\n  createCheckboxScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client'\r\n\r\nimport * as React from 'react'\r\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\r\nimport { CheckIcon } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Checkbox({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <CheckIcon className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport type { Product } from '@/lib/types'\r\n\r\ninterface CarritoItem {\r\n  product: Product\r\n  cantidad: number\r\n  precioUnitario: number\r\n  tipoCliente: string\r\n}\r\n\r\ninterface AjustePrecio {\r\n  productoId: string\r\n  aplicarMinimo: boolean\r\n}\r\n\r\ninterface ResumenPreciosDialogProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  carrito: CarritoItem[]\r\n  onConfirmar: (carritoAjustado: CarritoItem[]) => void\r\n}\r\n\r\nconst formatCurrency = (value: number) => {\r\n  return new Intl.NumberFormat('es-CO', {\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n  }).format(value)\r\n}\r\n\r\nexport function ResumenPreciosDialog({\r\n  open,\r\n  onClose,\r\n  carrito,\r\n  onConfirmar,\r\n}: ResumenPreciosDialogProps) {\r\n  const [ajustes, setAjustes] = useState<AjustePrecio[]>([])\r\n\r\n  // Inicializar ajustes cuando se abre el diálogo\r\n  useEffect(() => {\r\n    if (open) {\r\n      setAjustes(\r\n        carrito.map((item) => ({\r\n          productoId: item.product.id,\r\n          aplicarMinimo: false,\r\n        })),\r\n      )\r\n    }\r\n  }, [open, carrito])\r\n\r\n  const toggleAjuste = (productoId: string) => {\r\n    setAjustes((prev) =>\r\n      prev.map((ajuste) =>\r\n        ajuste.productoId === productoId\r\n          ? { ...ajuste, aplicarMinimo: !ajuste.aplicarMinimo }\r\n          : ajuste,\r\n      ),\r\n    )\r\n  }\r\n\r\n  const calcularTotales = () => {\r\n    let totalOriginal = 0\r\n    let totalAjustado = 0\r\n\r\n    carrito.forEach((item) => {\r\n      const subtotalOriginal = item.precioUnitario * item.cantidad\r\n      totalOriginal += subtotalOriginal\r\n\r\n      const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n      if (ajuste?.aplicarMinimo) {\r\n        totalAjustado += item.product.precioEspecial * item.cantidad\r\n      } else {\r\n        totalAjustado += subtotalOriginal\r\n      }\r\n    })\r\n\r\n    return {\r\n      totalOriginal,\r\n      totalAjustado,\r\n      descuentoTotal: totalOriginal - totalAjustado,\r\n    }\r\n  }\r\n\r\n  const handleConfirmar = () => {\r\n    // Crear carrito ajustado con los precios seleccionados\r\n    const carritoAjustado = carrito.map((item) => {\r\n      const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n      if (ajuste?.aplicarMinimo) {\r\n        return {\r\n          ...item,\r\n          precioUnitario: item.product.precioEspecial,\r\n        }\r\n      }\r\n      return item\r\n    })\r\n\r\n    onConfirmar(carritoAjustado)\r\n  }\r\n\r\n  const { totalOriginal, totalAjustado, descuentoTotal } = calcularTotales()\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-3xl max-h-[90vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Confirmar Productos y Precios</DialogTitle>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Selecciona los productos a los que deseas aplicar el precio mínimo de venta\r\n          </p>\r\n        </DialogHeader>\r\n\r\n        <ScrollArea className=\"max-h-[50vh] pr-4\">\r\n          <div className=\"space-y-4\">\r\n            {carrito.map((item) => {\r\n              const ajuste = ajustes.find((a) => a.productoId === item.product.id)\r\n              const aplicarMinimo = ajuste?.aplicarMinimo || false\r\n              const subtotalActual = aplicarMinimo\r\n                ? item.product.precioEspecial * item.cantidad\r\n                : item.precioUnitario * item.cantidad\r\n              const hayDiferencia = item.precioUnitario !== item.product.precioEspecial\r\n              const descuento = item.precioUnitario - item.product.precioEspecial\r\n              const tieneDescuento = (item.product as any).tieneDescuento || false\r\n              const puedeAplicarMinimo = hayDiferencia && !tieneDescuento\r\n\r\n              return (\r\n                <div\r\n                  key={item.product.id}\r\n                  className=\"flex items-start gap-3 p-4 border rounded-lg hover:bg-secondary/50 transition-colors\"\r\n                >\r\n                  <Checkbox\r\n                    id={`precio-${item.product.id}`}\r\n                    checked={aplicarMinimo}\r\n                    onCheckedChange={() => toggleAjuste(item.product.id)}\r\n                    disabled={!puedeAplicarMinimo}\r\n                    className=\"mt-1\"\r\n                  />\r\n                  <div className=\"flex-1 space-y-2\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div>\r\n                        <label\r\n                          htmlFor={`precio-${item.product.id}`}\r\n                          className=\"font-medium cursor-pointer\"\r\n                        >\r\n                          {item.product.nombre}\r\n                        </label>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                          Cantidad: {item.cantidad} unidad{item.cantidad > 1 ? 'es' : ''}\r\n                        </p>\r\n                      </div>\r\n                      {aplicarMinimo && (\r\n                        <Badge variant=\"destructive\" className=\"ml-2\">\r\n                          Precio mínimo aplicado\r\n                        </Badge>\r\n                      )}\r\n                      {tieneDescuento && (\r\n                        <Badge variant=\"secondary\" className=\"ml-2\">\r\n                          Descuento activo\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Precio actual:</span>\r\n                        <p className={aplicarMinimo ? 'line-through text-muted-foreground' : 'font-semibold'}>\r\n                          ${formatCurrency(item.precioUnitario)}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"text-muted-foreground\">Precio mínimo:</span>\r\n                        <p className={aplicarMinimo ? 'font-bold text-[#D4AF37]' : 'text-muted-foreground'}>\r\n                          ${formatCurrency(item.product.precioEspecial)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"pt-2 border-t\">\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm text-muted-foreground\">Subtotal:</span>\r\n                        <span className=\"font-bold text-lg\">\r\n                          ${formatCurrency(subtotalActual)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </ScrollArea>\r\n\r\n        <div className=\"space-y-3 pt-4 border-t\">\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-muted-foreground\">Total original:</span>\r\n            <span className={descuentoTotal > 0 ? 'line-through text-muted-foreground' : 'font-semibold'}>\r\n              ${formatCurrency(totalOriginal)}\r\n            </span>\r\n          </div>\r\n\r\n          {descuentoTotal > 0 && (\r\n            <>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-muted-foreground\">Descuento aplicado:</span>\r\n                <span className=\"text-green-600 font-medium\">-${formatCurrency(descuentoTotal)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center text-lg pt-2 border-t\">\r\n                <span className=\"font-bold\">Total con ajustes:</span>\r\n                <span className=\"font-bold text-2xl text-primary\">${formatCurrency(totalAjustado)}</span>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {descuentoTotal === 0 && (\r\n            <div className=\"flex justify-between items-center text-lg pt-2 border-t\">\r\n              <span className=\"font-bold\">Total:</span>\r\n              <span className=\"font-bold text-2xl text-primary\">${formatCurrency(totalAjustado)}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex justify-end gap-3 pt-4\">\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={handleConfirmar}>\r\n            Continuar al Cobro\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('UserPlus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserPlus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Repeat\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTcgMiA0IDQtNCA0IiAvPgogIDxwYXRoIGQ9Ik0zIDExdi0xYTQgNCAwIDAgMSA0LTRoMTQiIC8+CiAgPHBhdGggZD0ibTcgMjItNC00IDQtNCIgLz4KICA8cGF0aCBkPSJNMjEgMTN2MWE0IDQgMCAwIDEtNCA0SDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/repeat\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Repeat = createLucideIcon('Repeat', [\n  ['path', { d: 'm17 2 4 4-4 4', key: 'nntrym' }],\n  ['path', { d: 'M3 11v-1a4 4 0 0 1 4-4h14', key: '84bu3i' }],\n  ['path', { d: 'm7 22-4-4 4-4', key: '1wqhfi' }],\n  ['path', { d: 'M21 13v1a4 4 0 0 1-4 4H3', key: '1rx37r' }],\n]);\n\nexport default Repeat;\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n  preventScrollOnEntryFocus?: boolean;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    preventScrollOnEntryFocus = false,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes, preventScrollOnEntryFocus);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends PrimitiveSpanProps {\n  tabStopId?: string;\n  focusable?: boolean;\n  active?: boolean;\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        />\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[], preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus({ preventScroll });\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n","import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Checkbox\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_NAME = 'Checkbox';\n\ntype ScopedProps<P> = P & { __scopeCheckbox?: Scope };\nconst [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\n\ntype CheckedState = boolean | 'indeterminate';\n\ntype CheckboxContextValue = {\n  state: CheckedState;\n  disabled?: boolean;\n};\n\nconst [CheckboxProvider, useCheckboxContext] =\n  createCheckboxContext<CheckboxContextValue>(CHECKBOX_NAME);\n\ntype CheckboxElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface CheckboxProps extends Omit<PrimitiveButtonProps, 'checked' | 'defaultChecked'> {\n  checked?: CheckedState;\n  defaultChecked?: CheckedState;\n  required?: boolean;\n  onCheckedChange?(checked: CheckedState): void;\n}\n\nconst Checkbox = React.forwardRef<CheckboxElement, CheckboxProps>(\n  (props: ScopedProps<CheckboxProps>, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = 'on',\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    const [button, setButton] = React.useState<HTMLButtonElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? form || !!button.closest('form') : true;\n    const [checked = false, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked,\n      onChange: onCheckedChange,\n    });\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = button?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener('reset', reset);\n        return () => form.removeEventListener('reset', reset);\n      }\n    }, [button, setChecked]);\n\n    return (\n      <CheckboxProvider scope={__scopeCheckbox} state={checked} disabled={disabled}>\n        <Primitive.button\n          type=\"button\"\n          role=\"checkbox\"\n          aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n          aria-required={required}\n          data-state={getState(checked)}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          value={value}\n          {...checkboxProps}\n          ref={composedRefs}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            // According to WAI ARIA, Checkboxes don't activate on enter keypress\n            if (event.key === 'Enter') event.preventDefault();\n          })}\n          onClick={composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => (isIndeterminate(prevChecked) ? true : !prevChecked));\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              // if checkbox is in a form, stop propagation from the button so that we only propagate\n              // one click event (from the input). We propagate changes from an input so that native\n              // form validation works and form events reflect checkbox updates.\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })}\n        />\n        {isFormControl && (\n          <BubbleInput\n            control={button}\n            bubbles={!hasConsumerStoppedPropagationRef.current}\n            name={name}\n            value={value}\n            checked={checked}\n            required={required}\n            disabled={disabled}\n            form={form}\n            // We transform because the input is absolutely positioned but we have\n            // rendered it **after** the button. This pulls it back to sit on top\n            // of the button.\n            style={{ transform: 'translateX(-100%)' }}\n            defaultChecked={isIndeterminate(defaultChecked) ? false : defaultChecked}\n          />\n        )}\n      </CheckboxProvider>\n    );\n  }\n);\n\nCheckbox.displayName = CHECKBOX_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CheckboxIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'CheckboxIndicator';\n\ntype CheckboxIndicatorElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface CheckboxIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst CheckboxIndicator = React.forwardRef<CheckboxIndicatorElement, CheckboxIndicatorProps>(\n  (props: ScopedProps<CheckboxIndicatorProps>, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return (\n      <Presence present={forceMount || isIndeterminate(context.state) || context.state === true}>\n        <Primitive.span\n          data-state={getState(context.state)}\n          data-disabled={context.disabled ? '' : undefined}\n          {...indicatorProps}\n          ref={forwardedRef}\n          style={{ pointerEvents: 'none', ...props.style }}\n        />\n      </Presence>\n    );\n  }\n);\n\nCheckboxIndicator.displayName = INDICATOR_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype InputProps = React.ComponentPropsWithoutRef<'input'>;\ninterface BubbleInputProps extends Omit<InputProps, 'checked'> {\n  checked: CheckedState;\n  control: HTMLElement | null;\n  bubbles: boolean;\n}\n\nconst BubbleInput = (props: BubbleInputProps) => {\n  const { control, checked, bubbles = true, defaultChecked, ...inputProps } = props;\n  const ref = React.useRef<HTMLInputElement>(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n\n  // Bubble checked change to parents (e.g form change event)\n  React.useEffect(() => {\n    const input = ref.current!;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'checked') as PropertyDescriptor;\n    const setChecked = descriptor.set;\n\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event('click', { bubbles });\n      input.indeterminate = isIndeterminate(checked);\n      setChecked.call(input, isIndeterminate(checked) ? false : checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n\n  const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n  return (\n    <input\n      type=\"checkbox\"\n      aria-hidden\n      defaultChecked={defaultChecked ?? defaultCheckedRef.current}\n      {...inputProps}\n      tabIndex={-1}\n      ref={ref}\n      style={{\n        ...props.style,\n        ...controlSize,\n        position: 'absolute',\n        pointerEvents: 'none',\n        opacity: 0,\n        margin: 0,\n      }}\n    />\n  );\n};\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nconst Root = Checkbox;\nconst Indicator = CheckboxIndicator;\n\nexport {\n  createCheckboxScope,\n  //\n  Checkbox,\n  CheckboxIndicator,\n  //\n  Root,\n  Indicator,\n};\nexport type { CheckboxProps, CheckboxIndicatorProps, CheckedState };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Tabs\n * -----------------------------------------------------------------------------------------------*/\n\nconst TABS_NAME = 'Tabs';\n\ntype ScopedProps<P> = P & { __scopeTabs?: Scope };\nconst [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype TabsContextValue = {\n  baseId: string;\n  value?: string;\n  onValueChange: (value: string) => void;\n  orientation?: TabsProps['orientation'];\n  dir?: TabsProps['dir'];\n  activationMode?: TabsProps['activationMode'];\n};\n\nconst [TabsProvider, useTabsContext] = createTabsContext<TabsContextValue>(TABS_NAME);\n\ntype TabsElement = React.ElementRef<typeof Primitive.div>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface TabsProps extends PrimitiveDivProps {\n  /** The value for the selected tab, if controlled */\n  value?: string;\n  /** The value of the tab to select by default, if uncontrolled */\n  defaultValue?: string;\n  /** A function called when a new tab is selected */\n  onValueChange?: (value: string) => void;\n  /**\n   * The orientation the tabs are layed out.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   * @defaultValue horizontal\n   */\n  orientation?: RovingFocusGroupProps['orientation'];\n  /**\n   * The direction of navigation between toolbar items.\n   */\n  dir?: RovingFocusGroupProps['dir'];\n  /**\n   * Whether a tab is activated automatically or manually.\n   * @defaultValue automatic\n   * */\n  activationMode?: 'automatic' | 'manual';\n}\n\nconst Tabs = React.forwardRef<TabsElement, TabsProps>(\n  (props: ScopedProps<TabsProps>, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = 'horizontal',\n      dir,\n      activationMode = 'automatic',\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue,\n    });\n\n    return (\n      <TabsProvider\n        scope={__scopeTabs}\n        baseId={useId()}\n        value={value}\n        onValueChange={setValue}\n        orientation={orientation}\n        dir={direction}\n        activationMode={activationMode}\n      >\n        <Primitive.div\n          dir={direction}\n          data-orientation={orientation}\n          {...tabsProps}\n          ref={forwardedRef}\n        />\n      </TabsProvider>\n    );\n  }\n);\n\nTabs.displayName = TABS_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsList\n * -----------------------------------------------------------------------------------------------*/\n\nconst TAB_LIST_NAME = 'TabsList';\n\ntype TabsListElement = React.ElementRef<typeof Primitive.div>;\ninterface TabsListProps extends PrimitiveDivProps {\n  loop?: RovingFocusGroupProps['loop'];\n}\n\nconst TabsList = React.forwardRef<TabsListElement, TabsListProps>(\n  (props: ScopedProps<TabsListProps>, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return (\n      <RovingFocusGroup.Root\n        asChild\n        {...rovingFocusGroupScope}\n        orientation={context.orientation}\n        dir={context.dir}\n        loop={loop}\n      >\n        <Primitive.div\n          role=\"tablist\"\n          aria-orientation={context.orientation}\n          {...listProps}\n          ref={forwardedRef}\n        />\n      </RovingFocusGroup.Root>\n    );\n  }\n);\n\nTabsList.displayName = TAB_LIST_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'TabsTrigger';\n\ntype TabsTriggerElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface TabsTriggerProps extends PrimitiveButtonProps {\n  value: string;\n}\n\nconst TabsTrigger = React.forwardRef<TabsTriggerElement, TabsTriggerProps>(\n  (props: ScopedProps<TabsTriggerProps>, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={isSelected}\n      >\n        <Primitive.button\n          type=\"button\"\n          role=\"tab\"\n          aria-selected={isSelected}\n          aria-controls={contentId}\n          data-state={isSelected ? 'active' : 'inactive'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          id={triggerId}\n          {...triggerProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onValueChange(value);\n            } else {\n              // prevent focus to avoid accidental activation\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if ([' ', 'Enter'].includes(event.key)) context.onValueChange(value);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => {\n            // handle \"automatic\" activation if necessary\n            // ie. activate tab following focus\n            const isAutomaticActivation = context.activationMode !== 'manual';\n            if (!isSelected && !disabled && isAutomaticActivation) {\n              context.onValueChange(value);\n            }\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nTabsTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * TabsContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'TabsContent';\n\ntype TabsContentElement = React.ElementRef<typeof Primitive.div>;\ninterface TabsContentProps extends PrimitiveDivProps {\n  value: string;\n\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst TabsContent = React.forwardRef<TabsContentElement, TabsContentProps>(\n  (props: ScopedProps<TabsContentProps>, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => (isMountAnimationPreventedRef.current = false));\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n\n    return (\n      <Presence present={forceMount || isSelected}>\n        {({ present }) => (\n          <Primitive.div\n            data-state={isSelected ? 'active' : 'inactive'}\n            data-orientation={context.orientation}\n            role=\"tabpanel\"\n            aria-labelledby={triggerId}\n            hidden={!present}\n            id={contentId}\n            tabIndex={0}\n            {...contentProps}\n            ref={forwardedRef}\n            style={{\n              ...props.style,\n              animationDuration: isMountAnimationPreventedRef.current ? '0s' : undefined,\n            }}\n          >\n            {present && children}\n          </Primitive.div>\n        )}\n      </Presence>\n    );\n  }\n);\n\nTabsContent.displayName = CONTENT_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nfunction makeTriggerId(baseId: string, value: string) {\n  return `${baseId}-trigger-${value}`;\n}\n\nfunction makeContentId(baseId: string, value: string) {\n  return `${baseId}-content-${value}`;\n}\n\nconst Root = Tabs;\nconst List = TabsList;\nconst Trigger = TabsTrigger;\nconst Content = TabsContent;\n\nexport {\n  createTabsScope,\n  //\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n  //\n  Root,\n  List,\n  Trigger,\n  Content,\n};\nexport type { TabsProps, TabsListProps, TabsTriggerProps, TabsContentProps };\n"],"names":[],"mappings":"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","ignoreList":[3,4,7,10,11,12,13,14]}